<?php/* Copyright (c) 1998-2013 ILIAS open source, Extended GPL, see docs/LICENSE *//*** GUI class ilSCORMOfflineModeGUI** GUI class for scorm offline player connection** @author Uwe Kohnle <kohnle@internetlehrer-gmbh.de>* @version $Id: class.ilSCORMOfflineModeGUI.php  $***/class ilSCORMOfflineModeGUI{	function ilSCORMOfflineModeGUI($type) {		global $ilias, $tpl, $lng, $ilCtrl;		$this->ilias =& $ilias;		$this->tpl =& $tpl;		$this->lng =& $lng;		$this->ctrl =& $ilCtrl;				$this->ctrl->saveParameter($this, "ref_id");	}	function executeCommand()	{		global $tpl, $ilCtrl;		$lmId = ilObject::_lookupObjectId($_GET["ref_id"]);		$cmd = $ilCtrl->getCmd();		if ($cmd=="offlineModeStartGetContent") {			ilUtil::deliverFile(ilUtil::getDataDir()."/lm_data/lm_".$lmId.".zip","lm_".$lmId.".zip");		}		else {			// Fill meta header tags			$tpl->setCurrentBlock('mh_meta_item');			$tpl->setVariable('MH_META_NAME','require-sop-version');			$tpl->setVariable('MH_META_CONTENT',"0.1");	//		$tpl->addJavascript('./Modules/ScormAicc/scripts/sopConnector.js');			$tpl->addBlockFile("ADM_CONTENT", "adm_content", "tpl.scorm_offline_mode.html", "Modules/ScormAicc");			$tpl->setVariable("CHECKING_SOPCONNECTOR","checking_sopConnector");			$tpl->setVariable("CLIENT_ID",CLIENT_ID);			$tpl->setVariable("REF_ID",$_GET['ref_id']);			$tpl->setVariable("LM_ID",$lmId);			$tpl->parseCurrentBlock();		}	}    }?>