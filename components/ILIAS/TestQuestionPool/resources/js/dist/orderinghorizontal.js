/**
 * This file is part of ILIAS, a powerful learning management system
 * published by ILIAS open source e-Learning e.V.
 *
 * ILIAS is licensed with the GPL-3.0,
 * see https://www.gnu.org/licenses/gpl-3.0.en.html
 * You should have received a copy of said license along with the
 * source code, too.
 *
 * If this is not the case or you just want to try ILIAS, you'll find
 * us at:
 * https://www.ilias.de
 * https://github.com/ILIAS-eLearning
 */
!function(e){"use strict";const t="{::}",n="answers",o="c-test__dropzone";let r;function s(){const e=[],s=r.querySelector(`.${o}`);r.querySelectorAll(`.${n}`).forEach((e=>{e.previousElementSibling?.classList.contains(o)||e.parentNode.insertBefore(s.cloneNode(),e),e.nextElementSibling?.classList.contains(o)||e.parentNode.insertBefore(s.cloneNode(),e.nextElementSibling)})),r.querySelectorAll(`.${o} + .${o}`).forEach((e=>{e.remove()})),r.querySelectorAll(`.${n} > div > span`).forEach((t=>{e.push(t.textContent)})),r.nextElementSibling.value=e.join(t)}function i(e,t){r=e,function(){const e=r.querySelectorAll(`.${n}`);let t=0;e.forEach((e=>{t+=e.offsetWidth})),r.querySelectorAll(`.${o}`).forEach((n=>{n.style.width=t/e.length+"px",n.style.height=`${e.item(0).offsetHeight}px`}))}(),t(r,n,o,s)}const l="c-test__dropzone--active",c="c-test__dropzone--hover";let a,d,f,u,v,g,h;function p(e){E(e.target),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(v,0,0)}function m(e){e.preventDefault(),E(e.target.closest(`.${d}`)),g=v.cloneNode(!0),v.parentNode.insertBefore(g,v),v.style.position="fixed",v.style.left=e.touches[0].clientX-v.offsetWidth/2+"px",v.style.top=e.touches[0].clientY-v.offsetHeight/2+"px",v.addEventListener("touchmove",L),v.addEventListener("touchend",q)}function E(e){v=e,v.style.opacity=.5,v.previousElementSibling?.classList.contains(f)&&v.previousElementSibling.remove(),v.nextElementSibling?.classList.contains(f)&&v.nextElementSibling.remove(),a.querySelectorAll(`.${f}`).forEach((e=>{e.classList.add(l)}))}function L(e){e.preventDefault(),v.style.left=e.touches[0].clientX-v.offsetWidth/2+"px",v.style.top=e.touches[0].clientY-v.offsetHeight/2+"px";const t=a.ownerDocument.elementsFromPoint(e.changedTouches[0].pageX,e.changedTouches[0].pageY).filter((e=>e.classList.contains(f)));0===t.length&&void 0!==h&&(h.classList.remove(c),h=void 0),1===t.length&&h!==t[0]&&(void 0!==h&&h.classList.remove(c),[h]=t,h.classList.add(c))}function y(e){e.preventDefault()}function S(e){e.target.classList.add(c)}function x(e){e.target.classList.remove(c)}function $(){v.removeAttribute("style"),a.querySelectorAll(`.${f}`).forEach((e=>{e.classList.remove(l),e.classList.remove(c),D(e)}))}function A(e){e.preventDefault(),b(e.target)}function q(e){e.preventDefault();const t=a.ownerDocument.elementsFromPoint(e.changedTouches[0].pageX,e.changedTouches[0].pageY).filter((e=>e.classList.contains(f)));$(),g.remove(),1===t.length&&b(t[0])}function b(e){e.parentNode.insertBefore(v,e),u()}function D(e){e.removeEventListener("dragover",y),e.removeEventListener("dragenter",S),e.removeEventListener("dragleave",x),e.removeEventListener("drop",A),e.addEventListener("dragover",y),e.addEventListener("dragenter",S),e.addEventListener("dragleave",x),e.addEventListener("drop",A)}function N(e,t,n,o){a=e,d=t,f=n,u=o,a.querySelectorAll(`.${d}`).forEach((e=>{e.addEventListener("dragstart",p),e.addEventListener("dragend",$),e.addEventListener("touchstart",m)})),a.querySelectorAll(`.${f}`).forEach(D)}e.test=e.test||{},e.test.orderinghorizontal=e.test.orderinghorizontal||{},e.test.orderinghorizontal.init=e=>i(e,N)}(il);
