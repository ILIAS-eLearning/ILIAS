{"version":3,"sources":["compression/packbits.js"],"names":["BaseDecoder","PackbitsDecoder","buffer","dataView","DataView","out","i","byteLength","header","getInt8","next","getUint8","j","push","Uint8Array"],"mappings":";AAE6CA,aAAAA,OAAAA,eAAAA,QAAAA,aAAAA,CAAAA,OAAAA,IAAAA,QAAAA,aAAAA,EAAAA,IAAAA,EAAAA,EAAAA,QAAAA,0CAAAA,EAAAA,EAAAA,QAAAA,uCAAAA,EAAAA,EAAAA,QAAAA,oCAAAA,EAAAA,EAAAA,QAAAA,qDAAAA,EAAAA,EAAAA,QAAAA,0CAF7C,EAAA,EAAA,QAAA,kBAE6CA,SAAAA,EAAAA,GAAAA,OAAAA,GAAAA,EAAAA,WAAAA,EAAAA,CAAAA,QAAAA,GAAAA,SAAAA,EAAAA,GAAAA,IAAAA,EAAAA,IAAAA,OAAAA,WAAAA,IAAAA,EAAAA,GAAAA,EAAAA,EAAAA,SAAAA,GAAAA,GAAAA,EAAAA,CAAAA,IAAAA,GAAAA,EAAAA,EAAAA,SAAAA,MAAAA,YAAAA,EAAAA,QAAAA,UAAAA,EAAAA,UAAAA,QAAAA,EAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,EAAAA,EAAAA,SAAAA,KAAAA,IAAAA,SAAAA,IAAAA,GAAAA,oBAAAA,UAAAA,QAAAA,UAAAA,OAAAA,EAAAA,GAAAA,QAAAA,UAAAA,KAAAA,OAAAA,EAAAA,GAAAA,mBAAAA,MAAAA,OAAAA,EAAAA,IAAAA,OAAAA,QAAAA,UAAAA,QAAAA,KAAAA,QAAAA,UAAAA,QAAAA,GAAAA,gBAAAA,EAAAA,MAAAA,GAAAA,OAAAA,GAAxBC,IAAAA,EAAAA,SAAAA,IAAwBD,EAAAA,EAAAA,SAAAA,EAAAA,GAAAA,IAAAA,EAAAA,EAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,SAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,WAAAA,OAAAA,EAAAA,EAAAA,SAAAA,EAAAA,CAAAA,CAAAA,IAAAA,cAC3C,MAAA,SAAYE,GAIL,IAHCC,IAAAA,EAAW,IAAIC,SAASF,GACxBG,EAAM,GAEHC,EAAI,EAAGA,EAAIJ,EAAOK,aAAcD,EAAG,CACtCE,IAAAA,EAASL,EAASM,QAAQH,GAC1BE,GAAAA,EAAS,EAAG,CACRE,IAAAA,EAAOP,EAASQ,SAASL,EAAI,GACnCE,GAAUA,EACL,IAAA,IAAII,EAAI,EAAGA,GAAKJ,IAAUI,EAC7BP,EAAIQ,KAAKH,GAEXJ,GAAK,MACA,CACA,IAAA,IAAIM,EAAI,EAAGA,GAAKJ,IAAUI,EAC7BP,EAAIQ,KAAKV,EAASQ,SAASL,EAAIM,EAAI,IAErCN,GAAKE,EAAS,GAGX,OAAA,IAAIM,WAAWT,GAAKH,WArBcF,EAAxBC,CAAwBD,EAAAA,SAAAA,QAAAA,QAAAA","file":"packbits.727bde9a.js","sourceRoot":"../src","sourcesContent":["import BaseDecoder from './basedecoder';\n\nexport default class PackbitsDecoder extends BaseDecoder {\n  decodeBlock(buffer) {\n    const dataView = new DataView(buffer);\n    const out = [];\n\n    for (let i = 0; i < buffer.byteLength; ++i) {\n      let header = dataView.getInt8(i);\n      if (header < 0) {\n        const next = dataView.getUint8(i + 1);\n        header = -header;\n        for (let j = 0; j <= header; ++j) {\n          out.push(next);\n        }\n        i += 1;\n      } else {\n        for (let j = 0; j <= header; ++j) {\n          out.push(dataView.getUint8(i + j + 1));\n        }\n        i += header + 1;\n      }\n    }\n    return new Uint8Array(out).buffer;\n  }\n}\n"]}