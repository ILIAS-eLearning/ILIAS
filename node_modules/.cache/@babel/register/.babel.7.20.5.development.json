{"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/filter.test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[],\"presets\":[]}:7.20.5:development":{"value":{"code":"import { expect } from 'chai';\nimport filter from '../src/filter.main.js';\ndescribe('filter components are there', function () {\n  it('filter', function () {\n    expect(filter).to.not.be.undefined;\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBlY3QiLCJmaWx0ZXIiLCJkZXNjcmliZSIsIml0IiwidG8iLCJub3QiLCJiZSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9JbnB1dC9Db250YWluZXIvdGVzdC8iLCJzb3VyY2VzIjpbImZpbHRlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4cGVjdCB9IGZyb20gJ2NoYWknO1xuXG5pbXBvcnQgZmlsdGVyICBmcm9tICcuLi9zcmMvZmlsdGVyLm1haW4uanMnO1xuXG5cbmRlc2NyaWJlKCdmaWx0ZXIgY29tcG9uZW50cyBhcmUgdGhlcmUnLCBmdW5jdGlvbigpIHtcbiAgaXQoJ2ZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChmaWx0ZXIpLnRvLm5vdC5iZS51bmRlZmluZWQ7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxNQUFNLFFBQVEsTUFBTTtBQUU3QixPQUFPQyxNQUFNLE1BQU8sdUJBQXVCO0FBRzNDQyxRQUFRLENBQUMsNkJBQTZCLEVBQUUsWUFBVztFQUNqREMsRUFBRSxDQUFDLFFBQVEsRUFBRSxZQUFXO0lBQ3RCSCxNQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDRyxFQUFFLENBQUNDLEdBQUcsQ0FBQ0MsRUFBRSxDQUFDQyxTQUFTO0VBQ3BDLENBQUMsQ0FBQztBQUNKLENBQUMsQ0FBQyJ9","map":{"version":3,"names":["expect","filter","describe","it","to","not","be","undefined"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/","sources":["filter.test.js"],"sourcesContent":["import { expect } from 'chai';\n\nimport filter  from '../src/filter.main.js';\n\n\ndescribe('filter components are there', function() {\n  it('filter', function() {\n    expect(filter).to.not.be.undefined;\n  });\n});"],"mappings":"AAAA,SAASA,MAAM,QAAQ,MAAM;AAE7B,OAAOC,MAAM,MAAO,uBAAuB;AAG3CC,QAAQ,CAAC,6BAA6B,EAAE,YAAW;EACjDC,EAAE,CAAC,QAAQ,EAAE,YAAW;IACtBH,MAAM,CAACC,MAAM,CAAC,CAACG,EAAE,CAACC,GAAG,CAACC,EAAE,CAACC,SAAS;EACpC,CAAC,CAAC;AACJ,CAAC,CAAC"}},"mtime":1671033224926},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/filter.test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\nvar _filterMain = _interopRequireDefault(require(\"../src/filter.main.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\ndescribe('filter components are there', function () {\n  it('filter', function () {\n    (0, _chai.expect)(_filterMain[\"default\"]).to.not.be.undefined;\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwiZmlsdGVyIiwidG8iLCJub3QiLCJiZSIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9JbnB1dC9Db250YWluZXIvdGVzdC8iLCJzb3VyY2VzIjpbImZpbHRlci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGV4cGVjdCB9IGZyb20gJ2NoYWknO1xuXG5pbXBvcnQgZmlsdGVyICBmcm9tICcuLi9zcmMvZmlsdGVyLm1haW4uanMnO1xuXG5cbmRlc2NyaWJlKCdmaWx0ZXIgY29tcG9uZW50cyBhcmUgdGhlcmUnLCBmdW5jdGlvbigpIHtcbiAgaXQoJ2ZpbHRlcicsIGZ1bmN0aW9uKCkge1xuICAgIGV4cGVjdChmaWx0ZXIpLnRvLm5vdC5iZS51bmRlZmluZWQ7XG4gIH0pO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBO0FBRUE7QUFBNEM7QUFHNUNBLFFBQVEsQ0FBQyw2QkFBNkIsRUFBRSxZQUFXO0VBQ2pEQyxFQUFFLENBQUMsUUFBUSxFQUFFLFlBQVc7SUFDdEIsSUFBQUMsWUFBTSxFQUFDQyxzQkFBTSxDQUFDLENBQUNDLEVBQUUsQ0FBQ0MsR0FBRyxDQUFDQyxFQUFFLENBQUNDLFNBQVM7RUFDcEMsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["describe","it","expect","filter","to","not","be","undefined"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/test/","sources":["filter.test.js"],"sourcesContent":["import { expect } from 'chai';\n\nimport filter  from '../src/filter.main.js';\n\n\ndescribe('filter components are there', function() {\n  it('filter', function() {\n    expect(filter).to.not.be.undefined;\n  });\n});"],"mappings":";;AAAA;AAEA;AAA4C;AAG5CA,QAAQ,CAAC,6BAA6B,EAAE,YAAW;EACjDC,EAAE,CAAC,QAAQ,EAAE,YAAW;IACtB,IAAAC,YAAM,EAACC,sBAAM,CAAC,CAACC,EAAE,CAACC,GAAG,CAACC,EAAE,CAACC,SAAS;EACpC,CAAC,CAAC;AACJ,CAAC,CAAC"}},"mtime":1671033224926},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/src/filter.main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar filter = function filter($) {\n  //Init the Filter\n  var init = function init() {\n    $(\"div.il-filter\").each(function () {\n      var $filter = this;\n      var cnt_hid = 0;\n      var cnt_bar = 1;\n\n      //Filter fields (hide hidden stuff)\n      $($filter).find(\".il-filter-field-status\").each(function () {\n        $hidden_input = this;\n        if ($($hidden_input).val() === \"0\") {\n          $($(\"div.il-filter .il-popover-container\")[cnt_hid]).hide();\n        } else {\n          $($(\"div.il-filter .il-filter-add-list li\")[cnt_hid]).hide();\n        }\n        cnt_hid++;\n      });\n      $(\".il-filter-bar-opener\").find(\"button:first\").hide();\n      $(\".il-filter-bar-opener button\").click(function () {\n        $(\".il-filter-bar-opener button\").toggle();\n        if ($(this).attr(\"aria-expanded\") == \"false\") {\n          $(this).attr(\"aria-expanded\", \"true\");\n        } else {\n          $(this).attr(\"aria-expanded\", \"false\");\n        }\n      });\n\n      //Show labels and values in Filter Bar\n      var rendered_active_inputs = false;\n      $($filter).find(\".il-popover-container\").each(function () {\n        var input_element = $(this).find(\":input:not(:button)\");\n        var value = input_element.val();\n        var label = $(this).find(\".leftaddon\").text();\n        var presented_value = getPresentedValueForInput(input_element, value);\n        if (presented_value !== \"\") {\n          $(\".il-filter-inputs-active\").find(\"span[id='\" + cnt_bar + \"']\").html(label + \": \" + presented_value);\n          rendered_active_inputs = true;\n        } else {\n          //Do not show Input if it has no applied value\n          $(\".il-filter-inputs-active\").find(\"span[id='\" + cnt_bar + \"']\").hide();\n        }\n        cnt_bar++;\n      });\n      //Hide Filter Content Area completely if there are no active inputs\n      if (!rendered_active_inputs) {\n        $(\".il-filter-inputs-active\").hide();\n      }\n\n      //Popover of Add-Button always at the bottom\n      $('.input-group .btn.btn-bulky').attr('data-placement', 'bottom');\n\n      //Hide Add-Button when all Input Fields are shown in the Filter at the beginning\n      var addable_inputs = $(\".il-popover-container:hidden\").length;\n      if (addable_inputs === 0) {\n        $(\".btn-bulky\").parents(\".il-popover-container\").hide();\n      }\n\n      //Accessibility for complex Input Fields\n      $(\".il-filter-field\").keydown(function (event) {\n        var key = event.which;\n        //Imitate a click on the Input Field in the Fiter and focus on the Input Element in the Popover\n        if (key === 13 || key === 32) {\n          // 13 = Return, 32 = Space\n          $(this).click();\n          //Focus on the first checkbox in the Multi Select Input Element in the Popover\n          var checkboxes = searchInputElementMultiSelect($(this));\n          if (checkboxes.length != 0) {\n            checkboxes[0].focus();\n          }\n          event.preventDefault();\n        }\n      });\n    });\n  };\n  $(init);\n\n  /**\n   * Get label and value for inputs which are shown in Filter Bar\n   * @param input_element\n   * @param value\n   * @param label\n   * @returns {string}\n   */\n  var getPresentedValueForInput = function getPresentedValueForInput(input_element, value) {\n    var presented_value = \"\";\n\n    //Handle value for Multi Select Input\n    if (input_element.is(\":checkbox\")) {\n      var options = [];\n      input_element.each(function () {\n        if ($(this).prop('checked')) {\n          options.push($(this).parent().find('span').text());\n        }\n      });\n      if (options.length != 0) {\n        active_checkboxes = options.join(', ');\n        presented_value = active_checkboxes;\n      }\n    }\n    //Handle value for Select Input\n    else if (input_element.is(\"select\") && value !== \"\") {\n      var selected_option = input_element.find(\"option:selected\").text();\n      presented_value = selected_option;\n    }\n    //Handle value for all other Inputs\n    else if (value !== undefined && value !== \"\") {\n      presented_value = value;\n    }\n    return presented_value;\n  };\n\n  /**\n   * Store filter status (hidden or shown) in hidden input fields\n   * @param $el\n   * @param index\n   * @param val\n   */\n  var storeFilterStatus = function storeFilterStatus($el, index, val) {\n    $($el.parents(\".il-filter\").find(\".il-filter-field-status\").get(index)).val(val);\n  };\n\n  /**\n   * Create hidden inputs for GET-request and insert them into the DOM\n   * @param $el\n   * @param url_params\n   */\n  var createHiddenInputs = function createHiddenInputs($el, url_params) {\n    for (var param in url_params) {\n      var input = \"<input type=\\\"hidden\\\" name=\\\"\" + param + \"\\\" value=\\\"\" + url_params[param] + \"\\\">\";\n      $el.parents('form').find('.il-filter-bar').before(input);\n    }\n  };\n\n  /**\n   * Search for the Label of the Input which should be added to the Filter\n   * @param $el\n   * @param label\n   */\n  var searchInputLabel = function searchInputLabel($el, label) {\n    var input_label = $el.parents(\".il-standard-form\").find(\".input-group-addon.leftaddon\").filter(function () {\n      return $(this).text() === label;\n    });\n    return input_label;\n  };\n\n  /**\n   * Search for the given Input Element\n   * @param $el\n   */\n  var searchInputElement = function searchInputElement($el) {\n    var input_element = $el.parents(\".il-popover-container\").find(\":input\");\n    return input_element;\n  };\n\n  /**\n   * Search for the checkboxes in the given Multi Select Input Element (in the Popover)\n   * @param $el\n   */\n  var searchInputElementMultiSelect = function searchInputElementMultiSelect($el) {\n    var checkboxes = $el.parents(\".il-popover-container\").find(\".il-standard-popover-content\").children().children().find(\"input\");\n    return checkboxes;\n  };\n\n  /**\n   * Search for the Input Field which should be added to the Add-Button\n   * @param $el\n   * @param label\n   */\n  var searchInputField = function searchInputField($el, label) {\n    var input_field = $el.parents(\".il-standard-form\").find(\".btn-link\").filter(function () {\n      return $(this).text() === label;\n    }).parents(\"li\");\n    return input_field;\n  };\n\n  /**\n   * Search for the Add-Button in the Filter\n   * @param $el\n   */\n  var searchAddButton = function searchAddButton($el) {\n    var add_button = $el.parents(\".il-standard-form\").find(\".btn-bulky\").parents(\".il-popover-container\");\n    return add_button;\n  };\n\n  /**\n   *\n   * @param event\n   * @param signalData\n   */\n  var onInputUpdate = function onInputUpdate(event, signalData) {\n    var outputSpan;\n    var $el = $(signalData.triggerer[0]);\n    var pop_id = $el.parents(\".il-popover\").attr(\"id\");\n    if (pop_id) {\n      // we have an already opened popover\n      outputSpan = document.querySelector(\"span[data-target='\" + pop_id + \"']\");\n    } else {\n      // no popover yet, we are still in the same input group and search for the il-filter-field span\n      outputSpan = signalData.triggerer[0].closest(\".input-group\").querySelector(\"span.il-filter-field\");\n    }\n    if (outputSpan) {\n      outputSpan.innerText = signalData.options.string_value;\n    }\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   */\n  var onRemoveClick = function onRemoveClick(event, id) {\n    var $el = $(\"#\" + id);\n\n    // Store show/hide status in hidden status inputs\n    var index = $el.parents(\".il-popover-container\").index();\n    storeFilterStatus($el, index, \"0\");\n\n    //Remove Input Field from Filter\n    $el.parents(\".il-popover-container\").hide();\n\n    //Clear Input Field (Text, Numeric, Select) when it is removed\n    var input_element = searchInputElement($el);\n    input_element.val(\"\");\n\n    //Clear Multi Select Input Field when it is removed\n    var checkboxes = searchInputElementMultiSelect($el);\n    checkboxes.each(function () {\n      $(this).prop(\"checked\", false);\n    });\n    checkboxes.parents(\".il-popover-container\").find(\".il-filter-field\").html(\"\");\n\n    //Add Input Field to Add-Button\n    var label = $el.parents(\".input-group\").find(\".input-group-addon.leftaddon\").html();\n    var input_field = searchInputField($el, label);\n    input_field.show();\n\n    //Show Add-Button when not all Input Fields are shown in the Filter\n    var add_button = searchAddButton($el);\n    var addable_inputs = $el.parents(\".il-standard-form\").find(\".il-popover-container:hidden\").length;\n    if (addable_inputs != 0) {\n      add_button.show();\n    }\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   */\n  var onAddClick = function onAddClick(event, id) {\n    var $el = $(\"#\" + id);\n    var label = $el.text();\n\n    //Remove Input Field from Add-Button\n    $el.parent().hide();\n\n    // Store show/hide status in hidden status inputs\n    var index = $el.parent().index();\n    storeFilterStatus($el, index, \"1\");\n\n    // Add Input Field to Filter\n    var input_label = searchInputLabel($el, label);\n    input_label.parents(\".il-popover-container\").show();\n\n    //Focus on the Input Element (Text, Numeric, Select)\n    var input_element = searchInputElement(input_label);\n    input_element.focus();\n\n    //Imitate a click on the Input Field in the Fiter (for complex Input Elements which use Popover)\n    input_label.parent().find(\".il-filter-field\").click();\n\n    //Focus on the first checkbox in the Multi Select Input Element in the Popover\n    var checkboxes = searchInputElementMultiSelect(input_label);\n    if (checkboxes.length != 0) {\n      checkboxes[0].focus();\n    }\n\n    //Hide Add-Button when all Input Fields are shown in the Filter\n    var add_button = searchAddButton($el);\n    var addable_inputs = $el.parents(\".il-filter\").find(\".il-filter-add-list\").find(\"li:visible\").length;\n    if (addable_inputs === 0) {\n      add_button.hide();\n    }\n\n    //Hide the Popover of the Add-Button when adding Input Field\n    add_button.find(\".il-popover\").hide();\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   * @param cmd\n   */\n  var onCmd = function onCmd(event, id, cmd) {\n    //Get the URL for GET-request, put the components of the query string into hidden inputs and submit the filter\n    var $el = $(\"#\" + id);\n    var action = $el.parents('form').attr(\"data-cmd-\" + cmd);\n    var url = parse_url(action);\n    var url_params = url['query_params'];\n    createHiddenInputs($el, url_params);\n    $el.parents('form').submit();\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   * @param cmd\n   */\n  var onAjaxCmd = function onAjaxCmd(event, id, cmd) {\n    //Get the URL for GET-request\n    var $el = $(\"#\" + id);\n    var action = $el.parents('form').attr(\"data-cmd-\" + cmd);\n    //Add the inputs to the URL (for correct rendering within the session) and perform the request as an Ajax-request\n    var formData = $el.parents('form').serialize();\n    $.ajax({\n      type: 'GET',\n      url: action + \"&\" + formData\n    });\n  };\n\n  /**\n   * parse url, based on https://github.com/hirak/phpjs/blob/master/functions/url/parse_url.js\n   * @param str\n   * @returns {{}}\n   */\n  function parse_url(str) {\n    var query;\n    var key = ['source', 'scheme', 'authority', 'userInfo', 'user', 'pass', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'fragment'];\n    var reg_ex = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n    var m = reg_ex.exec(str);\n    var uri = {};\n    var i = 14;\n    while (i--) {\n      if (m[i]) {\n        uri[key[i]] = m[i];\n      }\n    }\n    var parser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n    uri['query_params'] = {};\n    query = uri[key[12]] || '';\n    query.replace(parser, function ($0, $1, $2) {\n      if ($1) {\n        uri['query_params'][$1] = $2;\n      }\n    });\n    delete uri.source;\n    return uri;\n  }\n\n  /**\n   * Public interface\n   */\n  return {\n    onInputUpdate: onInputUpdate,\n    onRemoveClick: onRemoveClick,\n    onAddClick: onAddClick,\n    onCmd: onCmd,\n    onAjaxCmd: onAjaxCmd\n  };\n};\nvar _default = filter;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJmaWx0ZXIiLCIkIiwiaW5pdCIsImVhY2giLCIkZmlsdGVyIiwiY250X2hpZCIsImNudF9iYXIiLCJmaW5kIiwiJGhpZGRlbl9pbnB1dCIsInZhbCIsImhpZGUiLCJjbGljayIsInRvZ2dsZSIsImF0dHIiLCJyZW5kZXJlZF9hY3RpdmVfaW5wdXRzIiwiaW5wdXRfZWxlbWVudCIsInZhbHVlIiwibGFiZWwiLCJ0ZXh0IiwicHJlc2VudGVkX3ZhbHVlIiwiZ2V0UHJlc2VudGVkVmFsdWVGb3JJbnB1dCIsImh0bWwiLCJhZGRhYmxlX2lucHV0cyIsImxlbmd0aCIsInBhcmVudHMiLCJrZXlkb3duIiwiZXZlbnQiLCJrZXkiLCJ3aGljaCIsImNoZWNrYm94ZXMiLCJzZWFyY2hJbnB1dEVsZW1lbnRNdWx0aVNlbGVjdCIsImZvY3VzIiwicHJldmVudERlZmF1bHQiLCJpcyIsIm9wdGlvbnMiLCJwcm9wIiwicHVzaCIsInBhcmVudCIsImFjdGl2ZV9jaGVja2JveGVzIiwiam9pbiIsInNlbGVjdGVkX29wdGlvbiIsInVuZGVmaW5lZCIsInN0b3JlRmlsdGVyU3RhdHVzIiwiJGVsIiwiaW5kZXgiLCJnZXQiLCJjcmVhdGVIaWRkZW5JbnB1dHMiLCJ1cmxfcGFyYW1zIiwicGFyYW0iLCJpbnB1dCIsImJlZm9yZSIsInNlYXJjaElucHV0TGFiZWwiLCJpbnB1dF9sYWJlbCIsInNlYXJjaElucHV0RWxlbWVudCIsImNoaWxkcmVuIiwic2VhcmNoSW5wdXRGaWVsZCIsImlucHV0X2ZpZWxkIiwic2VhcmNoQWRkQnV0dG9uIiwiYWRkX2J1dHRvbiIsIm9uSW5wdXRVcGRhdGUiLCJzaWduYWxEYXRhIiwib3V0cHV0U3BhbiIsInRyaWdnZXJlciIsInBvcF9pZCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNsb3Nlc3QiLCJpbm5lclRleHQiLCJzdHJpbmdfdmFsdWUiLCJvblJlbW92ZUNsaWNrIiwiaWQiLCJzaG93Iiwib25BZGRDbGljayIsIm9uQ21kIiwiY21kIiwiYWN0aW9uIiwidXJsIiwicGFyc2VfdXJsIiwic3VibWl0Iiwib25BamF4Q21kIiwiZm9ybURhdGEiLCJzZXJpYWxpemUiLCJhamF4IiwidHlwZSIsInN0ciIsInF1ZXJ5IiwicmVnX2V4IiwibSIsImV4ZWMiLCJ1cmkiLCJpIiwicGFyc2VyIiwicmVwbGFjZSIsIiQwIiwiJDEiLCIkMiIsInNvdXJjZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9JbnB1dC9Db250YWluZXIvc3JjLyIsInNvdXJjZXMiOlsiZmlsdGVyLm1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGZpbHRlciA9IGZ1bmN0aW9uKCQpIHtcblxuICAvL0luaXQgdGhlIEZpbHRlclxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkKFwiZGl2LmlsLWZpbHRlclwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkZmlsdGVyID0gdGhpcztcbiAgICAgIHZhciBjbnRfaGlkID0gMDtcbiAgICAgIHZhciBjbnRfYmFyID0gMTtcblxuICAgICAgLy9GaWx0ZXIgZmllbGRzIChoaWRlIGhpZGRlbiBzdHVmZilcbiAgICAgICQoJGZpbHRlcikuZmluZChcIi5pbC1maWx0ZXItZmllbGQtc3RhdHVzXCIpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAkaGlkZGVuX2lucHV0ID0gdGhpcztcbiAgICAgICAgaWYgKCQoJGhpZGRlbl9pbnB1dCkudmFsKCkgPT09IFwiMFwiKSB7XG4gICAgICAgICAgJCgkKFwiZGl2LmlsLWZpbHRlciAuaWwtcG9wb3Zlci1jb250YWluZXJcIilbY250X2hpZF0pLmhpZGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkKCQoXCJkaXYuaWwtZmlsdGVyIC5pbC1maWx0ZXItYWRkLWxpc3QgbGlcIilbY250X2hpZF0pLmhpZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjbnRfaGlkKys7XG4gICAgICB9KTtcblxuICAgICAgJChcIi5pbC1maWx0ZXItYmFyLW9wZW5lclwiKS5maW5kKFwiYnV0dG9uOmZpcnN0XCIpLmhpZGUoKTtcbiAgICAgICQoXCIuaWwtZmlsdGVyLWJhci1vcGVuZXIgYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAkKFwiLmlsLWZpbHRlci1iYXItb3BlbmVyIGJ1dHRvblwiKS50b2dnbGUoKTtcbiAgICAgICAgaWYgKCQodGhpcykuYXR0cihcImFyaWEtZXhwYW5kZWRcIikgPT0gXCJmYWxzZVwiKSB7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCh0aGlzKS5hdHRyKFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy9TaG93IGxhYmVscyBhbmQgdmFsdWVzIGluIEZpbHRlciBCYXJcbiAgICAgIHZhciByZW5kZXJlZF9hY3RpdmVfaW5wdXRzID0gZmFsc2U7XG4gICAgICAkKCRmaWx0ZXIpLmZpbmQoXCIuaWwtcG9wb3Zlci1jb250YWluZXJcIikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpbnB1dF9lbGVtZW50ID0gJCh0aGlzKS5maW5kKFwiOmlucHV0Om5vdCg6YnV0dG9uKVwiKTtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5wdXRfZWxlbWVudC52YWwoKTtcbiAgICAgICAgdmFyIGxhYmVsID0gJCh0aGlzKS5maW5kKFwiLmxlZnRhZGRvblwiKS50ZXh0KCk7XG4gICAgICAgIHZhciBwcmVzZW50ZWRfdmFsdWUgPSBnZXRQcmVzZW50ZWRWYWx1ZUZvcklucHV0KGlucHV0X2VsZW1lbnQsIHZhbHVlKTtcblxuICAgICAgICBpZiAocHJlc2VudGVkX3ZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgJChcIi5pbC1maWx0ZXItaW5wdXRzLWFjdGl2ZVwiKS5maW5kKFwic3BhbltpZD0nXCIgKyAoY250X2JhcikgKyBcIiddXCIpLmh0bWwobGFiZWwgKyBcIjogXCIgKyBwcmVzZW50ZWRfdmFsdWUpO1xuICAgICAgICAgIHJlbmRlcmVkX2FjdGl2ZV9pbnB1dHMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vRG8gbm90IHNob3cgSW5wdXQgaWYgaXQgaGFzIG5vIGFwcGxpZWQgdmFsdWVcbiAgICAgICAgICAkKFwiLmlsLWZpbHRlci1pbnB1dHMtYWN0aXZlXCIpLmZpbmQoXCJzcGFuW2lkPSdcIiArIChjbnRfYmFyKSArIFwiJ11cIikuaGlkZSgpO1xuICAgICAgICB9XG4gICAgICAgIGNudF9iYXIrKztcbiAgICAgIH0pO1xuICAgICAgLy9IaWRlIEZpbHRlciBDb250ZW50IEFyZWEgY29tcGxldGVseSBpZiB0aGVyZSBhcmUgbm8gYWN0aXZlIGlucHV0c1xuICAgICAgaWYgKCFyZW5kZXJlZF9hY3RpdmVfaW5wdXRzKSB7XG4gICAgICAgICQoXCIuaWwtZmlsdGVyLWlucHV0cy1hY3RpdmVcIikuaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICAvL1BvcG92ZXIgb2YgQWRkLUJ1dHRvbiBhbHdheXMgYXQgdGhlIGJvdHRvbVxuICAgICAgJCgnLmlucHV0LWdyb3VwIC5idG4uYnRuLWJ1bGt5JykuYXR0cignZGF0YS1wbGFjZW1lbnQnLCAnYm90dG9tJyk7XG5cbiAgICAgIC8vSGlkZSBBZGQtQnV0dG9uIHdoZW4gYWxsIElucHV0IEZpZWxkcyBhcmUgc2hvd24gaW4gdGhlIEZpbHRlciBhdCB0aGUgYmVnaW5uaW5nXG4gICAgICB2YXIgYWRkYWJsZV9pbnB1dHMgPSAkKFwiLmlsLXBvcG92ZXItY29udGFpbmVyOmhpZGRlblwiKS5sZW5ndGg7XG4gICAgICBpZiAoYWRkYWJsZV9pbnB1dHMgPT09IDApIHtcbiAgICAgICAgJChcIi5idG4tYnVsa3lcIikucGFyZW50cyhcIi5pbC1wb3BvdmVyLWNvbnRhaW5lclwiKS5oaWRlKCk7XG4gICAgICB9XG5cbiAgICAgIC8vQWNjZXNzaWJpbGl0eSBmb3IgY29tcGxleCBJbnB1dCBGaWVsZHNcbiAgICAgICQoXCIuaWwtZmlsdGVyLWZpZWxkXCIpLmtleWRvd24oZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBrZXkgPSBldmVudC53aGljaDtcbiAgICAgICAgLy9JbWl0YXRlIGEgY2xpY2sgb24gdGhlIElucHV0IEZpZWxkIGluIHRoZSBGaXRlciBhbmQgZm9jdXMgb24gdGhlIElucHV0IEVsZW1lbnQgaW4gdGhlIFBvcG92ZXJcbiAgICAgICAgaWYgKChrZXkgPT09IDEzKSB8fCAoa2V5ID09PSAzMikpIHtcdC8vIDEzID0gUmV0dXJuLCAzMiA9IFNwYWNlXG4gICAgICAgICAgJCh0aGlzKS5jbGljaygpO1xuICAgICAgICAgIC8vRm9jdXMgb24gdGhlIGZpcnN0IGNoZWNrYm94IGluIHRoZSBNdWx0aSBTZWxlY3QgSW5wdXQgRWxlbWVudCBpbiB0aGUgUG9wb3ZlclxuICAgICAgICAgIHZhciBjaGVja2JveGVzID0gc2VhcmNoSW5wdXRFbGVtZW50TXVsdGlTZWxlY3QoJCh0aGlzKSk7XG4gICAgICAgICAgaWYgKGNoZWNrYm94ZXMubGVuZ3RoICE9IDApIHtcbiAgICAgICAgICAgIGNoZWNrYm94ZXNbMF0uZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgJChpbml0KTtcblxuICAvKipcbiAgICogR2V0IGxhYmVsIGFuZCB2YWx1ZSBmb3IgaW5wdXRzIHdoaWNoIGFyZSBzaG93biBpbiBGaWx0ZXIgQmFyXG4gICAqIEBwYXJhbSBpbnB1dF9lbGVtZW50XG4gICAqIEBwYXJhbSB2YWx1ZVxuICAgKiBAcGFyYW0gbGFiZWxcbiAgICogQHJldHVybnMge3N0cmluZ31cbiAgICovXG4gIHZhciBnZXRQcmVzZW50ZWRWYWx1ZUZvcklucHV0ID0gZnVuY3Rpb24gKGlucHV0X2VsZW1lbnQsIHZhbHVlKSB7XG4gICAgdmFyIHByZXNlbnRlZF92YWx1ZSA9IFwiXCI7XG5cbiAgICAvL0hhbmRsZSB2YWx1ZSBmb3IgTXVsdGkgU2VsZWN0IElucHV0XG4gICAgaWYgKGlucHV0X2VsZW1lbnQuaXMoXCI6Y2hlY2tib3hcIikpIHtcbiAgICAgIHZhciBvcHRpb25zID0gW107XG4gICAgICBpbnB1dF9lbGVtZW50LmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgIG9wdGlvbnMucHVzaCgkKHRoaXMpLnBhcmVudCgpLmZpbmQoJ3NwYW4nKS50ZXh0KCkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChvcHRpb25zLmxlbmd0aCAhPSAwKSB7XG4gICAgICAgIGFjdGl2ZV9jaGVja2JveGVzID0gb3B0aW9ucy5qb2luKCcsICcpO1xuICAgICAgICBwcmVzZW50ZWRfdmFsdWUgPSBhY3RpdmVfY2hlY2tib3hlcztcbiAgICAgIH1cbiAgICB9XG4gICAgLy9IYW5kbGUgdmFsdWUgZm9yIFNlbGVjdCBJbnB1dFxuICAgIGVsc2UgaWYgKGlucHV0X2VsZW1lbnQuaXMoXCJzZWxlY3RcIikgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgIHZhciBzZWxlY3RlZF9vcHRpb24gPSBpbnB1dF9lbGVtZW50LmZpbmQoXCJvcHRpb246c2VsZWN0ZWRcIikudGV4dCgpO1xuICAgICAgcHJlc2VudGVkX3ZhbHVlID0gc2VsZWN0ZWRfb3B0aW9uO1xuICAgIH1cbiAgICAvL0hhbmRsZSB2YWx1ZSBmb3IgYWxsIG90aGVyIElucHV0c1xuICAgIGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IFwiXCIpIHtcbiAgICAgIHByZXNlbnRlZF92YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVzZW50ZWRfdmFsdWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3JlIGZpbHRlciBzdGF0dXMgKGhpZGRlbiBvciBzaG93bikgaW4gaGlkZGVuIGlucHV0IGZpZWxkc1xuICAgKiBAcGFyYW0gJGVsXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcGFyYW0gdmFsXG4gICAqL1xuICB2YXIgc3RvcmVGaWx0ZXJTdGF0dXMgPSBmdW5jdGlvbiAoJGVsLCBpbmRleCwgdmFsKSB7XG4gICAgJCgkZWwucGFyZW50cyhcIi5pbC1maWx0ZXJcIikuZmluZChcIi5pbC1maWx0ZXItZmllbGQtc3RhdHVzXCIpLmdldChpbmRleCkpLnZhbCh2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGUgaGlkZGVuIGlucHV0cyBmb3IgR0VULXJlcXVlc3QgYW5kIGluc2VydCB0aGVtIGludG8gdGhlIERPTVxuICAgKiBAcGFyYW0gJGVsXG4gICAqIEBwYXJhbSB1cmxfcGFyYW1zXG4gICAqL1xuICB2YXIgY3JlYXRlSGlkZGVuSW5wdXRzID0gZnVuY3Rpb24gKCRlbCwgdXJsX3BhcmFtcykge1xuICAgIGZvciAodmFyIHBhcmFtIGluIHVybF9wYXJhbXMpIHtcbiAgICAgIHZhciBpbnB1dCA9IFwiPGlucHV0IHR5cGU9XFxcImhpZGRlblxcXCIgbmFtZT1cXFwiXCIgKyBwYXJhbSArIFwiXFxcIiB2YWx1ZT1cXFwiXCIgKyB1cmxfcGFyYW1zW3BhcmFtXSArIFwiXFxcIj5cIjtcbiAgICAgICRlbC5wYXJlbnRzKCdmb3JtJykuZmluZCgnLmlsLWZpbHRlci1iYXInKS5iZWZvcmUoaW5wdXQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogU2VhcmNoIGZvciB0aGUgTGFiZWwgb2YgdGhlIElucHV0IHdoaWNoIHNob3VsZCBiZSBhZGRlZCB0byB0aGUgRmlsdGVyXG4gICAqIEBwYXJhbSAkZWxcbiAgICogQHBhcmFtIGxhYmVsXG4gICAqL1xuICB2YXIgc2VhcmNoSW5wdXRMYWJlbCA9IGZ1bmN0aW9uICgkZWwsIGxhYmVsKSB7XG4gICAgdmFyIGlucHV0X2xhYmVsID0gJGVsLnBhcmVudHMoXCIuaWwtc3RhbmRhcmQtZm9ybVwiKS5maW5kKFwiLmlucHV0LWdyb3VwLWFkZG9uLmxlZnRhZGRvblwiKS5maWx0ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuICQodGhpcykudGV4dCgpID09PSBsYWJlbDtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRfbGFiZWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgdGhlIGdpdmVuIElucHV0IEVsZW1lbnRcbiAgICogQHBhcmFtICRlbFxuICAgKi9cbiAgdmFyIHNlYXJjaElucHV0RWxlbWVudCA9IGZ1bmN0aW9uICgkZWwpIHtcbiAgICB2YXIgaW5wdXRfZWxlbWVudCA9ICRlbC5wYXJlbnRzKFwiLmlsLXBvcG92ZXItY29udGFpbmVyXCIpLmZpbmQoXCI6aW5wdXRcIik7XG4gICAgcmV0dXJuIGlucHV0X2VsZW1lbnQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgdGhlIGNoZWNrYm94ZXMgaW4gdGhlIGdpdmVuIE11bHRpIFNlbGVjdCBJbnB1dCBFbGVtZW50IChpbiB0aGUgUG9wb3ZlcilcbiAgICogQHBhcmFtICRlbFxuICAgKi9cbiAgdmFyIHNlYXJjaElucHV0RWxlbWVudE11bHRpU2VsZWN0ID0gZnVuY3Rpb24gKCRlbCkge1xuICAgIHZhciBjaGVja2JveGVzID0gJGVsLnBhcmVudHMoXCIuaWwtcG9wb3Zlci1jb250YWluZXJcIikuZmluZChcIi5pbC1zdGFuZGFyZC1wb3BvdmVyLWNvbnRlbnRcIikuY2hpbGRyZW4oKS5jaGlsZHJlbigpLmZpbmQoXCJpbnB1dFwiKTtcbiAgICByZXR1cm4gY2hlY2tib3hlcztcbiAgfTtcblxuICAvKipcbiAgICogU2VhcmNoIGZvciB0aGUgSW5wdXQgRmllbGQgd2hpY2ggc2hvdWxkIGJlIGFkZGVkIHRvIHRoZSBBZGQtQnV0dG9uXG4gICAqIEBwYXJhbSAkZWxcbiAgICogQHBhcmFtIGxhYmVsXG4gICAqL1xuICB2YXIgc2VhcmNoSW5wdXRGaWVsZCA9IGZ1bmN0aW9uICgkZWwsIGxhYmVsKSB7XG4gICAgdmFyIGlucHV0X2ZpZWxkID0gJGVsLnBhcmVudHMoXCIuaWwtc3RhbmRhcmQtZm9ybVwiKS5maW5kKFwiLmJ0bi1saW5rXCIpLmZpbHRlcihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gJCh0aGlzKS50ZXh0KCkgPT09IGxhYmVsO1xuICAgIH0pLnBhcmVudHMoXCJsaVwiKTtcbiAgICByZXR1cm4gaW5wdXRfZmllbGQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNlYXJjaCBmb3IgdGhlIEFkZC1CdXR0b24gaW4gdGhlIEZpbHRlclxuICAgKiBAcGFyYW0gJGVsXG4gICAqL1xuICB2YXIgc2VhcmNoQWRkQnV0dG9uID0gZnVuY3Rpb24gKCRlbCkge1xuICAgIHZhciBhZGRfYnV0dG9uID0gJGVsLnBhcmVudHMoXCIuaWwtc3RhbmRhcmQtZm9ybVwiKS5maW5kKFwiLmJ0bi1idWxreVwiKS5wYXJlbnRzKFwiLmlsLXBvcG92ZXItY29udGFpbmVyXCIpO1xuICAgIHJldHVybiBhZGRfYnV0dG9uO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIHNpZ25hbERhdGFcbiAgICovXG4gIHZhciBvbklucHV0VXBkYXRlID0gZnVuY3Rpb24gKGV2ZW50LCBzaWduYWxEYXRhKSB7XG4gICAgbGV0IG91dHB1dFNwYW47XG4gICAgdmFyICRlbCA9ICQoc2lnbmFsRGF0YS50cmlnZ2VyZXJbMF0pO1xuICAgIHZhciBwb3BfaWQgPSAkZWwucGFyZW50cyhcIi5pbC1wb3BvdmVyXCIpLmF0dHIoXCJpZFwiKTtcbiAgICBpZiAocG9wX2lkKSB7XHQvLyB3ZSBoYXZlIGFuIGFscmVhZHkgb3BlbmVkIHBvcG92ZXJcbiAgICAgIG91dHB1dFNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwic3BhbltkYXRhLXRhcmdldD0nXCIgKyBwb3BfaWQgKyBcIiddXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBubyBwb3BvdmVyIHlldCwgd2UgYXJlIHN0aWxsIGluIHRoZSBzYW1lIGlucHV0IGdyb3VwIGFuZCBzZWFyY2ggZm9yIHRoZSBpbC1maWx0ZXItZmllbGQgc3BhblxuICAgICAgb3V0cHV0U3BhbiA9IHNpZ25hbERhdGFcbiAgICAgICAgLnRyaWdnZXJlclswXVxuICAgICAgLmNsb3Nlc3QoXCIuaW5wdXQtZ3JvdXBcIilcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwic3Bhbi5pbC1maWx0ZXItZmllbGRcIik7XG4gICAgfVxuICAgIGlmIChvdXRwdXRTcGFuKSB7XG4gICAgICBvdXRwdXRTcGFuLmlubmVyVGV4dCA9IHNpZ25hbERhdGEub3B0aW9ucy5zdHJpbmdfdmFsdWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICB2YXIgb25SZW1vdmVDbGljayA9IGZ1bmN0aW9uIChldmVudCwgaWQpIHtcbiAgICB2YXIgJGVsID0gJChcIiNcIiArIGlkKTtcblxuICAgIC8vIFN0b3JlIHNob3cvaGlkZSBzdGF0dXMgaW4gaGlkZGVuIHN0YXR1cyBpbnB1dHNcbiAgICB2YXIgaW5kZXggPSAkZWwucGFyZW50cyhcIi5pbC1wb3BvdmVyLWNvbnRhaW5lclwiKS5pbmRleCgpO1xuICAgIHN0b3JlRmlsdGVyU3RhdHVzKCRlbCwgaW5kZXgsIFwiMFwiKTtcblxuICAgIC8vUmVtb3ZlIElucHV0IEZpZWxkIGZyb20gRmlsdGVyXG4gICAgJGVsLnBhcmVudHMoXCIuaWwtcG9wb3Zlci1jb250YWluZXJcIikuaGlkZSgpO1xuXG4gICAgLy9DbGVhciBJbnB1dCBGaWVsZCAoVGV4dCwgTnVtZXJpYywgU2VsZWN0KSB3aGVuIGl0IGlzIHJlbW92ZWRcbiAgICB2YXIgaW5wdXRfZWxlbWVudCA9IHNlYXJjaElucHV0RWxlbWVudCgkZWwpO1xuICAgIGlucHV0X2VsZW1lbnQudmFsKFwiXCIpO1xuXG4gICAgLy9DbGVhciBNdWx0aSBTZWxlY3QgSW5wdXQgRmllbGQgd2hlbiBpdCBpcyByZW1vdmVkXG4gICAgdmFyIGNoZWNrYm94ZXMgPSBzZWFyY2hJbnB1dEVsZW1lbnRNdWx0aVNlbGVjdCgkZWwpO1xuICAgIGNoZWNrYm94ZXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAkKHRoaXMpLnByb3AoXCJjaGVja2VkXCIsIGZhbHNlKTtcbiAgICB9KTtcbiAgICBjaGVja2JveGVzLnBhcmVudHMoXCIuaWwtcG9wb3Zlci1jb250YWluZXJcIikuZmluZChcIi5pbC1maWx0ZXItZmllbGRcIikuaHRtbChcIlwiKTtcblxuICAgIC8vQWRkIElucHV0IEZpZWxkIHRvIEFkZC1CdXR0b25cbiAgICB2YXIgbGFiZWwgPSAkZWwucGFyZW50cyhcIi5pbnB1dC1ncm91cFwiKS5maW5kKFwiLmlucHV0LWdyb3VwLWFkZG9uLmxlZnRhZGRvblwiKS5odG1sKCk7XG4gICAgdmFyIGlucHV0X2ZpZWxkID0gc2VhcmNoSW5wdXRGaWVsZCgkZWwsIGxhYmVsKTtcbiAgICBpbnB1dF9maWVsZC5zaG93KCk7XG5cbiAgICAvL1Nob3cgQWRkLUJ1dHRvbiB3aGVuIG5vdCBhbGwgSW5wdXQgRmllbGRzIGFyZSBzaG93biBpbiB0aGUgRmlsdGVyXG4gICAgdmFyIGFkZF9idXR0b24gPSBzZWFyY2hBZGRCdXR0b24oJGVsKTtcbiAgICB2YXIgYWRkYWJsZV9pbnB1dHMgPSAkZWwucGFyZW50cyhcIi5pbC1zdGFuZGFyZC1mb3JtXCIpLmZpbmQoXCIuaWwtcG9wb3Zlci1jb250YWluZXI6aGlkZGVuXCIpLmxlbmd0aDtcbiAgICBpZiAoYWRkYWJsZV9pbnB1dHMgIT0gMCkge1xuICAgICAgYWRkX2J1dHRvbi5zaG93KCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGlkXG4gICAqL1xuICB2YXIgb25BZGRDbGljayA9IGZ1bmN0aW9uIChldmVudCwgaWQpIHtcbiAgICB2YXIgJGVsID0gJChcIiNcIiArIGlkKTtcbiAgICB2YXIgbGFiZWwgPSAkZWwudGV4dCgpO1xuXG4gICAgLy9SZW1vdmUgSW5wdXQgRmllbGQgZnJvbSBBZGQtQnV0dG9uXG4gICAgJGVsLnBhcmVudCgpLmhpZGUoKTtcblxuICAgIC8vIFN0b3JlIHNob3cvaGlkZSBzdGF0dXMgaW4gaGlkZGVuIHN0YXR1cyBpbnB1dHNcbiAgICB2YXIgaW5kZXggPSAkZWwucGFyZW50KCkuaW5kZXgoKTtcbiAgICBzdG9yZUZpbHRlclN0YXR1cygkZWwsIGluZGV4LCBcIjFcIik7XG5cbiAgICAvLyBBZGQgSW5wdXQgRmllbGQgdG8gRmlsdGVyXG4gICAgdmFyIGlucHV0X2xhYmVsID0gc2VhcmNoSW5wdXRMYWJlbCgkZWwsIGxhYmVsKTtcbiAgICBpbnB1dF9sYWJlbC5wYXJlbnRzKFwiLmlsLXBvcG92ZXItY29udGFpbmVyXCIpLnNob3coKTtcblxuICAgIC8vRm9jdXMgb24gdGhlIElucHV0IEVsZW1lbnQgKFRleHQsIE51bWVyaWMsIFNlbGVjdClcbiAgICB2YXIgaW5wdXRfZWxlbWVudCA9IHNlYXJjaElucHV0RWxlbWVudChpbnB1dF9sYWJlbCk7XG4gICAgaW5wdXRfZWxlbWVudC5mb2N1cygpO1xuXG4gICAgLy9JbWl0YXRlIGEgY2xpY2sgb24gdGhlIElucHV0IEZpZWxkIGluIHRoZSBGaXRlciAoZm9yIGNvbXBsZXggSW5wdXQgRWxlbWVudHMgd2hpY2ggdXNlIFBvcG92ZXIpXG4gICAgaW5wdXRfbGFiZWwucGFyZW50KCkuZmluZChcIi5pbC1maWx0ZXItZmllbGRcIikuY2xpY2soKTtcblxuICAgIC8vRm9jdXMgb24gdGhlIGZpcnN0IGNoZWNrYm94IGluIHRoZSBNdWx0aSBTZWxlY3QgSW5wdXQgRWxlbWVudCBpbiB0aGUgUG9wb3ZlclxuICAgIHZhciBjaGVja2JveGVzID0gc2VhcmNoSW5wdXRFbGVtZW50TXVsdGlTZWxlY3QoaW5wdXRfbGFiZWwpO1xuICAgIGlmIChjaGVja2JveGVzLmxlbmd0aCAhPSAwKSB7XG4gICAgICBjaGVja2JveGVzWzBdLmZvY3VzKCk7XG4gICAgfVxuXG4gICAgLy9IaWRlIEFkZC1CdXR0b24gd2hlbiBhbGwgSW5wdXQgRmllbGRzIGFyZSBzaG93biBpbiB0aGUgRmlsdGVyXG4gICAgdmFyIGFkZF9idXR0b24gPSBzZWFyY2hBZGRCdXR0b24oJGVsKTtcbiAgICB2YXIgYWRkYWJsZV9pbnB1dHMgPSAkZWwucGFyZW50cyhcIi5pbC1maWx0ZXJcIikuZmluZChcIi5pbC1maWx0ZXItYWRkLWxpc3RcIikuZmluZChcImxpOnZpc2libGVcIikubGVuZ3RoO1xuICAgIGlmIChhZGRhYmxlX2lucHV0cyA9PT0gMCkge1xuICAgICAgYWRkX2J1dHRvbi5oaWRlKCk7XG4gICAgfVxuXG4gICAgLy9IaWRlIHRoZSBQb3BvdmVyIG9mIHRoZSBBZGQtQnV0dG9uIHdoZW4gYWRkaW5nIElucHV0IEZpZWxkXG4gICAgYWRkX2J1dHRvbi5maW5kKFwiLmlsLXBvcG92ZXJcIikuaGlkZSgpO1xuICB9O1xuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gZXZlbnRcbiAgICogQHBhcmFtIGlkXG4gICAqIEBwYXJhbSBjbWRcbiAgICovXG4gIHZhciBvbkNtZCA9IGZ1bmN0aW9uIChldmVudCwgaWQsIGNtZCkge1xuICAgIC8vR2V0IHRoZSBVUkwgZm9yIEdFVC1yZXF1ZXN0LCBwdXQgdGhlIGNvbXBvbmVudHMgb2YgdGhlIHF1ZXJ5IHN0cmluZyBpbnRvIGhpZGRlbiBpbnB1dHMgYW5kIHN1Ym1pdCB0aGUgZmlsdGVyXG4gICAgdmFyICRlbCA9ICQoXCIjXCIgKyBpZCk7XG4gICAgdmFyIGFjdGlvbiA9ICRlbC5wYXJlbnRzKCdmb3JtJykuYXR0cihcImRhdGEtY21kLVwiICsgY21kKTtcbiAgICB2YXIgdXJsID0gcGFyc2VfdXJsKGFjdGlvbik7XG4gICAgdmFyIHVybF9wYXJhbXMgPSB1cmxbJ3F1ZXJ5X3BhcmFtcyddO1xuICAgIGNyZWF0ZUhpZGRlbklucHV0cygkZWwsIHVybF9wYXJhbXMpO1xuICAgICRlbC5wYXJlbnRzKCdmb3JtJykuc3VibWl0KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFxuICAgKiBAcGFyYW0gaWRcbiAgICogQHBhcmFtIGNtZFxuICAgKi9cbiAgdmFyIG9uQWpheENtZCA9IGZ1bmN0aW9uIChldmVudCwgaWQsIGNtZCkge1xuICAgIC8vR2V0IHRoZSBVUkwgZm9yIEdFVC1yZXF1ZXN0XG4gICAgdmFyICRlbCA9ICQoXCIjXCIgKyBpZCk7XG4gICAgdmFyIGFjdGlvbiA9ICRlbC5wYXJlbnRzKCdmb3JtJykuYXR0cihcImRhdGEtY21kLVwiICsgY21kKTtcbiAgICAvL0FkZCB0aGUgaW5wdXRzIHRvIHRoZSBVUkwgKGZvciBjb3JyZWN0IHJlbmRlcmluZyB3aXRoaW4gdGhlIHNlc3Npb24pIGFuZCBwZXJmb3JtIHRoZSByZXF1ZXN0IGFzIGFuIEFqYXgtcmVxdWVzdFxuICAgIHZhciBmb3JtRGF0YSA9ICRlbC5wYXJlbnRzKCdmb3JtJykuc2VyaWFsaXplKCk7XG4gICAgJC5hamF4KHtcbiAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgdXJsOiBhY3Rpb24gKyBcIiZcIiArIGZvcm1EYXRhLFxuICAgIH0pXG4gIH07XG5cbiAgLyoqXG4gICAqIHBhcnNlIHVybCwgYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2hpcmFrL3BocGpzL2Jsb2IvbWFzdGVyL2Z1bmN0aW9ucy91cmwvcGFyc2VfdXJsLmpzXG4gICAqIEBwYXJhbSBzdHJcbiAgICogQHJldHVybnMge3t9fVxuICAgKi9cbiAgZnVuY3Rpb24gcGFyc2VfdXJsKHN0cikge1xuICAgIHZhciBxdWVyeTtcbiAgICB2YXIga2V5ID0gW1xuICAgICAgJ3NvdXJjZScsXG4gICAgICAnc2NoZW1lJyxcbiAgICAgICdhdXRob3JpdHknLFxuICAgICAgJ3VzZXJJbmZvJyxcbiAgICAgICd1c2VyJyxcbiAgICAgICdwYXNzJyxcbiAgICAgICdob3N0JyxcbiAgICAgICdwb3J0JyxcbiAgICAgICdyZWxhdGl2ZScsXG4gICAgICAncGF0aCcsXG4gICAgICAnZGlyZWN0b3J5JyxcbiAgICAgICdmaWxlJyxcbiAgICAgICdxdWVyeScsXG4gICAgICAnZnJhZ21lbnQnXG4gICAgXTtcbiAgICB2YXIgcmVnX2V4ID0gL14oPzooW146XFwvPyNdKyk6KT8oPzpcXC9cXC8oKD86KChbXjpAXFwvXSopOj8oW146QFxcL10qKSk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSk/KCgoKD86W14/I1xcL10qXFwvKSopKFtePyNdKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG4gICAgdmFyIG0gPSByZWdfZXguZXhlYyhzdHIpO1xuICAgIHZhciB1cmkgPSB7fTtcbiAgICB2YXIgaSA9IDE0O1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgaWYgKG1baV0pIHtcbiAgICAgICAgdXJpW2tleVtpXV0gPSBtW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG4gICAgdXJpWydxdWVyeV9wYXJhbXMnXSA9IHt9O1xuICAgIHF1ZXJ5ID0gdXJpW2tleVsxMl1dIHx8ICcnO1xuICAgIHF1ZXJ5LnJlcGxhY2UocGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgICAgaWYgKCQxKSB7XG4gICAgICAgIHVyaVsncXVlcnlfcGFyYW1zJ11bJDFdID0gJDI7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBkZWxldGUgdXJpLnNvdXJjZTtcbiAgICByZXR1cm4gdXJpO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBpbnRlcmZhY2VcbiAgICovXG4gIHJldHVybiB7XG4gICAgb25JbnB1dFVwZGF0ZTogb25JbnB1dFVwZGF0ZSxcbiAgICBvblJlbW92ZUNsaWNrOiBvblJlbW92ZUNsaWNrLFxuICAgIG9uQWRkQ2xpY2s6IG9uQWRkQ2xpY2ssXG4gICAgb25DbWQ6IG9uQ21kLFxuICAgIG9uQWpheENtZDog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","map":{"version":3,"names":["filter","$","init","each","$filter","cnt_hid","cnt_bar","find","$hidden_input","val","hide","click","toggle","attr","rendered_active_inputs","input_element","value","label","text","presented_value","getPresentedValueForInput","html","addable_inputs","length","parents","keydown","event","key","which","checkboxes","searchInputElementMultiSelect","focus","preventDefault","is","options","prop","push","parent","active_checkboxes","join","selected_option","undefined","storeFilterStatus","$el","index","get","createHiddenInputs","url_params","param","input","before","searchInputLabel","input_label","searchInputElement","children","searchInputField","input_field","searchAddButton","add_button","onInputUpdate","signalData","outputSpan","triggerer","pop_id","document","querySelector","closest","innerText","string_value","onRemoveClick","id","show","onAddClick","onCmd","cmd","action","url","parse_url","submit","onAjaxCmd","formData","serialize","ajax","type","str","query","reg_ex","m","exec","uri","i","parser","replace","$0","$1","$2","source"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/Input/Container/src/","sources":["filter.main.js"],"sourcesContent":["var filter = function($) {\n\n  //Init the Filter\n  var init = function () {\n    $(\"div.il-filter\").each(function () {\n      var $filter = this;\n      var cnt_hid = 0;\n      var cnt_bar = 1;\n\n      //Filter fields (hide hidden stuff)\n      $($filter).find(\".il-filter-field-status\").each(function () {\n        $hidden_input = this;\n        if ($($hidden_input).val() === \"0\") {\n          $($(\"div.il-filter .il-popover-container\")[cnt_hid]).hide();\n        } else {\n          $($(\"div.il-filter .il-filter-add-list li\")[cnt_hid]).hide();\n        }\n        cnt_hid++;\n      });\n\n      $(\".il-filter-bar-opener\").find(\"button:first\").hide();\n      $(\".il-filter-bar-opener button\").click(function() {\n        $(\".il-filter-bar-opener button\").toggle();\n        if ($(this).attr(\"aria-expanded\") == \"false\") {\n          $(this).attr(\"aria-expanded\", \"true\");\n        } else {\n          $(this).attr(\"aria-expanded\", \"false\");\n        }\n      });\n\n      //Show labels and values in Filter Bar\n      var rendered_active_inputs = false;\n      $($filter).find(\".il-popover-container\").each(function () {\n        var input_element = $(this).find(\":input:not(:button)\");\n        var value = input_element.val();\n        var label = $(this).find(\".leftaddon\").text();\n        var presented_value = getPresentedValueForInput(input_element, value);\n\n        if (presented_value !== \"\") {\n          $(\".il-filter-inputs-active\").find(\"span[id='\" + (cnt_bar) + \"']\").html(label + \": \" + presented_value);\n          rendered_active_inputs = true;\n        }\n        else {\n          //Do not show Input if it has no applied value\n          $(\".il-filter-inputs-active\").find(\"span[id='\" + (cnt_bar) + \"']\").hide();\n        }\n        cnt_bar++;\n      });\n      //Hide Filter Content Area completely if there are no active inputs\n      if (!rendered_active_inputs) {\n        $(\".il-filter-inputs-active\").hide();\n      }\n\n      //Popover of Add-Button always at the bottom\n      $('.input-group .btn.btn-bulky').attr('data-placement', 'bottom');\n\n      //Hide Add-Button when all Input Fields are shown in the Filter at the beginning\n      var addable_inputs = $(\".il-popover-container:hidden\").length;\n      if (addable_inputs === 0) {\n        $(\".btn-bulky\").parents(\".il-popover-container\").hide();\n      }\n\n      //Accessibility for complex Input Fields\n      $(\".il-filter-field\").keydown(function (event) {\n        var key = event.which;\n        //Imitate a click on the Input Field in the Fiter and focus on the Input Element in the Popover\n        if ((key === 13) || (key === 32)) {\t// 13 = Return, 32 = Space\n          $(this).click();\n          //Focus on the first checkbox in the Multi Select Input Element in the Popover\n          var checkboxes = searchInputElementMultiSelect($(this));\n          if (checkboxes.length != 0) {\n            checkboxes[0].focus();\n          }\n          event.preventDefault();\n        }\n      });\n    });\n  };\n\n  $(init);\n\n  /**\n   * Get label and value for inputs which are shown in Filter Bar\n   * @param input_element\n   * @param value\n   * @param label\n   * @returns {string}\n   */\n  var getPresentedValueForInput = function (input_element, value) {\n    var presented_value = \"\";\n\n    //Handle value for Multi Select Input\n    if (input_element.is(\":checkbox\")) {\n      var options = [];\n      input_element.each(function() {\n        if ($(this).prop('checked')) {\n          options.push($(this).parent().find('span').text());\n        }\n      });\n      if (options.length != 0) {\n        active_checkboxes = options.join(', ');\n        presented_value = active_checkboxes;\n      }\n    }\n    //Handle value for Select Input\n    else if (input_element.is(\"select\") && value !== \"\") {\n      var selected_option = input_element.find(\"option:selected\").text();\n      presented_value = selected_option;\n    }\n    //Handle value for all other Inputs\n    else if (value !== undefined && value !== \"\") {\n      presented_value = value;\n    }\n\n    return presented_value;\n  };\n\n  /**\n   * Store filter status (hidden or shown) in hidden input fields\n   * @param $el\n   * @param index\n   * @param val\n   */\n  var storeFilterStatus = function ($el, index, val) {\n    $($el.parents(\".il-filter\").find(\".il-filter-field-status\").get(index)).val(val);\n  };\n\n  /**\n   * Create hidden inputs for GET-request and insert them into the DOM\n   * @param $el\n   * @param url_params\n   */\n  var createHiddenInputs = function ($el, url_params) {\n    for (var param in url_params) {\n      var input = \"<input type=\\\"hidden\\\" name=\\\"\" + param + \"\\\" value=\\\"\" + url_params[param] + \"\\\">\";\n      $el.parents('form').find('.il-filter-bar').before(input);\n    }\n  };\n\n  /**\n   * Search for the Label of the Input which should be added to the Filter\n   * @param $el\n   * @param label\n   */\n  var searchInputLabel = function ($el, label) {\n    var input_label = $el.parents(\".il-standard-form\").find(\".input-group-addon.leftaddon\").filter(function () {\n      return $(this).text() === label;\n    });\n    return input_label;\n  };\n\n  /**\n   * Search for the given Input Element\n   * @param $el\n   */\n  var searchInputElement = function ($el) {\n    var input_element = $el.parents(\".il-popover-container\").find(\":input\");\n    return input_element;\n  };\n\n  /**\n   * Search for the checkboxes in the given Multi Select Input Element (in the Popover)\n   * @param $el\n   */\n  var searchInputElementMultiSelect = function ($el) {\n    var checkboxes = $el.parents(\".il-popover-container\").find(\".il-standard-popover-content\").children().children().find(\"input\");\n    return checkboxes;\n  };\n\n  /**\n   * Search for the Input Field which should be added to the Add-Button\n   * @param $el\n   * @param label\n   */\n  var searchInputField = function ($el, label) {\n    var input_field = $el.parents(\".il-standard-form\").find(\".btn-link\").filter(function () {\n      return $(this).text() === label;\n    }).parents(\"li\");\n    return input_field;\n  };\n\n  /**\n   * Search for the Add-Button in the Filter\n   * @param $el\n   */\n  var searchAddButton = function ($el) {\n    var add_button = $el.parents(\".il-standard-form\").find(\".btn-bulky\").parents(\".il-popover-container\");\n    return add_button;\n  };\n\n  /**\n   *\n   * @param event\n   * @param signalData\n   */\n  var onInputUpdate = function (event, signalData) {\n    let outputSpan;\n    var $el = $(signalData.triggerer[0]);\n    var pop_id = $el.parents(\".il-popover\").attr(\"id\");\n    if (pop_id) {\t// we have an already opened popover\n      outputSpan = document.querySelector(\"span[data-target='\" + pop_id + \"']\");\n    } else {\n      // no popover yet, we are still in the same input group and search for the il-filter-field span\n      outputSpan = signalData\n        .triggerer[0]\n      .closest(\".input-group\")\n      .querySelector(\"span.il-filter-field\");\n    }\n    if (outputSpan) {\n      outputSpan.innerText = signalData.options.string_value;\n    }\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   */\n  var onRemoveClick = function (event, id) {\n    var $el = $(\"#\" + id);\n\n    // Store show/hide status in hidden status inputs\n    var index = $el.parents(\".il-popover-container\").index();\n    storeFilterStatus($el, index, \"0\");\n\n    //Remove Input Field from Filter\n    $el.parents(\".il-popover-container\").hide();\n\n    //Clear Input Field (Text, Numeric, Select) when it is removed\n    var input_element = searchInputElement($el);\n    input_element.val(\"\");\n\n    //Clear Multi Select Input Field when it is removed\n    var checkboxes = searchInputElementMultiSelect($el);\n    checkboxes.each(function () {\n      $(this).prop(\"checked\", false);\n    });\n    checkboxes.parents(\".il-popover-container\").find(\".il-filter-field\").html(\"\");\n\n    //Add Input Field to Add-Button\n    var label = $el.parents(\".input-group\").find(\".input-group-addon.leftaddon\").html();\n    var input_field = searchInputField($el, label);\n    input_field.show();\n\n    //Show Add-Button when not all Input Fields are shown in the Filter\n    var add_button = searchAddButton($el);\n    var addable_inputs = $el.parents(\".il-standard-form\").find(\".il-popover-container:hidden\").length;\n    if (addable_inputs != 0) {\n      add_button.show();\n    }\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   */\n  var onAddClick = function (event, id) {\n    var $el = $(\"#\" + id);\n    var label = $el.text();\n\n    //Remove Input Field from Add-Button\n    $el.parent().hide();\n\n    // Store show/hide status in hidden status inputs\n    var index = $el.parent().index();\n    storeFilterStatus($el, index, \"1\");\n\n    // Add Input Field to Filter\n    var input_label = searchInputLabel($el, label);\n    input_label.parents(\".il-popover-container\").show();\n\n    //Focus on the Input Element (Text, Numeric, Select)\n    var input_element = searchInputElement(input_label);\n    input_element.focus();\n\n    //Imitate a click on the Input Field in the Fiter (for complex Input Elements which use Popover)\n    input_label.parent().find(\".il-filter-field\").click();\n\n    //Focus on the first checkbox in the Multi Select Input Element in the Popover\n    var checkboxes = searchInputElementMultiSelect(input_label);\n    if (checkboxes.length != 0) {\n      checkboxes[0].focus();\n    }\n\n    //Hide Add-Button when all Input Fields are shown in the Filter\n    var add_button = searchAddButton($el);\n    var addable_inputs = $el.parents(\".il-filter\").find(\".il-filter-add-list\").find(\"li:visible\").length;\n    if (addable_inputs === 0) {\n      add_button.hide();\n    }\n\n    //Hide the Popover of the Add-Button when adding Input Field\n    add_button.find(\".il-popover\").hide();\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   * @param cmd\n   */\n  var onCmd = function (event, id, cmd) {\n    //Get the URL for GET-request, put the components of the query string into hidden inputs and submit the filter\n    var $el = $(\"#\" + id);\n    var action = $el.parents('form').attr(\"data-cmd-\" + cmd);\n    var url = parse_url(action);\n    var url_params = url['query_params'];\n    createHiddenInputs($el, url_params);\n    $el.parents('form').submit();\n  };\n\n  /**\n   *\n   * @param event\n   * @param id\n   * @param cmd\n   */\n  var onAjaxCmd = function (event, id, cmd) {\n    //Get the URL for GET-request\n    var $el = $(\"#\" + id);\n    var action = $el.parents('form').attr(\"data-cmd-\" + cmd);\n    //Add the inputs to the URL (for correct rendering within the session) and perform the request as an Ajax-request\n    var formData = $el.parents('form').serialize();\n    $.ajax({\n      type: 'GET',\n      url: action + \"&\" + formData,\n    })\n  };\n\n  /**\n   * parse url, based on https://github.com/hirak/phpjs/blob/master/functions/url/parse_url.js\n   * @param str\n   * @returns {{}}\n   */\n  function parse_url(str) {\n    var query;\n    var key = [\n      'source',\n      'scheme',\n      'authority',\n      'userInfo',\n      'user',\n      'pass',\n      'host',\n      'port',\n      'relative',\n      'path',\n      'directory',\n      'file',\n      'query',\n      'fragment'\n    ];\n    var reg_ex = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:(([^:@\\/]*):?([^:@\\/]*))?@)?([^:\\/?#]*)(?::(\\d*))?))?((((?:[^?#\\/]*\\/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/;\n\n    var m = reg_ex.exec(str);\n    var uri = {};\n    var i = 14;\n\n    while (i--) {\n      if (m[i]) {\n        uri[key[i]] = m[i];\n      }\n    }\n\n    var parser = /(?:^|&)([^&=]*)=?([^&]*)/g;\n    uri['query_params'] = {};\n    query = uri[key[12]] || '';\n    query.replace(parser, function ($0, $1, $2) {\n      if ($1) {\n        uri['query_params'][$1] = $2;\n      }\n    });\n\n    delete uri.source;\n    return uri;\n  }\n\n  /**\n   * Public interface\n   */\n  return {\n    onInputUpdate: onInputUpdate,\n    onRemoveClick: onRemoveClick,\n    onAddClick: onAddClick,\n    onCmd: onCmd,\n    onAjaxCmd: onAjaxCmd\n  };\n\n};\n\nexport default filter;\n"],"mappings":"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"}},"mtime":1664201975172},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/test/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/test/mainbar.test.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nvar _chai = require(\"chai\");\nvar _mainbarMain = _interopRequireDefault(require(\"../src/mainbar.main.js\"));\nvar _mainbarModel = _interopRequireDefault(require(\"../src/mainbar.model.js\"));\nvar _mainbarPersistence = _interopRequireDefault(require(\"../src/mainbar.persistence.js\"));\nvar _mainbarRenderer = _interopRequireDefault(require(\"../src/mainbar.renderer.js\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n//'use strict';\n\n//import { assert } from 'chai';\n\ndescribe('mainbar components are there', function () {\n  it('mainbar', function () {\n    (0, _chai.expect)(_mainbarMain[\"default\"]).to.not.be.undefined;\n  });\n  it('model', function () {\n    (0, _chai.expect)(_mainbarModel[\"default\"]).to.not.be.undefined;\n  });\n  it('persistence', function () {\n    (0, _chai.expect)(_mainbarPersistence[\"default\"]).to.not.be.undefined;\n  });\n  it('renderer', function () {\n    (0, _chai.expect)(_mainbarRenderer[\"default\"]).to.not.be.undefined;\n  });\n});\ndescribe('model', function () {\n  var m = (0, _mainbarModel[\"default\"])(),\n    state,\n    entry,\n    entry_id = '0:1',\n    sub_entry,\n    sub_entry_id = '0:1:1.1',\n    tool_entry,\n    tool_entry_id = 't:0';\n  it('initializes with (empty) state', function () {\n    state = m.getState();\n    (0, _chai.expect)(state).to.be.an('object');\n    (0, _chai.expect)(state.entries).to.be.an('object');\n    (0, _chai.expect)(state.tools).to.be.an('object');\n    //....\n  });\n\n  it('factors and adds entries/tools', function () {\n    m.actions.addEntry(entry_id);\n    m.actions.addEntry(sub_entry_id);\n    m.actions.addTool(tool_entry_id);\n    state = m.getState();\n    entry = state.entries[entry_id];\n    sub_entry = state.entries[sub_entry_id];\n    (0, _chai.expect)(entry).to.be.an('object');\n    (0, _chai.expect)([entry.id, entry.engaged, entry.hidden]).to.eql([entry_id, false, false]);\n    tool_entry = state.tools[tool_entry_id];\n    (0, _chai.expect)(tool_entry).to.be.an('object');\n  });\n  it('entries have (top-)levels and model filters properly', function () {\n    (0, _chai.expect)([entry.isTopLevel(), sub_entry.isTopLevel()]).to.eql([true, false]);\n    (0, _chai.expect)(m.getTopLevelEntries()).to.eql([entry]);\n  });\n  it('actions engage and disengage entries', function () {\n    m.actions.engageEntry(entry_id);\n    state = m.getState();\n    (0, _chai.expect)([state.entries[entry_id].engaged, state.entries[sub_entry_id].engaged, state.tools[tool_entry_id].engaged]).to.eql([true, false, false]);\n    m.actions.disengageEntry(entry_id);\n    state = m.getState();\n    (0, _chai.expect)([state.entries[entry_id].engaged, state.entries[sub_entry_id].engaged, state.tools[tool_entry_id].engaged]).to.eql([false, false, false]);\n    m.actions.engageEntry(sub_entry_id);\n    state = m.getState();\n    (0, _chai.expect)([state.entries[entry_id].engaged, state.entries[sub_entry_id].engaged, state.tools[tool_entry_id].engaged]).to.eql([true, true, false]);\n    m.actions.engageTool(tool_entry_id);\n    state = m.getState();\n    (0, _chai.expect)([state.entries[entry_id].engaged, state.entries[sub_entry_id].engaged, state.tools[tool_entry_id].engaged]).to.eql([false, true,\n    //subentry, still engaged.\n    true]);\n    m.actions.engageEntry(entry_id);\n    state = m.getState();\n    (0, _chai.expect)([state.entries[entry_id].engaged, state.entries[sub_entry_id].engaged, state.tools[tool_entry_id].engaged]).to.eql([true, true,\n    //subentry, still engaged.\n    false]);\n  });\n  it('calculates engaged path correctly', function () {\n    m.actions.addEntry('xx:1');\n    m.actions.addEntry('xx:1:1');\n    state = m.getState();\n    state.entries['xx:1'].engaged = true;\n    state.entries['xx:1:1'].engaged = true;\n    (0, _chai.expect)(m.isInView('xx:1')).to.be[\"true\"];\n    (0, _chai.expect)(m.isInView('xx:1:1')).to.be[\"true\"];\n    state.entries['xx:1'].engaged = false;\n    state.entries['xx:1:1'].engaged = true;\n    (0, _chai.expect)(m.isInView('xx:1')).to.be[\"false\"];\n    (0, _chai.expect)(m.isInView('xx:1:1')).to.be[\"false\"];\n    (0, _chai.expect)(m.isInView('apparently_nonsense')).to.be[\"true\"];\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZXhwZWN0IiwibWFpbmJhciIsInRvIiwibm90IiwiYmUiLCJ1bmRlZmluZWQiLCJtb2RlbCIsInBlcnNpc3RlbmNlIiwicmVuZGVyZXIiLCJtIiwic3RhdGUiLCJlbnRyeSIsImVudHJ5X2lkIiwic3ViX2VudHJ5Iiwic3ViX2VudHJ5X2lkIiwidG9vbF9lbnRyeSIsInRvb2xfZW50cnlfaWQiLCJnZXRTdGF0ZSIsImFuIiwiZW50cmllcyIsInRvb2xzIiwiYWN0aW9ucyIsImFkZEVudHJ5IiwiYWRkVG9vbCIsImlkIiwiZW5nYWdlZCIsImhpZGRlbiIsImVxbCIsImlzVG9wTGV2ZWwiLCJnZXRUb3BMZXZlbEVudHJpZXMiLCJlbmdhZ2VFbnRyeSIsImRpc2VuZ2FnZUVudHJ5IiwiZW5nYWdlVG9vbCIsImlzSW5WaWV3Il0sInNvdXJjZVJvb3QiOiIvVXNlcnMvdGhpYmVhdS9EZXZlbG9wbWVudC9JTElBUy9zcmMvVUkvdGVtcGxhdGVzL2pzL01haW5Db250cm9scy90ZXN0LyIsInNvdXJjZXMiOlsibWFpbmJhci50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgZXhwZWN0IH0gZnJvbSAnY2hhaSc7XG4vL2ltcG9ydCB7IGFzc2VydCB9IGZyb20gJ2NoYWknO1xuXG5pbXBvcnQgbWFpbmJhciAgZnJvbSAnLi4vc3JjL21haW5iYXIubWFpbi5qcyc7XG5pbXBvcnQgbW9kZWwgIGZyb20gJy4uL3NyYy9tYWluYmFyLm1vZGVsLmpzJztcbmltcG9ydCBwZXJzaXN0ZW5jZSAgZnJvbSAnLi4vc3JjL21haW5iYXIucGVyc2lzdGVuY2UuanMnO1xuaW1wb3J0IHJlbmRlcmVyICBmcm9tICcuLi9zcmMvbWFpbmJhci5yZW5kZXJlci5qcyc7XG5cblxuZGVzY3JpYmUoJ21haW5iYXIgY29tcG9uZW50cyBhcmUgdGhlcmUnLCBmdW5jdGlvbigpIHtcbiAgICBpdCgnbWFpbmJhcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QobWFpbmJhcikudG8ubm90LmJlLnVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpdCgnbW9kZWwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZXhwZWN0KG1vZGVsKS50by5ub3QuYmUudW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGl0KCdwZXJzaXN0ZW5jZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QocGVyc2lzdGVuY2UpLnRvLm5vdC5iZS51bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaXQoJ3JlbmRlcmVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGV4cGVjdChyZW5kZXJlcikudG8ubm90LmJlLnVuZGVmaW5lZDtcbiAgICB9KTtcbn0pO1xuXG5cbmRlc2NyaWJlKCdtb2RlbCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBtID0gbW9kZWwoKSxcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIGVudHJ5LFxuICAgICAgICBlbnRyeV9pZCA9ICcwOjEnLFxuICAgICAgICBzdWJfZW50cnksXG4gICAgICAgIHN1Yl9lbnRyeV9pZCA9ICcwOjE6MS4xJyxcbiAgICAgICAgdG9vbF9lbnRyeSxcbiAgICAgICAgdG9vbF9lbnRyeV9pZCA9ICd0OjAnO1xuXG4gICAgaXQoJ2luaXRpYWxpemVzIHdpdGggKGVtcHR5KSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcbiAgICAgICAgZXhwZWN0KHN0YXRlKS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgIGV4cGVjdChzdGF0ZS5lbnRyaWVzKS50by5iZS5hbignb2JqZWN0Jyk7XG4gICAgICAgIGV4cGVjdChzdGF0ZS50b29scykudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICAvLy4uLi5cbiAgICB9KTtcblxuICAgIGl0KCdmYWN0b3JzIGFuZCBhZGRzIGVudHJpZXMvdG9vbHMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgbS5hY3Rpb25zLmFkZEVudHJ5KGVudHJ5X2lkKTtcbiAgICAgICAgbS5hY3Rpb25zLmFkZEVudHJ5KHN1Yl9lbnRyeV9pZCk7XG4gICAgICAgIG0uYWN0aW9ucy5hZGRUb29sKHRvb2xfZW50cnlfaWQpO1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcbiAgICAgICAgZW50cnkgPSBzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXTtcbiAgICAgICAgc3ViX2VudHJ5ID0gc3RhdGUuZW50cmllc1tzdWJfZW50cnlfaWRdO1xuXG4gICAgICAgIGV4cGVjdChlbnRyeSkudG8uYmUuYW4oJ29iamVjdCcpO1xuICAgICAgICBleHBlY3QoW1xuICAgICAgICAgICAgZW50cnkuaWQsXG4gICAgICAgICAgICBlbnRyeS5lbmdhZ2VkLFxuICAgICAgICAgICAgZW50cnkuaGlkZGVuXG4gICAgICAgIF0pLnRvLmVxbChbXG4gICAgICAgICAgICBlbnRyeV9pZCxcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdG9vbF9lbnRyeSA9IHN0YXRlLnRvb2xzW3Rvb2xfZW50cnlfaWRdO1xuICAgICAgICBleHBlY3QodG9vbF9lbnRyeSkudG8uYmUuYW4oJ29iamVjdCcpO1xuXG4gICAgfSk7XG5cbiAgICBpdCgnZW50cmllcyBoYXZlICh0b3AtKWxldmVscyBhbmQgbW9kZWwgZmlsdGVycyBwcm9wZXJseScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBleHBlY3QoW1xuICAgICAgICAgICAgZW50cnkuaXNUb3BMZXZlbCgpLFxuICAgICAgICAgICAgc3ViX2VudHJ5LmlzVG9wTGV2ZWwoKVxuICAgICAgICBdKS50by5lcWwoW1xuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGV4cGVjdChtLmdldFRvcExldmVsRW50cmllcygpKS50by5lcWwoW2VudHJ5XSk7XG4gICAgfSk7XG5cbiAgICBpdCgnYWN0aW9ucyBlbmdhZ2UgYW5kIGRpc2VuZ2FnZSBlbnRyaWVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG0uYWN0aW9ucy5lbmdhZ2VFbnRyeShlbnRyeV9pZCk7XG4gICAgICAgIHN0YXRlID0gbS5nZXRTdGF0ZSgpO1xuXG4gICAgICAgIGV4cGVjdChbXG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXS5lbmdhZ2VkLFxuICAgICAgICAgICAgc3RhdGUuZW50cmllc1tzdWJfZW50cnlfaWRdLmVuZ2FnZWQsXG4gICAgICAgICAgICBzdGF0ZS50b29sc1t0b29sX2VudHJ5X2lkXS5lbmdhZ2VkXG4gICAgICAgIF0pLnRvLmVxbChbXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICBdKTtcblxuICAgICAgICBtLmFjdGlvbnMuZGlzZW5nYWdlRW50cnkoZW50cnlfaWQpO1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcbiAgICAgICAgZXhwZWN0KFtcbiAgICAgICAgICAgIHN0YXRlLmVudHJpZXNbZW50cnlfaWRdLmVuZ2FnZWQsXG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW3N1Yl9lbnRyeV9pZF0uZW5nYWdlZCxcbiAgICAgICAgICAgIHN0YXRlLnRvb2xzW3Rvb2xfZW50cnlfaWRdLmVuZ2FnZWRcbiAgICAgICAgXSkudG8uZXFsKFtcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgZmFsc2UsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICBdKTtcblxuICAgICAgICBtLmFjdGlvbnMuZW5nYWdlRW50cnkoc3ViX2VudHJ5X2lkKTtcbiAgICAgICAgc3RhdGUgPSBtLmdldFN0YXRlKCk7XG4gICAgICAgIGV4cGVjdChbXG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXS5lbmdhZ2VkLFxuICAgICAgICAgICAgc3RhdGUuZW50cmllc1tzdWJfZW50cnlfaWRdLmVuZ2FnZWQsXG4gICAgICAgICAgICBzdGF0ZS50b29sc1t0b29sX2VudHJ5X2lkXS5lbmdhZ2VkXG4gICAgICAgIF0pLnRvLmVxbChbXG4gICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgIF0pO1xuXG4gICAgICAgIG0uYWN0aW9ucy5lbmdhZ2VUb29sKHRvb2xfZW50cnlfaWQpO1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcbiAgICAgICAgZXhwZWN0KFtcbiAgICAgICAgICAgIHN0YXRlLmVudHJpZXNbZW50cnlfaWRdLmVuZ2FnZWQsXG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW3N1Yl9lbnRyeV9pZF0uZW5nYWdlZCxcbiAgICAgICAgICAgIHN0YXRlLnRvb2xzW3Rvb2xfZW50cnlfaWRdLmVuZ2FnZWRcbiAgICAgICAgXSkudG8uZXFsKFtcbiAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgdHJ1ZSwgLy9zdWJlbnRyeSwgc3RpbGwgZW5nYWdlZC5cbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgXSk7XG5cblxuICAgICAgICBtLmFjdGlvbnMuZW5nYWdlRW50cnkoZW50cnlfaWQpO1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcbiAgICAgICAgZXhwZWN0KFtcbiAgICAgICAgICAgIHN0YXRlLmVudHJpZXNbZW50cnlfaWRdLmVuZ2FnZWQsXG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW3N1Yl9lbnRyeV9pZF0uZW5nYWdlZCxcbiAgICAgICAgICAgIHN0YXRlLnRvb2xzW3Rvb2xfZW50cnlfaWRdLmVuZ2FnZWRcbiAgICAgICAgXSkudG8uZXFsKFtcbiAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICB0cnVlLCAvL3N1YmVudHJ5LCBzdGlsbCBlbmdhZ2VkLlxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgXSk7XG5cbiAgICB9KTtcbiAgICBcbiAgICBpdCgnY2FsY3VsYXRlcyBlbmdhZ2VkIHBhdGggY29ycmVjdGx5JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG0uYWN0aW9ucy5hZGRFbnRyeSgneHg6MScpO1xuICAgICAgICBtLmFjdGlvbnMuYWRkRW50cnkoJ3h4OjE6MScpO1xuICAgICAgICBzdGF0ZSA9IG0uZ2V0U3RhdGUoKTtcblxuICAgICAgICBzdGF0ZS5lbnRyaWVzWyd4eDoxJ10uZW5nYWdlZCA9IHRydWU7XG4gICAgICAgIHN0YXRlLmVudHJpZXNbJ3h4OjE6MSddLmVuZ2FnZWQgPSB0cnVlO1xuICAgICAgICBleHBlY3QobS5pc0luVmlldygneHg6MScpKS50by5iZS50cnVlO1xuICAgICAgICBleHBlY3QobS5pc0luVmlldygneHg6MToxJykpLnRvLmJlLnRydWU7XG5cbiAgICAgICAgc3RhdGUuZW50cmllc1sneHg6MSddLmVuZ2FnZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUuZW50cmllc1sneHg6MToxJ10uZW5nYWdlZCA9IHRydWU7XG4gICAgICAgIGV4cGVjdChtLmlzSW5WaWV3KCd4eDoxJykpLnRvLmJlLmZhbHNlO1xuICAgICAgICBleHBlY3QobS5pc0luVmlldygneHg6MToxJykpLnRvLmJlLmZhbHNlO1xuXG4gICAgICAgIGV4cGVjdChtLmlzSW5WaWV3KCdhcHBhcmVudGx5X25vbnNlbnNlJykpLnRvLmJlLnRydWU7XG4gICAgfSk7XG59KTtcbiJdLCJtYXBwaW5ncyI6Ijs7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQW1EO0FBUG5EOztBQUVBOztBQVFBQSxRQUFRLENBQUMsOEJBQThCLEVBQUUsWUFBVztFQUNoREMsRUFBRSxDQUFDLFNBQVMsRUFBRSxZQUFXO0lBQ3JCLElBQUFDLFlBQU0sRUFBQ0MsdUJBQU8sQ0FBQyxDQUFDQyxFQUFFLENBQUNDLEdBQUcsQ0FBQ0MsRUFBRSxDQUFDQyxTQUFTO0VBQ3ZDLENBQUMsQ0FBQztFQUNGTixFQUFFLENBQUMsT0FBTyxFQUFFLFlBQVc7SUFDbkIsSUFBQUMsWUFBTSxFQUFDTSx3QkFBSyxDQUFDLENBQUNKLEVBQUUs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","map":{"version":3,"names":["describe","it","expect","mainbar","to","not","be","undefined","model","persistence","renderer","m","state","entry","entry_id","sub_entry","sub_entry_id","tool_entry","tool_entry_id","getState","an","entries","tools","actions","addEntry","addTool","id","engaged","hidden","eql","isTopLevel","getTopLevelEntries","engageEntry","disengageEntry","engageTool","isInView"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/test/","sources":["mainbar.test.js"],"sourcesContent":["//'use strict';\nimport { expect } from 'chai';\n//import { assert } from 'chai';\n\nimport mainbar  from '../src/mainbar.main.js';\nimport model  from '../src/mainbar.model.js';\nimport persistence  from '../src/mainbar.persistence.js';\nimport renderer  from '../src/mainbar.renderer.js';\n\n\ndescribe('mainbar components are there', function() {\n    it('mainbar', function() {\n        expect(mainbar).to.not.be.undefined;\n    });\n    it('model', function() {\n        expect(model).to.not.be.undefined;\n    });\n    it('persistence', function() {\n        expect(persistence).to.not.be.undefined;\n    });\n    it('renderer', function() {\n        expect(renderer).to.not.be.undefined;\n    });\n});\n\n\ndescribe('model', function() {\n    var m = model(),\n        state,\n        entry,\n        entry_id = '0:1',\n        sub_entry,\n        sub_entry_id = '0:1:1.1',\n        tool_entry,\n        tool_entry_id = 't:0';\n\n    it('initializes with (empty) state', function() {\n        state = m.getState();\n        expect(state).to.be.an('object');\n        expect(state.entries).to.be.an('object');\n        expect(state.tools).to.be.an('object');\n        //....\n    });\n\n    it('factors and adds entries/tools', function() {\n        m.actions.addEntry(entry_id);\n        m.actions.addEntry(sub_entry_id);\n        m.actions.addTool(tool_entry_id);\n        state = m.getState();\n        entry = state.entries[entry_id];\n        sub_entry = state.entries[sub_entry_id];\n\n        expect(entry).to.be.an('object');\n        expect([\n            entry.id,\n            entry.engaged,\n            entry.hidden\n        ]).to.eql([\n            entry_id,\n            false,\n            false\n        ]);\n\n        tool_entry = state.tools[tool_entry_id];\n        expect(tool_entry).to.be.an('object');\n\n    });\n\n    it('entries have (top-)levels and model filters properly', function() {\n        expect([\n            entry.isTopLevel(),\n            sub_entry.isTopLevel()\n        ]).to.eql([\n            true,\n            false\n        ]);\n\n        expect(m.getTopLevelEntries()).to.eql([entry]);\n    });\n\n    it('actions engage and disengage entries', function() {\n        m.actions.engageEntry(entry_id);\n        state = m.getState();\n\n        expect([\n            state.entries[entry_id].engaged,\n            state.entries[sub_entry_id].engaged,\n            state.tools[tool_entry_id].engaged\n        ]).to.eql([\n            true,\n            false,\n            false\n        ]);\n\n        m.actions.disengageEntry(entry_id);\n        state = m.getState();\n        expect([\n            state.entries[entry_id].engaged,\n            state.entries[sub_entry_id].engaged,\n            state.tools[tool_entry_id].engaged\n        ]).to.eql([\n            false,\n            false,\n            false\n        ]);\n\n        m.actions.engageEntry(sub_entry_id);\n        state = m.getState();\n        expect([\n            state.entries[entry_id].engaged,\n            state.entries[sub_entry_id].engaged,\n            state.tools[tool_entry_id].engaged\n        ]).to.eql([\n            true,\n            true,\n            false\n        ]);\n\n        m.actions.engageTool(tool_entry_id);\n        state = m.getState();\n        expect([\n            state.entries[entry_id].engaged,\n            state.entries[sub_entry_id].engaged,\n            state.tools[tool_entry_id].engaged\n        ]).to.eql([\n            false,\n            true, //subentry, still engaged.\n            true\n        ]);\n\n\n        m.actions.engageEntry(entry_id);\n        state = m.getState();\n        expect([\n            state.entries[entry_id].engaged,\n            state.entries[sub_entry_id].engaged,\n            state.tools[tool_entry_id].engaged\n        ]).to.eql([\n            true,\n            true, //subentry, still engaged.\n            false\n        ]);\n\n    });\n    \n    it('calculates engaged path correctly', function() {\n        m.actions.addEntry('xx:1');\n        m.actions.addEntry('xx:1:1');\n        state = m.getState();\n\n        state.entries['xx:1'].engaged = true;\n        state.entries['xx:1:1'].engaged = true;\n        expect(m.isInView('xx:1')).to.be.true;\n        expect(m.isInView('xx:1:1')).to.be.true;\n\n        state.entries['xx:1'].engaged = false;\n        state.entries['xx:1:1'].engaged = true;\n        expect(m.isInView('xx:1')).to.be.false;\n        expect(m.isInView('xx:1:1')).to.be.false;\n\n        expect(m.isInView('apparently_nonsense')).to.be.true;\n    });\n});\n"],"mappings":"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"}},"mtime":1671033224928},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/mainbar.main.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar mainbar = function mainbar() {\n  var mappings = {},\n    external_commands = {\n      /**\n       * Engage a certain tool or entry\n       */\n      engageEntry: function engageEntry(mapping_id) {\n        var tool_id = mappings[mapping_id];\n        if (Object.keys(this.model.getState().tools).includes(tool_id)) {\n          this.model.actions.engageTool(tool_id);\n        }\n        if (Object.keys(this.model.getState().entries).includes(tool_id)) {\n          this.model.actions.engageEntry(tool_id);\n        }\n        this.renderer.render(this.model.getState());\n        this.persistence.store(this.model.getState());\n      },\n      /**\n       * remove a certain tool\n       */\n      removeTool: function removeTool(mapping_id) {\n        var tool_id = mappings[mapping_id];\n        this.model.actions.removeTool(tool_id);\n        this.renderer.render(this.model.getState());\n        this.persistence.store(this.model.getState());\n      },\n      /**\n       * Just open the tools, activate last one\n       */\n      disengageAll: function disengageAll() {\n        this.model.actions.disengageAll();\n        this.renderer.render(this.model.getState());\n      },\n      /*\n       * clear all (active) stored states, used in e.g. logout\n       */\n      clearStates: function clearStates() {\n        this.model.actions.disengageAll();\n        this.persistence.store(this.model.getState());\n      }\n    },\n    construction = {\n      /**\n       * Add an entry to the model representing a tool.\n       * A tool, other than a regular entry, may be removeable by a user\n       * or may be invisible at first.\n       * This only adds to the model, the html-parts still need to be registered.\n       */\n      addToolEntry: function addToolEntry(position_id, removeable, hidden, gs_id) {\n        this.model.actions.addTool(position_id, removeable, hidden, gs_id);\n      },\n      /**\n       * An entry consists of several visible parts: the button, the slate and\n       * the close-button (remover).\n       * All these parts are summed up in the model via the position_id;\n       * however, when it comes to rendering, the individual parts are needed.\n       * The function also adds an entry to the model if there is none already.\n       */\n      addPartIdAndEntry: function addPartIdAndEntry(position_id, part, html_id, is_tool) {\n        this.renderer.addEntry(position_id, part, html_id);\n        if (!is_tool && position_id in this.model.getState().tools == false) {\n          this.model.actions.addEntry(position_id);\n        }\n      },\n      /**\n       * Toplevel entries and tools are being given to the mainbar with an\n       * id; this maps the id to the position_id calculated during rendering of\n       * the mainbar.\n       */\n      addMapping: function addMapping(mapping_id, position_id) {\n        if (!(mapping_id in Object.keys(mappings))) {\n          mappings[mapping_id] = position_id;\n        }\n      },\n      /**\n       * Register signals. Signals will have an id (=position_id) and an action\n       * in their options,\n       */\n      addTriggerSignal: function addTriggerSignal(signal) {\n        $(document).on(signal, function (event, signalData) {\n          var id = signalData.options.entry_id,\n            action = signalData.options.action,\n            mb = il.UI.maincontrols.mainbar,\n            state,\n            after_render;\n          switch (action) {\n            case 'trigger_mapped':\n              id = mappings[id];\n            //no break afterwards!\n\n            case 'trigger':\n              state = mb.model.getState();\n              if (id in state.tools) {\n                mb.model.actions.engageTool(id);\n                after_render = function after_render() {\n                  mb.renderer.focusSubentry(id);\n                };\n              }\n              if (id in state.entries) {\n                //toggle\n                if (state.entries[id].engaged) {\n                  mb.model.actions.disengageEntry(id);\n                } else {\n                  mb.model.actions.engageEntry(id);\n                  if (state.entries[id].isTopLevel()) {\n                    after_render = function after_render() {\n                      mb.renderer.focusSubentry(id);\n                    };\n                  }\n                }\n              }\n              break;\n            case 'remove':\n              mb.model.actions.removeTool(id);\n              break;\n            case 'disengage_all':\n              mb.model.actions.disengageAll();\n              var state = mb.model.getState();\n              last_top_id = state.last_active_top;\n              after_render = function after_render() {\n                mb.renderer.focusTopentry(last_top_id);\n              };\n              state.last_active_top = null;\n              mb.model.setState(state);\n              break;\n            case 'toggle_tools':\n              mb.model.actions.toggleTools();\n              var state = mb.model.getState();\n              id = Object.keys(state.tools)[0];\n              if (state.tools_engaged) {\n                after_render = function after_render() {\n                  for (idx in state.tools) {\n                    var tool = state.tools[idx];\n                    if (tool.engaged) {\n                      id = tool.id;\n                    }\n                  }\n                  mb.renderer.focusTopentry(id);\n                };\n              }\n              break;\n          }\n          mb.renderer.render(mb.model.getState());\n          if (after_render) {\n            after_render();\n          }\n          mb.persistence.store(mb.model.getState());\n          mb.renderer.dispatchResizeNotification();\n        });\n      }\n    },\n    helper = {\n      findToolByGSId: function findToolByGSId(tools, gs_id) {\n        for (var idx in tools) {\n          if (tools[idx].gs_id === gs_id) {\n            return tools[idx];\n          }\n        }\n        return null;\n      },\n      getFirstEngagedToolId: function getFirstEngagedToolId(tools) {\n        var keys = Object.keys(tools);\n        for (var idx in keys) {\n          if (tools[keys[idx]].engaged) {\n            return keys[idx];\n          }\n        }\n        return false;\n      }\n    },\n    adjustToScreenSize = function adjustToScreenSize(event) {\n      if (event.detail && event.detail.mainbar_induced) {\n        return;\n      }\n      var mb = il.UI.maincontrols.mainbar,\n        amount = mb.renderer.calcAmountOfButtons();\n      if (il.UI.page.isSmallScreen()) {\n        mb.model.actions.disengageAll();\n      }\n      mb.model.actions.initMoreButton(amount);\n      mb.renderer.render(mb.model.getState());\n    },\n    init_desktop = function init_desktop(initially_active) {\n      var mb = il.UI.maincontrols.mainbar,\n        cookie_state = mb.persistence.read(),\n        init_state = mb.model.getState();\n      /**\n       * apply cookie-state;\n       * tools appear and disappear by context and\n       * global screen modifications - take them from there,\n       * but apply engaged states\n       */\n      if (Object.keys(cookie_state).length > 0) {\n        //re-apply engaged\n        for (var idx in init_state.tools) {\n          gs_id = init_state.tools[idx].gs_id;\n          if (cookie_state.known_tools.indexOf(gs_id) === -1) {\n            cookie_state.known_tools.push(gs_id);\n            if (!init_state.tools[idx].hidden) {\n              init_state.tools[idx].engaged = true; //new tool is active\n            }\n          } else {\n            stored = helper.findToolByGSId(cookie_state.tools, gs_id);\n            if (stored) {\n              init_state.tools[idx].engaged = stored.engaged;\n              init_state.tools[idx].hidden = stored.hidden;\n            }\n          }\n        }\n        cookie_state.tools = init_state.tools;\n        mb.model.setState(cookie_state);\n      }\n      init_state = mb.model.getState();\n      /**\n       * initially active (from mainbar-component) will override everything (but tools)\n       */\n      if (initially_active) {\n        if (initially_active === '_none') {\n          mb.model.actions.disengageAll();\n        } else if (init_state.entries[mappings[initially_active]]) {\n          mb.model.actions.engageEntry(mappings[initially_active]);\n        } else if (init_state.tools[mappings[initially_active]]) {\n          mb.model.actions.engageTool(mappings[initially_active]);\n        }\n      }\n\n      /**\n       * Override potentially active entry, if there are is an active tool.\n       */\n      first_tool_id = helper.getFirstEngagedToolId(init_state.tools);\n      if (first_tool_id) {\n        mb.model.actions.engageTool(first_tool_id);\n      } else {\n        //tools engaged, but none active: take the first one:\n        var any_engaged = mb.model.getState().any_tools_engaged(),\n          any_visible = mb.model.getState().any_tools_visible();\n        if (any_engaged && any_visible) {\n          tool_id = Object.keys(init_state.tools).shift();\n          mb.model.actions.engageTool(tool_id);\n        } else {\n          mb.model.actions.disengageTools();\n        }\n        if (any_engaged === false && any_visible === false && mb.model.getState().any_entry_engaged === false) {\n          mb.model.actions.disengageAll();\n        } else {\n          last_top = mb.model.getState().last_active_top;\n          if (last_top) {\n            mb.model.actions.engageEntry(last_top);\n          } else {\n            mb.model.actions.disengageAll();\n          }\n        }\n      }\n      mb.model.actions.initMoreButton(mb.renderer.calcAmountOfButtons());\n      mb.renderer.render(mb.model.getState());\n    },\n    init_mobile = function init_mobile() {\n      var mb = il.UI.maincontrols.mainbar;\n      mb.model.actions.disengageAll();\n      mb.model.actions.initMoreButton(mb.renderer.calcAmountOfButtons());\n      mb.renderer.render(mb.model.getState());\n    },\n    init = function init(initially_active) {\n      if (il.UI.page.isSmallScreen()) {\n        init_mobile();\n      } else {\n        init_desktop(initially_active);\n      }\n    },\n    public_interface = {\n      addToolEntry: construction.addToolEntry,\n      addPartIdAndEntry: construction.addPartIdAndEntry,\n      addMapping: construction.addMapping,\n      addTriggerSignal: construction.addTriggerSignal,\n      adjustToScreenSize: adjustToScreenSize,\n      init: init,\n      engageTool: external_commands.engageEntry,\n      //for legacy reasons, please use engageEntry\n      engageEntry: external_commands.engageEntry,\n      removeTool: external_commands.removeTool,\n      disengageAll: external_commands.disengageAll,\n      clearStates: external_commands.clearStates\n    };\n  return public_interface;\n};\nvar _default = mainbar;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtYWluYmFyIiwibWFwcGluZ3MiLCJleHRlcm5hbF9jb21tYW5kcyIsImVuZ2FnZUVudHJ5IiwibWFwcGluZ19pZCIsInRvb2xfaWQiLCJPYmplY3QiLCJrZXlzIiwibW9kZWwiLCJnZXRTdGF0ZSIsInRvb2xzIiwiaW5jbHVkZXMiLCJhY3Rpb25zIiwiZW5nYWdlVG9vbCIsImVudHJpZXMiLCJyZW5kZXJlciIsInJlbmRlciIsInBlcnNpc3RlbmNlIiwic3RvcmUiLCJyZW1vdmVUb29sIiwiZGlzZW5nYWdlQWxsIiwiY2xlYXJTdGF0ZXMiLCJjb25zdHJ1Y3Rpb24iLCJhZGRUb29sRW50cnkiLCJwb3NpdGlvbl9pZCIsInJlbW92ZWFibGUiLCJoaWRkZW4iLCJnc19pZCIsImFkZFRvb2wiLCJhZGRQYXJ0SWRBbmRFbnRyeSIsInBhcnQiLCJodG1sX2lkIiwiaXNfdG9vbCIsImFkZEVudHJ5IiwiYWRkTWFwcGluZyIsImFkZFRyaWdnZXJTaWduYWwiLCJzaWduYWwiLCIkIiwiZG9jdW1lbnQiLCJvbiIsImV2ZW50Iiwic2lnbmFsRGF0YSIsImlkIiwib3B0aW9ucyIsImVudHJ5X2lkIiwiYWN0aW9uIiwibWIiLCJpbCIsIlVJIiwibWFpbmNvbnRyb2xzIiwic3RhdGUiLCJhZnRlcl9yZW5kZXIiLCJmb2N1c1N1YmVudHJ5IiwiZW5nYWdlZCIsImRpc2VuZ2FnZUVudHJ5IiwiaXNUb3BMZXZlbCIsImxhc3RfdG9wX2lkIiwibGFzdF9hY3RpdmVfdG9wIiwiZm9jdXNUb3BlbnRyeSIsInNldFN0YXRlIiwidG9nZ2xlVG9vbHMiLCJ0b29sc19lbmdhZ2VkIiwiaWR4IiwidG9vbCIsImRpc3BhdGNoUmVzaXplTm90aWZpY2F0aW9uIiwiaGVscGVyIiwiZmluZFRvb2xCeUdTSWQiLCJnZXRGaXJzdEVuZ2FnZWRUb29sSWQiLCJhZGp1c3RUb1NjcmVlblNpemUiLCJkZXRhaWwiLCJtYWluYmFyX2luZHVjZWQiLCJhbW91bnQiLCJjYWxjQW1vdW50T2ZCdXR0b25zIiwicGFnZSIsImlzU21hbGxTY3JlZW4iLCJpbml0TW9yZUJ1dHRvbiIsImluaXRfZGVza3RvcCIsImluaXRpYWxseV9hY3RpdmUiLCJjb29raWVfc3RhdGUiLCJyZWFkIiwiaW5pdF9zdGF0ZSIsImxlbmd0aCIsImtub3duX3Rvb2xzIiwiaW5kZXhPZiIsInB1c2giLCJzdG9yZWQiLCJmaXJzdF90b29sX2lkIiwiYW55X2VuZ2FnZWQiLCJhbnlfdG9vbHNfZW5nYWdlZCIsImFueV92aXNpYmxlIiwiYW55X3Rvb2xzX3Zpc2libGUiLCJzaGlmdCIsImRpc2VuZ2FnZVRvb2xzIiwiYW55X2VudHJ5X2VuZ2FnZWQiLCJsYXN0X3RvcCIsImluaXRfbW9iaWxlIiwiaW5pdCIsInB1YmxpY19pbnRlcmZhY2UiXSwic291cmNlUm9vdCI6Ii9Vc2Vycy90aGliZWF1L0RldmVsb3BtZW50L0lMSUFTL3NyYy9VSS90ZW1wbGF0ZXMvanMvTWFpbkNvbnRyb2xzL3NyYy8iLCJzb3VyY2VzIjpbIm1haW5iYXIubWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbWFpbmJhciA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXBwaW5ncyA9IHt9LFxuICAgIGV4dGVybmFsX2NvbW1hbmRzID0ge1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5nYWdlIGEgY2VydGFpbiB0b29sIG9yIGVudHJ5XG4gICAgICAgICAqL1xuICAgICAgICBlbmdhZ2VFbnRyeTogZnVuY3Rpb24obWFwcGluZ19pZCkge1xuICAgICAgICAgICAgdmFyIHRvb2xfaWQgPSBtYXBwaW5nc1ttYXBwaW5nX2lkXTtcbiAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMubW9kZWwuZ2V0U3RhdGUoKS50b29scykuaW5jbHVkZXModG9vbF9pZCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbnMuZW5nYWdlVG9vbCh0b29sX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE9iamVjdC5rZXlzKHRoaXMubW9kZWwuZ2V0U3RhdGUoKS5lbnRyaWVzKS5pbmNsdWRlcyh0b29sX2lkKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9ucy5lbmdhZ2VFbnRyeSh0b29sX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICB0aGlzLnBlcnNpc3RlbmNlLnN0b3JlKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiByZW1vdmUgYSBjZXJ0YWluIHRvb2xcbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZVRvb2w6IGZ1bmN0aW9uKG1hcHBpbmdfaWQpIHtcbiAgICAgICAgICAgIHZhciB0b29sX2lkID0gbWFwcGluZ3NbbWFwcGluZ19pZF07XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbnMucmVtb3ZlVG9vbCh0b29sX2lkKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICB0aGlzLnBlcnNpc3RlbmNlLnN0b3JlKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBKdXN0IG9wZW4gdGhlIHRvb2xzLCBhY3RpdmF0ZSBsYXN0IG9uZVxuICAgICAgICAgKi9cbiAgICAgICAgZGlzZW5nYWdlQWxsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9ucy5kaXNlbmdhZ2VBbGwoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIucmVuZGVyKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgIH0sXG4gICAgICAgIC8qXG4gICAgICAgICAqIGNsZWFyIGFsbCAoYWN0aXZlKSBzdG9yZWQgc3RhdGVzLCB1c2VkIGluIGUuZy4gbG9nb3V0XG4gICAgICAgICAqL1xuICAgICAgICBjbGVhclN0YXRlczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbnMuZGlzZW5nYWdlQWxsKCk7XG4gICAgICAgICAgICB0aGlzLnBlcnNpc3RlbmNlLnN0b3JlKHRoaXMubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbnN0cnVjdGlvbiA9IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhbiBlbnRyeSB0byB0aGUgbW9kZWwgcmVwcmVzZW50aW5nIGEgdG9vbC5cbiAgICAgICAgICogQSB0b29sLCBvdGhlciB0aGFuIGEgcmVndWxhciBlbnRyeSwgbWF5IGJlIHJlbW92ZWFibGUgYnkgYSB1c2VyXG4gICAgICAgICAqIG9yIG1heSBiZSBpbnZpc2libGUgYXQgZmlyc3QuXG4gICAgICAgICAqIFRoaXMgb25seSBhZGRzIHRvIHRoZSBtb2RlbCwgdGhlIGh0bWwtcGFydHMgc3RpbGwgbmVlZCB0byBiZSByZWdpc3RlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkVG9vbEVudHJ5OiBmdW5jdGlvbiAocG9zaXRpb25faWQsIHJlbW92ZWFibGUsIGhpZGRlbiwgZ3NfaWQpIHtcbiAgICAgICAgICAgIHRoaXMubW9kZWwuYWN0aW9ucy5hZGRUb29sKHBvc2l0aW9uX2lkLCByZW1vdmVhYmxlLCBoaWRkZW4sIGdzX2lkKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFuIGVudHJ5IGNvbnNpc3RzIG9mIHNldmVyYWwgdmlzaWJsZSBwYXJ0czogdGhlIGJ1dHRvbiwgdGhlIHNsYXRlIGFuZFxuICAgICAgICAgKiB0aGUgY2xvc2UtYnV0dG9uIChyZW1vdmVyKS5cbiAgICAgICAgICogQWxsIHRoZXNlIHBhcnRzIGFyZSBzdW1tZWQgdXAgaW4gdGhlIG1vZGVsIHZpYSB0aGUgcG9zaXRpb25faWQ7XG4gICAgICAgICAqIGhvd2V2ZXIsIHdoZW4gaXQgY29tZXMgdG8gcmVuZGVyaW5nLCB0aGUgaW5kaXZpZHVhbCBwYXJ0cyBhcmUgbmVlZGVkLlxuICAgICAgICAgKiBUaGUgZnVuY3Rpb24gYWxzbyBhZGRzIGFuIGVudHJ5IHRvIHRoZSBtb2RlbCBpZiB0aGVyZSBpcyBub25lIGFscmVhZHkuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRQYXJ0SWRBbmRFbnRyeTogZnVuY3Rpb24gKHBvc2l0aW9uX2lkLCBwYXJ0LCBodG1sX2lkLCBpc190b29sKSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFkZEVudHJ5KHBvc2l0aW9uX2lkLCBwYXJ0LCBodG1sX2lkKTtcbiAgICAgICAgICAgIGlmKCAhaXNfdG9vbFxuICAgICAgICAgICAgICAgICYmIChwb3NpdGlvbl9pZCBpbiB0aGlzLm1vZGVsLmdldFN0YXRlKCkudG9vbHMgPT0gZmFsc2UpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGVsLmFjdGlvbnMuYWRkRW50cnkocG9zaXRpb25faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogVG9wbGV2ZWwgZW50cmllcyBhbmQgdG9vbHMgYXJlIGJlaW5nIGdpdmVuIHRvIHRoZSBtYWluYmFyIHdpdGggYW5cbiAgICAgICAgICogaWQ7IHRoaXMgbWFwcyB0aGUgaWQgdG8gdGhlIHBvc2l0aW9uX2lkIGNhbGN1bGF0ZWQgZHVyaW5nIHJlbmRlcmluZyBvZlxuICAgICAgICAgKiB0aGUgbWFpbmJhci5cbiAgICAgICAgICovXG4gICAgICAgIGFkZE1hcHBpbmc6IGZ1bmN0aW9uKG1hcHBpbmdfaWQsIHBvc2l0aW9uX2lkKSB7XG4gICAgICAgICAgICBpZighIChtYXBwaW5nX2lkIGluIE9iamVjdC5rZXlzKG1hcHBpbmdzKSkpIHtcbiAgICAgICAgICAgICAgICBtYXBwaW5nc1ttYXBwaW5nX2lkXSA9IHBvc2l0aW9uX2lkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgc2lnbmFscy4gU2lnbmFscyB3aWxsIGhhdmUgYW4gaWQgKD1wb3NpdGlvbl9pZCkgYW5kIGFuIGFjdGlvblxuICAgICAgICAgKiBpbiB0aGVpciBvcHRpb25zLFxuICAgICAgICAgKi9cbiAgICAgICAgYWRkVHJpZ2dlclNpZ25hbDogZnVuY3Rpb24oc2lnbmFsKSB7XG4gICAgICAgICAgICAkKGRvY3VtZW50KS5vbihzaWduYWwsIGZ1bmN0aW9uKGV2ZW50LCBzaWduYWxEYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkID0gc2lnbmFsRGF0YS5vcHRpb25zLmVudHJ5X2lkLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPSBzaWduYWxEYXRhLm9wdGlvbnMuYWN0aW9uLFxuICAgICAgICAgICAgICAgICAgICBtYiA9IGlsLlVJLm1haW5jb250cm9scy5tYWluYmFyLFxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJfcmVuZGVyO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICd0cmlnZ2VyX21hcHBlZCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZCA9IG1hcHBpbmdzW2lkXTsgLy9ubyBicmVhayBhZnRlcndhcmRzIVxuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RyaWdnZXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaWQgaW4gc3RhdGUudG9vbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmVuZ2FnZVRvb2woaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyX3JlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYi5yZW5kZXJlci5mb2N1c1N1YmVudHJ5KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaWQgaW4gc3RhdGUuZW50cmllcykgeyAvL3RvZ2dsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN0YXRlLmVudHJpZXNbaWRdLmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5kaXNlbmdhZ2VFbnRyeShpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5lbmdhZ2VFbnRyeShpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RhdGUuZW50cmllc1tpZF0uaXNUb3BMZXZlbCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZnRlcl9yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYi5yZW5kZXJlci5mb2N1c1N1YmVudHJ5KGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLnJlbW92ZVRvb2woaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZGlzZW5nYWdlX2FsbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmRpc2VuZ2FnZUFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gbWIubW9kZWwuZ2V0U3RhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfdG9wX2lkID0gc3RhdGUubGFzdF9hY3RpdmVfdG9wO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlcl9yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYi5yZW5kZXJlci5mb2N1c1RvcGVudHJ5KGxhc3RfdG9wX2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUubGFzdF9hY3RpdmVfdG9wID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1iLm1vZGVsLnNldFN0YXRlKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3RvZ2dsZV90b29scyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLnRvZ2dsZVRvb2xzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IG1iLm1vZGVsLmdldFN0YXRlKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IE9iamVjdC5rZXlzKHN0YXRlLnRvb2xzKVswXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc3RhdGUudG9vbHNfZW5nYWdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyX3JlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IoaWR4IGluIHN0YXRlLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9vbCA9IHN0YXRlLnRvb2xzW2lkeF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0b29sLmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZCA9IHRvb2wuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWIucmVuZGVyZXIuZm9jdXNUb3BlbnRyeShpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbWIucmVuZGVyZXIucmVuZGVyKG1iLm1vZGVsLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICAgIGlmKGFmdGVyX3JlbmRlcikge1xuICAgICAgICAgICAgICAgICAgICBhZnRlcl9yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWIucGVyc2lzdGVuY2Uuc3RvcmUobWIubW9kZWwuZ2V0U3RhdGUoKSk7XG4gICAgICAgICAgICAgICAgbWIucmVuZGVyZXIuZGlzcGF0Y2hSZXNpemVOb3RpZmljYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoZWxwZXIgPSB7XG4gICAgICAgIGZpbmRUb29sQnlHU0lkOiBmdW5jdGlvbiAodG9vbHMsIGdzX2lkKSB7XG4gICAgICAgICAgICBmb3IodmFyIGlkeCBpbiB0b29scykge1xuICAgICAgICAgICAgICAgIGlmKHRvb2xzW2lkeF0uZ3NfaWQgPT09IGdzX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sc1tpZHhdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBnZXRGaXJzdEVuZ2FnZWRUb29sSWQ6IGZ1bmN0aW9uKHRvb2xzKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRvb2xzKTtcbiAgICAgICAgICAgIGZvcih2YXIgaWR4IGluIGtleXMpIHtcbiAgICAgICAgICAgICAgICBpZih0b29sc1trZXlzW2lkeF1dLmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleXNbaWR4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGFkanVzdFRvU2NyZWVuU2l6ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICBpZihldmVudC5kZXRhaWwgJiYgZXZlbnQuZGV0YWlsLm1haW5iYXJfaW5kdWNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtYiA9IGlsLlVJLm1haW5jb250cm9scy5tYWluYmFyLFxuICAgICAgICAgICAgYW1vdW50ID0gbWIucmVuZGVyZXIuY2FsY0Ftb3VudE9mQnV0dG9ucygpO1xuXG4gICAgICAgIGlmKGlsLlVJLnBhZ2UuaXNTbWFsbFNjcmVlbigpKSB7XG4gICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmRpc2VuZ2FnZUFsbCgpO1xuICAgICAgICB9XG4gICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuaW5pdE1vcmVCdXR0b24oYW1vdW50KTtcbiAgICAgICAgbWIucmVuZGVyZXIucmVuZGVyKG1iLm1vZGVsLmdldFN0YXRlKCkpO1xuICAgIH0sXG4gICAgaW5pdF9kZXNrdG9wID0gZnVuY3Rpb24oaW5pdGlhbGx5X2FjdGl2ZSkge1xuICAgICAgICB2YXIgbWIgPSBpbC5VSS5tYWluY29udHJvbHMubWFpbmJhcixcbiAgICAgICAgICAgIGNvb2tpZV9zdGF0ZSA9IG1iLnBlcnNpc3RlbmNlLnJlYWQoKSxcbiAgICAgICAgICAgIGluaXRfc3RhdGUgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogYXBwbHkgY29va2llLXN0YXRlO1xuICAgICAgICAgKiB0b29scyBhcHBlYXIgYW5kIGRpc2FwcGVhciBieSBjb250ZXh0IGFuZFxuICAgICAgICAgKiBnbG9iYWwgc2NyZWVuIG1vZGlmaWNhdGlvbnMgLSB0YWtlIHRoZW0gZnJvbSB0aGVyZSxcbiAgICAgICAgICogYnV0IGFwcGx5IGVuZ2FnZWQgc3RhdGVzXG4gICAgICAgICAqL1xuICAgICAgICBpZihPYmplY3Qua2V5cyhjb29raWVfc3RhdGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vcmUtYXBwbHkgZW5nYWdlZFxuICAgICAgICAgICAgZm9yKHZhciBpZHggaW4gaW5pdF9zdGF0ZS50b29scykge1xuICAgICAgICAgICAgICAgIGdzX2lkID0gaW5pdF9zdGF0ZS50b29sc1tpZHhdLmdzX2lkO1xuICAgICAgICAgICAgICAgIGlmKGNvb2tpZV9zdGF0ZS5rbm93bl90b29scy5pbmRleE9mKGdzX2lkKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29va2llX3N0YXRlLmtub3duX3Rvb2xzLnB1c2goZ3NfaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZighaW5pdF9zdGF0ZS50b29sc1tpZHhdLmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdF9zdGF0ZS50b29sc1tpZHhdLmVuZ2FnZWQgPSB0cnVlIC8vbmV3IHRvb2wgaXMgYWN0aXZlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdG9yZWQgPSBoZWxwZXIuZmluZFRvb2xCeUdTSWQoY29va2llX3N0YXRlLnRvb2xzLCBnc19pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHN0b3JlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdF9zdGF0ZS50b29sc1tpZHhdLmVuZ2FnZWQgPSBzdG9yZWQuZW5nYWdlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRfc3RhdGUudG9vbHNbaWR4XS5oaWRkZW4gPSBzdG9yZWQuaGlkZGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb29raWVfc3RhdGUudG9vbHMgPSBpbml0X3N0YXRlLnRvb2xzO1xuICAgICAgICAgICAgbWIubW9kZWwuc2V0U3RhdGUoY29va2llX3N0YXRlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGluaXRfc3RhdGUgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogaW5pdGlhbGx5IGFjdGl2ZSAoZnJvbSBtYWluYmFyLWNvbXBvbmVudCkgd2lsbCBvdmVycmlkZSBldmVyeXRoaW5nIChidXQgdG9vbHMpXG4gICAgICAgICAqL1xuICAgICAgICBpZihpbml0aWFsbHlfYWN0aXZlKSB7XG4gICAgICAgICAgICBpZihpbml0aWFsbHlfYWN0aXZlID09PSAnX25vbmUnKSB7XG4gICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5kaXNlbmdhZ2VBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihpbml0X3N0YXRlLmVudHJpZXNbbWFwcGluZ3NbaW5pdGlhbGx5X2FjdGl2ZV1dKSB7XG4gICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5lbmdhZ2VFbnRyeShtYXBwaW5nc1tpbml0aWFsbHlfYWN0aXZlXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoaW5pdF9zdGF0ZS50b29sc1ttYXBwaW5nc1tpbml0aWFsbHlfYWN0aXZlXV0pIHtcbiAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmVuZ2FnZVRvb2wobWFwcGluZ3NbaW5pdGlhbGx5X2FjdGl2ZV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJyaWRlIHBvdGVudGlhbGx5IGFjdGl2ZSBlbnRyeSwgaWYgdGhlcmUgYXJlIGlzIGFuIGFjdGl2ZSB0b29sLlxuICAgICAgICAgKi9cbiAgICAgICAgZmlyc3RfdG9vbF9pZCA9IGhlbHBlci5nZXRGaXJzdEVuZ2FnZWRUb29sSWQoaW5pdF9zdGF0ZS50b29scyk7XG4gICAgICAgIGlmKGZpcnN0X3Rvb2xfaWQpIHtcbiAgICAgICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuZW5nYWdlVG9vbChmaXJzdF90b29sX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vdG9vbHMgZW5nYWdlZCwgYnV0IG5vbmUgYWN0aXZlOiB0YWtlIHRoZSBmaXJzdCBvbmU6XG4gICAgICAgICAgICB2YXIgYW55X2VuZ2FnZWQgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpLmFueV90b29sc19lbmdhZ2VkKCksXG4gICAgICAgICAgICAgICAgYW55X3Zpc2libGUgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpLmFueV90b29sc192aXNpYmxlKCk7XG5cbiAgICAgICAgICAgIGlmKGFueV9lbmdhZ2VkICYmIGFueV92aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdG9vbF9pZCA9IE9iamVjdC5rZXlzKGluaXRfc3RhdGUudG9vbHMpLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5lbmdhZ2VUb29sKHRvb2xfaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmRpc2VuZ2FnZVRvb2xzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKCBhbnlfZW5nYWdlZCA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICBhbnlfdmlzaWJsZSA9PT0gZmFsc2UgJiZcbiAgICAgICAgICAgICAgICBtYi5tb2RlbC5nZXRTdGF0ZSgpLmFueV9lbnRyeV9lbmdhZ2VkID09PSBmYWxzZVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgbWIubW9kZWwuYWN0aW9ucy5kaXNlbmdhZ2VBbGwoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGFzdF90b3AgPSBtYi5tb2RlbC5nZXRTdGF0ZSgpLmxhc3RfYWN0aXZlX3RvcDtcbiAgICAgICAgICAgICAgICBpZihsYXN0X3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBtYi5tb2RlbC5hY3Rpb25zLmVuZ2FnZUVudHJ5KGxhc3RfdG9wKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuZGlzZW5nYWdlQWxsKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuaW5pdE1vcmVCdXR0b24obWIucmVuZGVyZXIuY2FsY0Ftb3VudE9mQnV0dG9ucygpKTtcbiAgICAgICAgbWIucmVuZGVyZXIucmVuZGVyKG1iLm1vZGVsLmdldFN0YXRlKCkpO1xuICAgIH0sXG4gICAgaW5pdF9tb2JpbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1iID0gaWwuVUkubWFpbmNvbnRyb2xzLm1haW5iYXI7XG4gICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuZGlzZW5nYWdlQWxsKCk7XG4gICAgICAgIG1iLm1vZGVsLmFjdGlvbnMuaW5pdE1vcmVCdXR0b24obWIucmVuZGVyZXIuY2FsY0Ftb3VudE9mQnV0dG9ucygpKTtcbiAgICAgICAgbWIucmVuZGVyZXIucmVuZGVyKG1iLm1vZGVsLmdldFN0YXRlKCkpO1xuICAgIH0sXG4gICAgaW5pdCA9IGZ1bmN0aW9uKGluaXRpYWxseV9hY3RpdmUpIHtcbiAgICAgICAgaWYoaWwuVUkucGFnZS5pc1NtYWxsU2NyZWVuKCkpIHtcbiAgICAgICAgICAgIGluaXRfbW9iaWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpbml0X2Rlc2t0b3AoaW5pdGlhbGx5X2FjdGl2ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcHVibGljX2ludGVyZmFjZSA9IHtcbiAgICAgICAgYWRkVG9vbEVudHJ5OiBjb25zdHJ1Y3Rpb24uYWRkVG9vbEVudHJ5LFxuICAgICAgICBhZGRQYXJ0SWRBbmRFbnRyeTogY29uc3RydWN0aW9uLmFkZFBhcnRJZEFuZEVudHJ5LFxuICAgICAgICBhZGRNYXBwaW5nOiBjb25zdHJ1Y3Rpb24uYWRkTWFwcGluZyxcbiAgICAgICAgYWRkVHJpZ2dlclNpZ25hbDogY29uc3RydWN0aW9uLmFkZFRyaWdnZXJTaWduYWwsXG4gICAgICAgIGFkanVzdFRvU2NyZWVuU2l6ZTogYWRqdXN0VG9TY3JlZW5TaXplLFxuICAgICAgICBpbml0OiBpbml0LFxuICAgICAgICBlbmdhZ2VUb29sOiBleHRlcm5hbF9jb21tYW5kcy5lbmdhZ2VFbnRyeSwgLy9mb3IgbGVnYWN5IHJlYXNvbnMsIHBsZWFzZSB1c2UgZW5nYWdlRW50cnlcbiAgICAgICAgZW5nYWdlRW50cnk6IGV4dGVybmFsX2NvbW1hbmRzLmVuZ2FnZUVudHJ5LFxuICAgICAgICByZW1vdmVUb29sOiBleHRlcm5hbF9jb21tYW5kcy5yZW1vdmVUb29sLFxuICAgICAgICBkaXNlbmdhZ2VBbGw6IGV4dGVybmFsX2NvbW1hbmRzLmRpc2VuZ2FnZUFsbCxcbiAgICAgICAgY2xlYXJTdGF0ZXM6IGV4dGVybmFsX2NvbW1hbmRzLmNsZWFyU3RhdGVzXG4gICAgfTtcblxuICAgIHJldHVybiBwdWJsaWNfaW50ZXJmYWNlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgbWFpbmJhcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUlBLE9BQU8sR0FBRyxTQUFWQSxPQUFPLEdBQWM7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","map":{"version":3,"names":["mainbar","mappings","external_commands","engageEntry","mapping_id","tool_id","Object","keys","model","getState","tools","includes","actions","engageTool","entries","renderer","render","persistence","store","removeTool","disengageAll","clearStates","construction","addToolEntry","position_id","removeable","hidden","gs_id","addTool","addPartIdAndEntry","part","html_id","is_tool","addEntry","addMapping","addTriggerSignal","signal","$","document","on","event","signalData","id","options","entry_id","action","mb","il","UI","maincontrols","state","after_render","focusSubentry","engaged","disengageEntry","isTopLevel","last_top_id","last_active_top","focusTopentry","setState","toggleTools","tools_engaged","idx","tool","dispatchResizeNotification","helper","findToolByGSId","getFirstEngagedToolId","adjustToScreenSize","detail","mainbar_induced","amount","calcAmountOfButtons","page","isSmallScreen","initMoreButton","init_desktop","initially_active","cookie_state","read","init_state","length","known_tools","indexOf","push","stored","first_tool_id","any_engaged","any_tools_engaged","any_visible","any_tools_visible","shift","disengageTools","any_entry_engaged","last_top","init_mobile","init","public_interface"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/","sources":["mainbar.main.js"],"sourcesContent":["var mainbar = function() {\n    var mappings = {},\n    external_commands = {\n        /**\n         * Engage a certain tool or entry\n         */\n        engageEntry: function(mapping_id) {\n            var tool_id = mappings[mapping_id];\n            if(Object.keys(this.model.getState().tools).includes(tool_id)) {\n                this.model.actions.engageTool(tool_id);\n            }\n            if(Object.keys(this.model.getState().entries).includes(tool_id)) {\n                this.model.actions.engageEntry(tool_id);\n            }\n            this.renderer.render(this.model.getState());\n            this.persistence.store(this.model.getState());\n        },\n        /**\n         * remove a certain tool\n         */\n        removeTool: function(mapping_id) {\n            var tool_id = mappings[mapping_id];\n            this.model.actions.removeTool(tool_id);\n            this.renderer.render(this.model.getState());\n            this.persistence.store(this.model.getState());\n        },\n        /**\n         * Just open the tools, activate last one\n         */\n        disengageAll: function() {\n            this.model.actions.disengageAll();\n            this.renderer.render(this.model.getState());\n        },\n        /*\n         * clear all (active) stored states, used in e.g. logout\n         */\n        clearStates: function() {\n            this.model.actions.disengageAll();\n            this.persistence.store(this.model.getState());\n        }\n    },\n    construction = {\n        /**\n         * Add an entry to the model representing a tool.\n         * A tool, other than a regular entry, may be removeable by a user\n         * or may be invisible at first.\n         * This only adds to the model, the html-parts still need to be registered.\n         */\n        addToolEntry: function (position_id, removeable, hidden, gs_id) {\n            this.model.actions.addTool(position_id, removeable, hidden, gs_id);\n        },\n        /**\n         * An entry consists of several visible parts: the button, the slate and\n         * the close-button (remover).\n         * All these parts are summed up in the model via the position_id;\n         * however, when it comes to rendering, the individual parts are needed.\n         * The function also adds an entry to the model if there is none already.\n         */\n        addPartIdAndEntry: function (position_id, part, html_id, is_tool) {\n            this.renderer.addEntry(position_id, part, html_id);\n            if( !is_tool\n                && (position_id in this.model.getState().tools == false)\n            ) {\n                this.model.actions.addEntry(position_id);\n            }\n        },\n        /**\n         * Toplevel entries and tools are being given to the mainbar with an\n         * id; this maps the id to the position_id calculated during rendering of\n         * the mainbar.\n         */\n        addMapping: function(mapping_id, position_id) {\n            if(! (mapping_id in Object.keys(mappings))) {\n                mappings[mapping_id] = position_id;\n            }\n        },\n        /**\n         * Register signals. Signals will have an id (=position_id) and an action\n         * in their options,\n         */\n        addTriggerSignal: function(signal) {\n            $(document).on(signal, function(event, signalData) {\n                var id = signalData.options.entry_id,\n                    action = signalData.options.action,\n                    mb = il.UI.maincontrols.mainbar,\n                    state,\n                    after_render;\n\n                switch(action) {\n                    case 'trigger_mapped':\n                        id = mappings[id]; //no break afterwards!\n\n                    case 'trigger':\n                        state = mb.model.getState();\n                        if(id in state.tools) {\n                            mb.model.actions.engageTool(id);\n                            after_render = function() {\n                                mb.renderer.focusSubentry(id);\n                            };\n                        }\n                        if(id in state.entries) { //toggle\n                            if(state.entries[id].engaged) {\n                                mb.model.actions.disengageEntry(id);\n                            } else {\n                                mb.model.actions.engageEntry(id);\n\n                                if(state.entries[id].isTopLevel()) {\n                                    after_render = function() {\n                                        mb.renderer.focusSubentry(id);\n                                    }\n                                }\n                            }\n                        }\n                        break;\n\n                    case 'remove':\n                        mb.model.actions.removeTool(id);\n                        break;\n\n                    case 'disengage_all':\n                        mb.model.actions.disengageAll();\n                        var state = mb.model.getState()\n                            last_top_id = state.last_active_top;\n\n                        after_render = function() {\n                            mb.renderer.focusTopentry(last_top_id);\n                        }\n\n                        state.last_active_top = null;\n                        mb.model.setState(state);\n                        break;\n\n                    case 'toggle_tools':\n                        mb.model.actions.toggleTools();\n\n                        var state = mb.model.getState()\n                            id = Object.keys(state.tools)[0];\n\n                        if(state.tools_engaged) {\n                            after_render = function() {\n                                for(idx in state.tools) {\n                                    var tool = state.tools[idx];\n                                    if(tool.engaged) {\n                                        id = tool.id;\n                                    }\n                                }\n                                mb.renderer.focusTopentry(id);\n                            }\n                        }\n                        break;\n                }\n\n                mb.renderer.render(mb.model.getState());\n                if(after_render) {\n                    after_render();\n                }\n                mb.persistence.store(mb.model.getState());\n                mb.renderer.dispatchResizeNotification();\n            });\n        }\n    },\n    helper = {\n        findToolByGSId: function (tools, gs_id) {\n            for(var idx in tools) {\n                if(tools[idx].gs_id === gs_id) {\n                    return tools[idx];\n                }\n            }\n            return null;\n        },\n        getFirstEngagedToolId: function(tools) {\n            var keys = Object.keys(tools);\n            for(var idx in keys) {\n                if(tools[keys[idx]].engaged) {\n                    return keys[idx];\n                }\n            }\n            return false;\n        }\n    },\n    adjustToScreenSize = function(event) {\n         if(event.detail && event.detail.mainbar_induced) {\n            return;\n        }\n        var mb = il.UI.maincontrols.mainbar,\n            amount = mb.renderer.calcAmountOfButtons();\n\n        if(il.UI.page.isSmallScreen()) {\n            mb.model.actions.disengageAll();\n        }\n        mb.model.actions.initMoreButton(amount);\n        mb.renderer.render(mb.model.getState());\n    },\n    init_desktop = function(initially_active) {\n        var mb = il.UI.maincontrols.mainbar,\n            cookie_state = mb.persistence.read(),\n            init_state = mb.model.getState();\n        /**\n         * apply cookie-state;\n         * tools appear and disappear by context and\n         * global screen modifications - take them from there,\n         * but apply engaged states\n         */\n        if(Object.keys(cookie_state).length > 0) {\n            //re-apply engaged\n            for(var idx in init_state.tools) {\n                gs_id = init_state.tools[idx].gs_id;\n                if(cookie_state.known_tools.indexOf(gs_id) === -1) {\n                    cookie_state.known_tools.push(gs_id);\n                    if(!init_state.tools[idx].hidden) {\n                        init_state.tools[idx].engaged = true //new tool is active\n                    }\n                } else {\n                    stored = helper.findToolByGSId(cookie_state.tools, gs_id);\n                    if(stored) {\n                        init_state.tools[idx].engaged = stored.engaged;\n                        init_state.tools[idx].hidden = stored.hidden;\n                    }\n                }\n            }\n\n            cookie_state.tools = init_state.tools;\n            mb.model.setState(cookie_state);\n        }\n\n        init_state = mb.model.getState();\n        /**\n         * initially active (from mainbar-component) will override everything (but tools)\n         */\n        if(initially_active) {\n            if(initially_active === '_none') {\n                mb.model.actions.disengageAll();\n            } else if(init_state.entries[mappings[initially_active]]) {\n                mb.model.actions.engageEntry(mappings[initially_active]);\n            } else if(init_state.tools[mappings[initially_active]]) {\n                mb.model.actions.engageTool(mappings[initially_active]);\n            }\n        }\n\n        /**\n         * Override potentially active entry, if there are is an active tool.\n         */\n        first_tool_id = helper.getFirstEngagedToolId(init_state.tools);\n        if(first_tool_id) {\n            mb.model.actions.engageTool(first_tool_id);\n        } else {\n            //tools engaged, but none active: take the first one:\n            var any_engaged = mb.model.getState().any_tools_engaged(),\n                any_visible = mb.model.getState().any_tools_visible();\n\n            if(any_engaged && any_visible) {\n                tool_id = Object.keys(init_state.tools).shift();\n                mb.model.actions.engageTool(tool_id);\n            } else {\n                mb.model.actions.disengageTools();\n            }\n\n            if( any_engaged === false &&\n                any_visible === false &&\n                mb.model.getState().any_entry_engaged === false\n            ) {\n                mb.model.actions.disengageAll();\n            } else {\n                last_top = mb.model.getState().last_active_top;\n                if(last_top) {\n                    mb.model.actions.engageEntry(last_top);\n                }else {\n                    mb.model.actions.disengageAll();\n                }\n            }\n        }\n        mb.model.actions.initMoreButton(mb.renderer.calcAmountOfButtons());\n        mb.renderer.render(mb.model.getState());\n    },\n    init_mobile = function() {\n        var mb = il.UI.maincontrols.mainbar;\n        mb.model.actions.disengageAll();\n        mb.model.actions.initMoreButton(mb.renderer.calcAmountOfButtons());\n        mb.renderer.render(mb.model.getState());\n    },\n    init = function(initially_active) {\n        if(il.UI.page.isSmallScreen()) {\n            init_mobile();\n        } else {\n            init_desktop(initially_active);\n        }\n    },\n\n    public_interface = {\n        addToolEntry: construction.addToolEntry,\n        addPartIdAndEntry: construction.addPartIdAndEntry,\n        addMapping: construction.addMapping,\n        addTriggerSignal: construction.addTriggerSignal,\n        adjustToScreenSize: adjustToScreenSize,\n        init: init,\n        engageTool: external_commands.engageEntry, //for legacy reasons, please use engageEntry\n        engageEntry: external_commands.engageEntry,\n        removeTool: external_commands.removeTool,\n        disengageAll: external_commands.disengageAll,\n        clearStates: external_commands.clearStates\n    };\n\n    return public_interface;\n};\n\nexport default mainbar;"],"mappings":"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"}},"mtime":1664201975175},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/mainbar.model.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n/**\n * The Mainbar holds a collection of entries that each consist of some triggerer\n * and an according slate; in case of Tools, these entries might be hidden at first\n * or may be removed by the users.\n * There is a redux-like model of the moving parts of the mainbar: All entries and tools\n * are stored in a state.\n * Whenever something changes, i.e. the engagement and thus visibility of elements\n * should change, these changes are applied to the model first, so that calculations\n * of dependencies can be done _before_ rendering.\n  */\n\nvar model = function model() {\n  var _state,\n    classes = {\n      bar: {\n        any_entry_engaged: false,\n        tools_engaged: false,\n        more_available: false,\n        any_tools_visible: function any_tools_visible() {\n          for (idx in this.tools) {\n            if (!this.tools[idx].hidden) {\n              return true;\n            }\n          }\n          return false;\n        },\n        any_tools_engaged: function any_tools_engaged() {\n          for (idx in this.tools) {\n            if (this.tools[idx].engaged) {\n              return true;\n            }\n          }\n          return false;\n        },\n        entries: {},\n        tools: {},\n        //\"moving\" parts, current tools\n        known_tools: [],\n        //gs-ids; a tool is \"new\", if not listed here\n        last_active_top: null\n      },\n      entry: {\n        id: null,\n        removeable: false,\n        engaged: false,\n        hidden: false,\n        gs_id: null,\n        isTopLevel: function isTopLevel() {\n          return this.id.split(':').length === 2;\n        }\n      }\n    },\n    factories = {\n      entry: function entry(id) {\n        return factories.cloned(classes.entry, {\n          id: id\n        });\n      },\n      cloned: function cloned(state, params) {\n        return Object.assign({}, state, params);\n      },\n      state: function state(nu_state) {\n        var tmp_state = factories.cloned(_state, nu_state);\n        for (idx in tmp_state.entries) {\n          tmp_state.entries[idx].isTopLevel = classes.entry.isTopLevel;\n        }\n        for (idx in tmp_state.tools) {\n          tmp_state.tools[idx].isTopLevel = classes.entry.isTopLevel;\n        }\n        _state = tmp_state;\n      }\n    },\n    reducers = {\n      entry: {\n        engage: function engage(entry) {\n          entry.engaged = true;\n          entry.hidden = false;\n          return entry;\n        },\n        disengage: function disengage(entry) {\n          entry.engaged = false;\n          return entry;\n        },\n        mb_show: function mb_show(entry) {\n          entry.hidden = false;\n          return entry;\n        },\n        mb_hide: function mb_hide(entry) {\n          entry.hidden = true;\n          entry.engaged = false;\n          return entry;\n        }\n      },\n      bar: {\n        engageTools: function engageTools(bar) {\n          bar.tools_engaged = true;\n          return bar;\n        },\n        disengageTools: function disengageTools(bar) {\n          bar.tools_engaged = false;\n          return bar;\n        },\n        anySlates: function anySlates(bar) {\n          bar.any_entry_engaged = true;\n          return bar;\n        },\n        noSlates: function noSlates(bar) {\n          bar.any_entry_engaged = false;\n          return bar;\n        },\n        withMoreButton: function withMoreButton(bar) {\n          bar.more_available = true;\n          return bar;\n        },\n        withoutMoreButton: function withoutMoreButton(bar) {\n          bar.more_available = false;\n          return bar;\n        }\n      },\n      entries: {\n        disengageTopLevel: function disengageTopLevel(entries) {\n          var id;\n          for (id in entries) {\n            if (entries[id].isTopLevel()) {\n              entries[id] = reducers.entry.disengage(entries[id]);\n            }\n          }\n          return entries;\n        },\n        engageEntryPath: function engageEntryPath(entries, entry_id) {\n          var hops = entry_id.split(':');\n          hops.map(function (v, idx, hops) {\n            var id = hops.slice(0, idx + 1).join(':');\n            if (id && id != '0') {\n              entries[id] = reducers.entry.engage(entries[id]);\n            }\n          });\n          return entries;\n        }\n      }\n    },\n    helpers = {\n      getTopLevelEntries: function getTopLevelEntries() {\n        var id,\n          ret = [];\n        for (id in _state.entries) {\n          if (_state.entries[id].isTopLevel()) {\n            ret.push(_state.entries[id]);\n          }\n        }\n        return ret;\n      },\n      getEngagedTopLevelEntryId: function getEngagedTopLevelEntryId() {\n        var id,\n          entries = helpers.getTopLevelEntries();\n        for (id in entries) {\n          if (entries[id].engaged) {\n            return entries[id].id;\n          }\n        }\n        return null;\n      },\n      isInView: function isInView(entry_id) {\n        if (!_state.entries[entry_id]) {\n          //tools\n          return true;\n        }\n        var hops = entry_id.split(':'),\n          entries = _state.entries;\n        while (hops.length > 1) {\n          entry_id = hops.join(':');\n          if (!_state.entries[entry_id].engaged) {\n            return false;\n          }\n          hops.pop();\n        }\n        return true;\n      }\n    },\n    actions = {\n      addEntry: function addEntry(entry_id) {\n        _state.entries[entry_id] = factories.entry(entry_id);\n      },\n      addTool: function addTool(entry_id, removeable, hidden, gs_id) {\n        var tool = factories.entry(entry_id);\n        tool.removeable = removeable ? true : false;\n        tool.hidden = hidden ? true : false;\n        tool.gs_id = gs_id;\n        _state.tools[entry_id] = tool;\n      },\n      engageEntry: function engageEntry(entry_id) {\n        _state.tools = reducers.entries.disengageTopLevel(_state.tools);\n        _state.entries = reducers.entries.disengageTopLevel(_state.entries);\n        _state.entries = reducers.entries.engageEntryPath(_state.entries, entry_id);\n        _state = reducers.bar.disengageTools(_state);\n        _state = reducers.bar.anySlates(_state);\n        _state.last_active_top = helpers.getEngagedTopLevelEntryId();\n      },\n      disengageEntry: function disengageEntry(entry_id) {\n        _state.entries[entry_id] = reducers.entry.disengage(_state.entries[entry_id]);\n        if (_state.entries[entry_id].isTopLevel()) {\n          _state = reducers.bar.noSlates(_state);\n        }\n        _state.last_active_top = helpers.getEngagedTopLevelEntryId();\n      },\n      hideEntry: function hideEntry(entry_id) {\n        _state.entries[entry_id] = reducers.entry.mb_hide(_state.entries[entry_id]);\n      },\n      showEntry: function showEntry(entry_id) {\n        _state.entries[entry_id] = reducers.entry.mb_show(_state.entries[entry_id]);\n      },\n      engageTool: function engageTool(entry_id) {\n        _state.entries = reducers.entries.disengageTopLevel(_state.entries);\n        _state.tools = reducers.entries.disengageTopLevel(_state.tools);\n        _state.tools[entry_id] = reducers.entry.engage(_state.tools[entry_id]);\n        _state = reducers.bar.engageTools(_state);\n        _state = reducers.bar.anySlates(_state);\n      },\n      engageTools: function engageTools() {\n        _state = reducers.bar.engageTools(_state);\n      },\n      disengageTools: function disengageTools() {\n        _state = reducers.bar.disengageTools(_state);\n      },\n      removeTool: function removeTool(entry_id) {\n        _state.tools[entry_id] = reducers.entry.mb_hide(_state.tools[entry_id]);\n        for (idx in _state.tools) {\n          tool = _state.tools[idx];\n          if (!tool.hidden) {\n            _state.tools[tool.id] = reducers.entry.engage(tool);\n            break;\n          }\n        }\n        if (!_state.any_tools_visible()) {\n          actions.disengageTools();\n          last_top = _state.last_active_top;\n          if (last_top) {\n            actions.engageEntry(last_top);\n          } else {\n            actions.disengageAll();\n          }\n        }\n      },\n      toggleTools: function toggleTools() {\n        if (_state.tools_engaged) {\n          actions.disengageAll();\n        } else {\n          for (idx in _state.tools) {\n            var tool = _state.tools[idx];\n            if (tool.engaged) {\n              actions.engageTool(tool.id);\n              return;\n            }\n          }\n          var tool_id = Object.keys(_state.tools)[0];\n          actions.engageTool(tool_id);\n        }\n      },\n      disengageAll: function disengageAll() {\n        _state.entries = reducers.entries.disengageTopLevel(_state.entries);\n        _state.tools = reducers.entries.disengageTopLevel(_state.tools);\n        _state = reducers.bar.noSlates(_state);\n        _state = reducers.bar.disengageTools(_state);\n      },\n      initMoreButton: function initMoreButton(max_buttons) {\n        var entry_ids = Object.keys(_state.entries),\n          last_entry_id = entry_ids[entry_ids.length - 1],\n          more = _state.entries[last_entry_id];\n        if (_state.any_tools_visible()) {\n          max_buttons--;\n        }\n        ;\n\n        //get length of top-level entries (w/o) more-button\n        amount_toplevel = helpers.getTopLevelEntries().length - 1;\n        if (amount_toplevel > max_buttons) {\n          _state.entries[more.id] = reducers.entry.mb_show(more);\n          _state = reducers.bar.withMoreButton(_state);\n        } else {\n          _state.entries[more.id] = reducers.entry.mb_hide(more);\n          _state = reducers.bar.withoutMoreButton(_state);\n        }\n      }\n    },\n    public_interface = {\n      actions: actions,\n      getState: function getState() {\n        return factories.cloned(_state);\n      },\n      setState: factories.state,\n      getTopLevelEntries: helpers.getTopLevelEntries,\n      isInView: helpers.isInView\n    },\n    init = function init() {\n      _state = factories.cloned(classes.bar);\n    };\n  init();\n  return public_interface;\n};\nvar _default = model;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2RlbCIsInN0YXRlIiwiY2xhc3NlcyIsImJhciIsImFueV9lbnRyeV9lbmdhZ2VkIiwidG9vbHNfZW5nYWdlZCIsIm1vcmVfYXZhaWxhYmxlIiwiYW55X3Rvb2xzX3Zpc2libGUiLCJpZHgiLCJ0b29scyIsImhpZGRlbiIsImFueV90b29sc19lbmdhZ2VkIiwiZW5nYWdlZCIsImVudHJpZXMiLCJrbm93bl90b29scyIsImxhc3RfYWN0aXZlX3RvcCIsImVudHJ5IiwiaWQiLCJyZW1vdmVhYmxlIiwiZ3NfaWQiLCJpc1RvcExldmVsIiwic3BsaXQiLCJsZW5ndGgiLCJmYWN0b3JpZXMiLCJjbG9uZWQiLCJwYXJhbXMiLCJPYmplY3QiLCJhc3NpZ24iLCJudV9zdGF0ZSIsInRtcF9zdGF0ZSIsInJlZHVjZXJzIiwiZW5nYWdlIiwiZGlzZW5nYWdlIiwibWJfc2hvdyIsIm1iX2hpZGUiLCJlbmdhZ2VUb29scyIsImRpc2VuZ2FnZVRvb2xzIiwiYW55U2xhdGVzIiwibm9TbGF0ZXMiLCJ3aXRoTW9yZUJ1dHRvbiIsIndpdGhvdXRNb3JlQnV0dG9uIiwiZGlzZW5nYWdlVG9wTGV2ZWwiLCJlbmdhZ2VFbnRyeVBhdGgiLCJlbnRyeV9pZCIsImhvcHMiLCJtYXAiLCJ2Iiwic2xpY2UiLCJqb2luIiwiaGVscGVycyIsImdldFRvcExldmVsRW50cmllcyIsInJldCIsInB1c2giLCJnZXRFbmdhZ2VkVG9wTGV2ZWxFbnRyeUlkIiwiaXNJblZpZXciLCJwb3AiLCJhY3Rpb25zIiwiYWRkRW50cnkiLCJhZGRUb29sIiwidG9vbCIsImVuZ2FnZUVudHJ5IiwiZGlzZW5nYWdlRW50cnkiLCJoaWRlRW50cnkiLCJzaG93RW50cnkiLCJlbmdhZ2VUb29sIiwicmVtb3ZlVG9vbCIsImxhc3RfdG9wIiwiZGlzZW5nYWdlQWxsIiwidG9nZ2xlVG9vbHMiLCJ0b29sX2lkIiwia2V5cyIsImluaXRNb3JlQnV0dG9uIiwibWF4X2J1dHRvbnMiLCJlbnRyeV9pZHMiLCJsYXN0X2VudHJ5X2lkIiwibW9yZSIsImFtb3VudF90b3BsZXZlbCIsInB1YmxpY19pbnRlcmZhY2UiLCJnZXRTdGF0ZSIsInNldFN0YXRlIiwiaW5pdCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9NYWluQ29udHJvbHMvc3JjLyIsInNvdXJjZXMiOlsibWFpbmJhci5tb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFRoZSBNYWluYmFyIGhvbGRzIGEgY29sbGVjdGlvbiBvZiBlbnRyaWVzIHRoYXQgZWFjaCBjb25zaXN0IG9mIHNvbWUgdHJpZ2dlcmVyXG4gKiBhbmQgYW4gYWNjb3JkaW5nIHNsYXRlOyBpbiBjYXNlIG9mIFRvb2xzLCB0aGVzZSBlbnRyaWVzIG1pZ2h0IGJlIGhpZGRlbiBhdCBmaXJzdFxuICogb3IgbWF5IGJlIHJlbW92ZWQgYnkgdGhlIHVzZXJzLlxuICogVGhlcmUgaXMgYSByZWR1eC1saWtlIG1vZGVsIG9mIHRoZSBtb3ZpbmcgcGFydHMgb2YgdGhlIG1haW5iYXI6IEFsbCBlbnRyaWVzIGFuZCB0b29sc1xuICogYXJlIHN0b3JlZCBpbiBhIHN0YXRlLlxuICogV2hlbmV2ZXIgc29tZXRoaW5nIGNoYW5nZXMsIGkuZS4gdGhlIGVuZ2FnZW1lbnQgYW5kIHRodXMgdmlzaWJpbGl0eSBvZiBlbGVtZW50c1xuICogc2hvdWxkIGNoYW5nZSwgdGhlc2UgY2hhbmdlcyBhcmUgYXBwbGllZCB0byB0aGUgbW9kZWwgZmlyc3QsIHNvIHRoYXQgY2FsY3VsYXRpb25zXG4gKiBvZiBkZXBlbmRlbmNpZXMgY2FuIGJlIGRvbmUgX2JlZm9yZV8gcmVuZGVyaW5nLlxuICAqL1xuXG52YXIgbW9kZWwgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhdGUsXG4gICAgY2xhc3NlcyA9IHtcbiAgICAgICAgYmFyOiB7XG4gICAgICAgICAgICBhbnlfZW50cnlfZW5nYWdlZCA6IGZhbHNlLFxuICAgICAgICAgICAgdG9vbHNfZW5nYWdlZDogZmFsc2UsXG4gICAgICAgICAgICBtb3JlX2F2YWlsYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBhbnlfdG9vbHNfdmlzaWJsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZm9yKGlkeCBpbiB0aGlzLnRvb2xzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLnRvb2xzW2lkeF0uaGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYW55X3Rvb2xzX2VuZ2FnZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGZvcihpZHggaW4gdGhpcy50b29scykge1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRvb2xzW2lkeF0uZW5nYWdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZW50cmllczoge30sXG4gICAgICAgICAgICB0b29sczoge30sIC8vXCJtb3ZpbmdcIiBwYXJ0cywgY3VycmVudCB0b29sc1xuICAgICAgICAgICAga25vd25fdG9vbHM6IFtdLCAvL2dzLWlkczsgYSB0b29sIGlzIFwibmV3XCIsIGlmIG5vdCBsaXN0ZWQgaGVyZVxuICAgICAgICAgICAgbGFzdF9hY3RpdmVfdG9wOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIGVudHJ5OiB7XG4gICAgICAgICAgICBpZDogbnVsbCxcbiAgICAgICAgICAgIHJlbW92ZWFibGU6IGZhbHNlLFxuICAgICAgICAgICAgZW5nYWdlZDogZmFsc2UsXG4gICAgICAgICAgICBoaWRkZW46IGZhbHNlLFxuICAgICAgICAgICAgZ3NfaWQ6IG51bGwsXG4gICAgICAgICAgICBpc1RvcExldmVsOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5pZC5zcGxpdCgnOicpLmxlbmd0aCA9PT0gMjt9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGZhY3RvcmllcyA9IHtcbiAgICAgICAgZW50cnk6IChpZCkgPT4gZmFjdG9yaWVzLmNsb25lZChjbGFzc2VzLmVudHJ5LCB7aWQ6IGlkfSksXG4gICAgICAgIGNsb25lZDogKHN0YXRlLCBwYXJhbXMpID0+IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLCBwYXJhbXMpLFxuICAgICAgICBzdGF0ZTogZnVuY3Rpb24obnVfc3RhdGUpIHtcbiAgICAgICAgICAgIHZhciB0bXBfc3RhdGUgPSBmYWN0b3JpZXMuY2xvbmVkKHN0YXRlLCBudV9zdGF0ZSk7XG4gICAgICAgICAgICBmb3IoaWR4IGluIHRtcF9zdGF0ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgdG1wX3N0YXRlLmVudHJpZXNbaWR4XS5pc1RvcExldmVsID0gY2xhc3Nlcy5lbnRyeS5pc1RvcExldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGlkeCBpbiB0bXBfc3RhdGUudG9vbHMpIHtcbiAgICAgICAgICAgICAgICB0bXBfc3RhdGUudG9vbHNbaWR4XS5pc1RvcExldmVsID0gY2xhc3Nlcy5lbnRyeS5pc1RvcExldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUgPSB0bXBfc3RhdGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHJlZHVjZXJzID0ge1xuICAgICAgICBlbnRyeToge1xuICAgICAgICAgICAgZW5nYWdlOiAoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICBlbnRyeS5lbmdhZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbnRyeS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cnk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGlzZW5nYWdlOiAoZW50cnkpID0+IHtlbnRyeS5lbmdhZ2VkID0gZmFsc2U7IHJldHVybiBlbnRyeTt9LFxuICAgICAgICAgICAgbWJfc2hvdzogKGVudHJ5KSA9PiB7ZW50cnkuaGlkZGVuID0gZmFsc2U7IHJldHVybiBlbnRyeTt9LFxuICAgICAgICAgICAgbWJfaGlkZTogKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgZW50cnkuaGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbnRyeS5lbmdhZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBiYXI6ICB7XG4gICAgICAgICAgICBlbmdhZ2VUb29sczogKGJhcikgPT4ge2Jhci50b29sc19lbmdhZ2VkID0gdHJ1ZTsgcmV0dXJuIGJhcjt9LFxuICAgICAgICAgICAgZGlzZW5nYWdlVG9vbHM6IChiYXIpID0+IHtiYXIudG9vbHNfZW5nYWdlZCA9IGZhbHNlOyByZXR1cm4gYmFyO30sXG4gICAgICAgICAgICBhbnlTbGF0ZXM6IChiYXIpID0+IHtiYXIuYW55X2VudHJ5X2VuZ2FnZWQgPSB0cnVlOyByZXR1cm4gYmFyO30sXG4gICAgICAgICAgICBub1NsYXRlczogKGJhcikgPT4ge2Jhci5hbnlfZW50cnlfZW5nYWdlZCA9IGZhbHNlOyByZXR1cm4gYmFyO30sXG4gICAgICAgICAgICB3aXRoTW9yZUJ1dHRvbjogKGJhcikgPT4ge2Jhci5tb3JlX2F2YWlsYWJsZSA9IHRydWU7IHJldHVybiBiYXI7fSxcbiAgICAgICAgICAgIHdpdGhvdXRNb3JlQnV0dG9uOiAoYmFyKSA9PiB7YmFyLm1vcmVfYXZhaWxhYmxlID0gZmFsc2U7IHJldHVybiBiYXI7fVxuICAgICAgICB9LFxuICAgICAgICBlbnRyaWVzOiB7XG4gICAgICAgICAgICBkaXNlbmdhZ2VUb3BMZXZlbDogZnVuY3Rpb24oZW50cmllcykge1xuICAgICAgICAgICAgICAgIHZhciBpZDtcbiAgICAgICAgICAgICAgICBmb3IoaWQgaW4gZW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICBpZihlbnRyaWVzW2lkXS5pc1RvcExldmVsKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudHJpZXNbaWRdID0gcmVkdWNlcnMuZW50cnkuZGlzZW5nYWdlKGVudHJpZXNbaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZW50cmllcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmdhZ2VFbnRyeVBhdGg6IGZ1bmN0aW9uKGVudHJpZXMsIGVudHJ5X2lkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhvcHMgPSBlbnRyeV9pZC5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgIGhvcHMubWFwKGZ1bmN0aW9uKHYsIGlkeCwgaG9wcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBob3BzLnNsaWNlKDAsIGlkeCsxKS5qb2luKCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGlkICYmIGlkICE9ICcwJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50cmllc1tpZF0gPSByZWR1Y2Vycy5lbnRyeS5lbmdhZ2UoZW50cmllc1tpZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJpZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhlbHBlcnMgPSB7XG4gICAgICAgIGdldFRvcExldmVsRW50cmllczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaWQsXG4gICAgICAgICAgICAgICAgcmV0ID0gW107XG4gICAgICAgICAgICBmb3IoaWQgaW4gc3RhdGUuZW50cmllcykge1xuICAgICAgICAgICAgICAgIGlmKHN0YXRlLmVudHJpZXNbaWRdLmlzVG9wTGV2ZWwoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXQucHVzaChzdGF0ZS5lbnRyaWVzW2lkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0RW5nYWdlZFRvcExldmVsRW50cnlJZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaWQsXG4gICAgICAgICAgICAgICAgZW50cmllcyA9IGhlbHBlcnMuZ2V0VG9wTGV2ZWxFbnRyaWVzKCk7XG4gICAgICAgICAgICBmb3IoaWQgaW4gZW50cmllcykge1xuICAgICAgICAgICAgICAgIGlmKGVudHJpZXNbaWRdLmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVudHJpZXNbaWRdLmlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBpc0luVmlldyA6IGZ1bmN0aW9uIChlbnRyeV9pZCkge1xuICAgICAgICAgICAgaWYoIXN0YXRlLmVudHJpZXNbZW50cnlfaWRdKSB7IC8vdG9vbHNcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBob3BzID0gZW50cnlfaWQuc3BsaXQoJzonKSxcbiAgICAgICAgICAgICAgICBlbnRyaWVzID0gc3RhdGUuZW50cmllcztcbiAgICAgICAgICAgIHdoaWxlIChob3BzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBlbnRyeV9pZCA9IGhvcHMuam9pbignOicpO1xuICAgICAgICAgICAgICAgIGlmKCFzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXS5lbmdhZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaG9wcy5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBhY3Rpb25zID0ge1xuICAgICAgICBhZGRFbnRyeTogZnVuY3Rpb24gKGVudHJ5X2lkKSB7XG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXSA9IGZhY3Rvcmllcy5lbnRyeShlbnRyeV9pZCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZFRvb2w6IGZ1bmN0aW9uIChlbnRyeV9pZCwgcmVtb3ZlYWJsZSwgaGlkZGVuLCBnc19pZCkge1xuICAgICAgICAgICAgdmFyIHRvb2wgPSBmYWN0b3JpZXMuZW50cnkoZW50cnlfaWQpO1xuICAgICAgICAgICAgdG9vbC5yZW1vdmVhYmxlID0gcmVtb3ZlYWJsZSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIHRvb2wuaGlkZGVuID0gaGlkZGVuID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgdG9vbC5nc19pZCA9IGdzX2lkO1xuICAgICAgICAgICAgc3RhdGUudG9vbHNbZW50cnlfaWRdID0gdG9vbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW5nYWdlRW50cnk6IGZ1bmN0aW9uIChlbnRyeV9pZCkge1xuICAgICAgICAgICAgc3RhdGUudG9vbHMgPSByZWR1Y2Vycy5lbnRyaWVzLmRpc2VuZ2FnZVRvcExldmVsKHN0YXRlLnRvb2xzKTtcbiAgICAgICAgICAgIHN0YXRlLmVudHJpZXMgPSByZWR1Y2Vycy5lbnRyaWVzLmRpc2VuZ2FnZVRvcExldmVsKHN0YXRlLmVudHJpZXMpO1xuICAgICAgICAgICAgc3RhdGUuZW50cmllcyA9IHJlZHVjZXJzLmVudHJpZXMuZW5nYWdlRW50cnlQYXRoKHN0YXRlLmVudHJpZXMsIGVudHJ5X2lkKTtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmRpc2VuZ2FnZVRvb2xzKHN0YXRlKTtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmFueVNsYXRlcyhzdGF0ZSk7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0X2FjdGl2ZV90b3AgPSBoZWxwZXJzLmdldEVuZ2FnZWRUb3BMZXZlbEVudHJ5SWQoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzZW5nYWdlRW50cnk6IGZ1bmN0aW9uIChlbnRyeV9pZCkge1xuICAgICAgICAgICAgc3RhdGUuZW50cmllc1tlbnRyeV9pZF0gPSByZWR1Y2Vycy5lbnRyeS5kaXNlbmdhZ2Uoc3RhdGUuZW50cmllc1tlbnRyeV9pZF0pO1xuICAgICAgICAgICAgaWYoc3RhdGUuZW50cmllc1tlbnRyeV9pZF0uaXNUb3BMZXZlbCgpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSByZWR1Y2Vycy5iYXIubm9TbGF0ZXMoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdGUubGFzdF9hY3RpdmVfdG9wID0gaGVscGVycy5nZXRFbmdhZ2VkVG9wTGV2ZWxFbnRyeUlkKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhpZGVFbnRyeTogZnVuY3Rpb24gKGVudHJ5X2lkKSB7XG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzW2VudHJ5X2lkXSA9IHJlZHVjZXJzLmVudHJ5Lm1iX2hpZGUoc3RhdGUuZW50cmllc1tlbnRyeV9pZF0pO1xuICAgICAgICB9LFxuICAgICAgICBzaG93RW50cnk6IGZ1bmN0aW9uIChlbnRyeV9pZCkge1xuICAgICAgICAgICAgc3RhdGUuZW50cmllc1tlbnRyeV9pZF0gPSByZWR1Y2Vycy5lbnRyeS5tYl9zaG93KHN0YXRlLmVudHJpZXNbZW50cnlfaWRdKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5nYWdlVG9vbDogZnVuY3Rpb24gKGVudHJ5X2lkKSB7XG4gICAgICAgICAgICBzdGF0ZS5lbnRyaWVzID0gcmVkdWNlcnMuZW50cmllcy5kaXNlbmdhZ2VUb3BMZXZlbChzdGF0ZS5lbnRyaWVzKTtcbiAgICAgICAgICAgIHN0YXRlLnRvb2xzID0gcmVkdWNlcnMuZW50cmllcy5kaXNlbmdhZ2VUb3BMZXZlbChzdGF0ZS50b29scyk7XG4gICAgICAgICAgICBzdGF0ZS50b29sc1tlbnRyeV9pZF0gPSByZWR1Y2Vycy5lbnRyeS5lbmdhZ2Uoc3RhdGUudG9vbHNbZW50cnlfaWRdKTtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmVuZ2FnZVRvb2xzKHN0YXRlKTtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmFueVNsYXRlcyhzdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZ2FnZVRvb2xzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmVuZ2FnZVRvb2xzKHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgICAgZGlzZW5nYWdlVG9vbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc3RhdGUgPSByZWR1Y2Vycy5iYXIuZGlzZW5nYWdlVG9vbHMoc3RhdGUpXG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZVRvb2w6IGZ1bmN0aW9uIChlbnRyeV9pZCkge1xuICAgICAgICAgICAgc3RhdGUudG9vbHNbZW50cnlfaWRdID0gcmVkdWNlcnMuZW50cnkubWJfaGlkZShzdGF0ZS50b29sc1tlbnRyeV9pZF0pO1xuICAgICAgICAgICAgZm9yKGlkeCBpbiBzdGF0ZS50b29scykge1xuICAgICAgICAgICAgICAgIHRvb2wgPSBzdGF0ZS50b29sc1tpZHhdO1xuICAgICAgICAgICAgICAgIGlmKCF0b29sLmhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZS50b29sc1t0b29sLmlkXSA9IHJlZHVjZXJzLmVudHJ5LmVuZ2FnZSh0b29sKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIXN0YXRlLmFueV90b29sc192aXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLmRpc2VuZ2FnZVRvb2xzKCk7XG4gICAgICAgICAgICAgICAgbGFzdF90b3AgPSBzdGF0ZS5sYXN0X2FjdGl2ZV90b3A7XG4gICAgICAgICAgICAgICAgaWYobGFzdF90b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5lbmdhZ2VFbnRyeShsYXN0X3RvcCk7XG4gICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25zLmRpc2VuZ2FnZUFsbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlVG9vbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoc3RhdGUudG9vbHNfZW5nYWdlZCkge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMuZGlzZW5nYWdlQWxsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvcihpZHggaW4gc3RhdGUudG9vbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvb2wgPSBzdGF0ZS50b29sc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZih0b29sLmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnMuZW5nYWdlVG9vbCh0b29sLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdG9vbF9pZCA9IE9iamVjdC5rZXlzKHN0YXRlLnRvb2xzKVswXTtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLmVuZ2FnZVRvb2wodG9vbF9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2VuZ2FnZUFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc3RhdGUuZW50cmllcyA9IHJlZHVjZXJzLmVudHJpZXMuZGlzZW5nYWdlVG9wTGV2ZWwoc3RhdGUuZW50cmllcylcbiAgICAgICAgICAgIHN0YXRlLnRvb2xzID0gcmVkdWNlcnMuZW50cmllcy5kaXNlbmdhZ2VUb3BMZXZlbChzdGF0ZS50b29scylcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLm5vU2xhdGVzKHN0YXRlKTtcbiAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLmRpc2VuZ2FnZVRvb2xzKHN0YXRlKTtcblxuICAgICAgICB9LFxuICAgICAgICBpbml0TW9yZUJ1dHRvbjogZnVuY3Rpb24obWF4X2J1dHRvbnMpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeV9pZHMgPSBPYmplY3Qua2V5cyhzdGF0ZS5lbnRyaWVzKSxcbiAgICAgICAgICAgICAgICBsYXN0X2VudHJ5X2lkID0gZW50cnlfaWRzW2VudHJ5X2lkcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICBtb3JlID0gc3RhdGUuZW50cmllc1tsYXN0X2VudHJ5X2lkXTtcblxuICAgICAgICAgICAgaWYoc3RhdGUuYW55X3Rvb2xzX3Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgIG1heF9idXR0b25zLS1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vZ2V0IGxlbmd0aCBvZiB0b3AtbGV2ZWwgZW50cmllcyAody9vKSBtb3JlLWJ1dHRvblxuICAgICAgICAgICAgYW1vdW50X3RvcGxldmVsID0gaGVscGVycy5nZXRUb3BMZXZlbEVudHJpZXMoKS5sZW5ndGggLSAxO1xuXG4gICAgICAgICAgICBpZihhbW91bnRfdG9wbGV2ZWwgPiBtYXhfYnV0dG9ucykge1xuICAgICAgICAgICAgICAgIHN0YXRlLmVudHJpZXNbbW9yZS5pZF0gPSByZWR1Y2Vycy5lbnRyeS5tYl9zaG93KG1vcmUpO1xuICAgICAgICAgICAgICAgIHN0YXRlID0gcmVkdWNlcnMuYmFyLndpdGhNb3JlQnV0dG9uKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUuZW50cmllc1ttb3JlLmlkXSA9IHJlZHVjZXJzLmVudHJ5Lm1iX2hpZGUobW9yZSk7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSByZWR1Y2Vycy5iYXIud2l0aG91dE1vcmVCdXR0b24oc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBwdWJsaWNfaW50ZXJmYWNlID0ge1xuICAgICAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgICAgICBnZXRTdGF0ZTogKCkgPT4gZmFjdG9yaWVzLmNsb25lZChzdGF0ZSksXG4gICAgICAgIHNldFN0YXRlOiBmYWN0b3JpZXMuc3RhdGUsXG4gICAgICAgIGdldFRvcExldmVsRW50cmllczogaGVscGVycy5nZXRUb3BMZXZlbEVudHJpZXMsXG4gICAgICAgIGlzSW5WaWV3OiBoZWxwZXJzLmlzSW5WaWV3XG4gICAgfSxcbiAgICBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0YXRlID0gZmFjdG9yaWVzLmNsb25lZChjbGFzc2VzLmJhcik7XG4gICAgfTtcblxuICAgIGluaXQoKTtcbiAgICByZXR1cm4gcHVibGljX2ludGVyZmFjZTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbW9kZWw7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxJQUFJQSxLQUFLLEdBQUcsU0FBUkEsS0FBSyxHQUFjO0VBQ25CLElBQUlDLE1BQUs7SUFDVEMsT0FBTyxHQUFHO01BQ05DLEdBQUcsRUFBRTtRQUNEQyxpQkFBaUIsRUFBRyxLQUFLO1FBQ3pCQyxhQUFhLEVBQUUsS0FBSztRQUNwQkMsY0FBYyxFQUFFLEtBQUs7UUFDckJDLGlCQUFpQixFQUFFLDZCQUFXO1VBQzFCLEtBQUlDLEdBQUcsSUFBSSxJQUFJLENBQUNDLEtBQUssRUFBRTtZQUNuQixJQUFHLENBQUMsSUFBSSxDQUFDQSxLQUFLLENBQUNE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","map":{"version":3,"names":["model","state","classes","bar","any_entry_engaged","tools_engaged","more_available","any_tools_visible","idx","tools","hidden","any_tools_engaged","engaged","entries","known_tools","last_active_top","entry","id","removeable","gs_id","isTopLevel","split","length","factories","cloned","params","Object","assign","nu_state","tmp_state","reducers","engage","disengage","mb_show","mb_hide","engageTools","disengageTools","anySlates","noSlates","withMoreButton","withoutMoreButton","disengageTopLevel","engageEntryPath","entry_id","hops","map","v","slice","join","helpers","getTopLevelEntries","ret","push","getEngagedTopLevelEntryId","isInView","pop","actions","addEntry","addTool","tool","engageEntry","disengageEntry","hideEntry","showEntry","engageTool","removeTool","last_top","disengageAll","toggleTools","tool_id","keys","initMoreButton","max_buttons","entry_ids","last_entry_id","more","amount_toplevel","public_interface","getState","setState","init"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/","sources":["mainbar.model.js"],"sourcesContent":["/**\n * The Mainbar holds a collection of entries that each consist of some triggerer\n * and an according slate; in case of Tools, these entries might be hidden at first\n * or may be removed by the users.\n * There is a redux-like model of the moving parts of the mainbar: All entries and tools\n * are stored in a state.\n * Whenever something changes, i.e. the engagement and thus visibility of elements\n * should change, these changes are applied to the model first, so that calculations\n * of dependencies can be done _before_ rendering.\n  */\n\nvar model = function() {\n    var state,\n    classes = {\n        bar: {\n            any_entry_engaged : false,\n            tools_engaged: false,\n            more_available: false,\n            any_tools_visible: function() {\n                for(idx in this.tools) {\n                    if(!this.tools[idx].hidden) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n            any_tools_engaged: function() {\n                for(idx in this.tools) {\n                    if(this.tools[idx].engaged) {\n                        return true;\n                    }\n                }\n                return false;\n            },\n\n            entries: {},\n            tools: {}, //\"moving\" parts, current tools\n            known_tools: [], //gs-ids; a tool is \"new\", if not listed here\n            last_active_top: null\n        },\n        entry: {\n            id: null,\n            removeable: false,\n            engaged: false,\n            hidden: false,\n            gs_id: null,\n            isTopLevel: function() {return this.id.split(':').length === 2;}\n        }\n    },\n    factories = {\n        entry: (id) => factories.cloned(classes.entry, {id: id}),\n        cloned: (state, params) => Object.assign({}, state, params),\n        state: function(nu_state) {\n            var tmp_state = factories.cloned(state, nu_state);\n            for(idx in tmp_state.entries) {\n                tmp_state.entries[idx].isTopLevel = classes.entry.isTopLevel;\n            }\n            for(idx in tmp_state.tools) {\n                tmp_state.tools[idx].isTopLevel = classes.entry.isTopLevel;\n            }\n            state = tmp_state;\n        }\n    },\n    reducers = {\n        entry: {\n            engage: (entry) => {\n                entry.engaged = true;\n                entry.hidden = false;\n                return entry;\n            },\n            disengage: (entry) => {entry.engaged = false; return entry;},\n            mb_show: (entry) => {entry.hidden = false; return entry;},\n            mb_hide: (entry) => {\n                entry.hidden = true;\n                entry.engaged = false;\n                return entry;\n            }\n        },\n        bar:  {\n            engageTools: (bar) => {bar.tools_engaged = true; return bar;},\n            disengageTools: (bar) => {bar.tools_engaged = false; return bar;},\n            anySlates: (bar) => {bar.any_entry_engaged = true; return bar;},\n            noSlates: (bar) => {bar.any_entry_engaged = false; return bar;},\n            withMoreButton: (bar) => {bar.more_available = true; return bar;},\n            withoutMoreButton: (bar) => {bar.more_available = false; return bar;}\n        },\n        entries: {\n            disengageTopLevel: function(entries) {\n                var id;\n                for(id in entries) {\n                    if(entries[id].isTopLevel()) {\n                        entries[id] = reducers.entry.disengage(entries[id]);\n                    }\n                }\n                return entries;\n            },\n            engageEntryPath: function(entries, entry_id) {\n                var hops = entry_id.split(':');\n                hops.map(function(v, idx, hops) {\n                    var id = hops.slice(0, idx+1).join(':');\n                    if(id && id != '0') {\n                        entries[id] = reducers.entry.engage(entries[id]);\n                    }\n                });\n                return entries;\n            }\n        }\n    },\n    helpers = {\n        getTopLevelEntries: function() {\n            var id,\n                ret = [];\n            for(id in state.entries) {\n                if(state.entries[id].isTopLevel()) {\n                    ret.push(state.entries[id]);\n                }\n            }\n            return ret;\n        },\n        getEngagedTopLevelEntryId: function() {\n            var id,\n                entries = helpers.getTopLevelEntries();\n            for(id in entries) {\n                if(entries[id].engaged) {\n                    return entries[id].id;\n                }\n            }\n            return null;\n        },\n        isInView : function (entry_id) {\n            if(!state.entries[entry_id]) { //tools\n                return true;\n            }\n            var hops = entry_id.split(':'),\n                entries = state.entries;\n            while (hops.length > 1) {\n                entry_id = hops.join(':');\n                if(!state.entries[entry_id].engaged) {\n                    return false;\n                }\n                hops.pop();\n            }\n            return true;\n        }\n    },\n    actions = {\n        addEntry: function (entry_id) {\n            state.entries[entry_id] = factories.entry(entry_id);\n        },\n        addTool: function (entry_id, removeable, hidden, gs_id) {\n            var tool = factories.entry(entry_id);\n            tool.removeable = removeable ? true : false;\n            tool.hidden = hidden ? true : false;\n            tool.gs_id = gs_id;\n            state.tools[entry_id] = tool;\n        },\n        engageEntry: function (entry_id) {\n            state.tools = reducers.entries.disengageTopLevel(state.tools);\n            state.entries = reducers.entries.disengageTopLevel(state.entries);\n            state.entries = reducers.entries.engageEntryPath(state.entries, entry_id);\n            state = reducers.bar.disengageTools(state);\n            state = reducers.bar.anySlates(state);\n            state.last_active_top = helpers.getEngagedTopLevelEntryId();\n        },\n        disengageEntry: function (entry_id) {\n            state.entries[entry_id] = reducers.entry.disengage(state.entries[entry_id]);\n            if(state.entries[entry_id].isTopLevel()) {\n                state = reducers.bar.noSlates(state);\n            }\n            state.last_active_top = helpers.getEngagedTopLevelEntryId();\n        },\n        hideEntry: function (entry_id) {\n            state.entries[entry_id] = reducers.entry.mb_hide(state.entries[entry_id]);\n        },\n        showEntry: function (entry_id) {\n            state.entries[entry_id] = reducers.entry.mb_show(state.entries[entry_id]);\n        },\n        engageTool: function (entry_id) {\n            state.entries = reducers.entries.disengageTopLevel(state.entries);\n            state.tools = reducers.entries.disengageTopLevel(state.tools);\n            state.tools[entry_id] = reducers.entry.engage(state.tools[entry_id]);\n            state = reducers.bar.engageTools(state);\n            state = reducers.bar.anySlates(state);\n        },\n        engageTools: function() {\n            state = reducers.bar.engageTools(state);\n        },\n        disengageTools: function() {\n            state = reducers.bar.disengageTools(state)\n        },\n        removeTool: function (entry_id) {\n            state.tools[entry_id] = reducers.entry.mb_hide(state.tools[entry_id]);\n            for(idx in state.tools) {\n                tool = state.tools[idx];\n                if(!tool.hidden) {\n                    state.tools[tool.id] = reducers.entry.engage(tool);\n                    break;\n                }\n            }\n            if(!state.any_tools_visible()) {\n                actions.disengageTools();\n                last_top = state.last_active_top;\n                if(last_top) {\n                    actions.engageEntry(last_top);\n                }else {\n                    actions.disengageAll();\n                }\n            }\n        },\n        toggleTools: function() {\n            if(state.tools_engaged) {\n                actions.disengageAll();\n            } else {\n                for(idx in state.tools) {\n                    var tool = state.tools[idx];\n                    if(tool.engaged) {\n                        actions.engageTool(tool.id);\n                        return;\n                    }\n                }\n                var tool_id = Object.keys(state.tools)[0];\n                actions.engageTool(tool_id);\n            }\n        },\n        disengageAll: function () {\n            state.entries = reducers.entries.disengageTopLevel(state.entries)\n            state.tools = reducers.entries.disengageTopLevel(state.tools)\n            state = reducers.bar.noSlates(state);\n            state = reducers.bar.disengageTools(state);\n\n        },\n        initMoreButton: function(max_buttons) {\n            var entry_ids = Object.keys(state.entries),\n                last_entry_id = entry_ids[entry_ids.length - 1],\n                more = state.entries[last_entry_id];\n\n            if(state.any_tools_visible()) {\n                max_buttons--\n            };\n\n            //get length of top-level entries (w/o) more-button\n            amount_toplevel = helpers.getTopLevelEntries().length - 1;\n\n            if(amount_toplevel > max_buttons) {\n                state.entries[more.id] = reducers.entry.mb_show(more);\n                state = reducers.bar.withMoreButton(state);\n            } else {\n                state.entries[more.id] = reducers.entry.mb_hide(more);\n                state = reducers.bar.withoutMoreButton(state);\n            }\n        }\n    },\n    public_interface = {\n        actions: actions,\n        getState: () => factories.cloned(state),\n        setState: factories.state,\n        getTopLevelEntries: helpers.getTopLevelEntries,\n        isInView: helpers.isInView\n    },\n    init = function() {\n        state = factories.cloned(classes.bar);\n    };\n\n    init();\n    return public_interface;\n}\n\nexport default model;"],"mappings":"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"}},"mtime":1664201975176},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/mainbar.persistence.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar persistence = function persistence() {\n  var cs,\n    storage = function storage() {\n      if (cs) {\n        return cs;\n      }\n      cookie_name = hash(entry_ids());\n      return new il.Utilities.CookieStorage(cookie_name);\n    },\n    model_state = function model_state() {\n      return il.UI.maincontrols.mainbar.model.getState();\n    },\n    entry_ids = function entry_ids() {\n      var entries = model_state().entries,\n        base = '';\n      for (idx in entries) {\n        base = base + idx;\n      }\n      return base;\n    },\n    hash = function hash(str) {\n      var hash = 0,\n        len = str.length,\n        i,\n        chr;\n      for (i = 0; i < len; i = i + 1) {\n        chr = str.charCodeAt(i);\n        hash = (hash << 5) - hash + chr;\n        hash |= 0; // Convert to 32bit integer\n      }\n\n      return hash;\n    },\n    compressEntries = function compressEntries(entries) {\n      var k,\n        v,\n        ret = {};\n      for (k in entries) {\n        v = entries[k];\n        ret[k] = [v.removeable ? 1 : 0, v.engaged ? 1 : 0, v.hidden ? 1 : 0];\n      }\n      return ret;\n    },\n    decompressEntries = function decompressEntries(entries) {\n      var k,\n        v,\n        ret = {};\n      for (k in entries) {\n        v = entries[k];\n        ret[k] = {\n          \"id\": k,\n          \"removeable\": !!v[0],\n          \"engaged\": !!v[1],\n          \"hidden\": !!v[2]\n        };\n      }\n      return ret;\n    },\n    compressTools = function compressTools(entries) {\n      var k,\n        v,\n        ret = {};\n      for (k in entries) {\n        v = entries[k];\n        ret[v.gs_id] = [v.removeable ? 1 : 0, v.engaged ? 1 : 0, v.hidden ? 1 : 0, k];\n      }\n      return ret;\n    },\n    decompressTools = function decompressTools(entries) {\n      var k,\n        v,\n        ret = {},\n        id;\n      for (k in entries) {\n        v = entries[k];\n        id = v[3];\n        ret[id] = {\n          \"id\": id,\n          \"removeable\": !!v[0],\n          \"engaged\": !!v[1],\n          \"hidden\": !!v[2],\n          \"gs_id\": k\n        };\n      }\n      return ret;\n    },\n    storeStates = function storeStates(state) {\n      state.entries = compressEntries(state.entries);\n      state.tools = compressTools(state.tools);\n      cs = storage();\n      for (idx in state) {\n        cs.add(idx, state[idx]);\n      }\n      cs.store();\n      storePageState(state.any_entry_engaged || state.tools_engaged);\n    },\n    readStates = function readStates() {\n      cs = storage();\n      if (\"entries\" in cs.items && \"tools\" in cs.items) {\n        cs.items.entries = decompressEntries(cs.items.entries);\n        cs.items.tools = decompressTools(cs.items.tools);\n      }\n      return cs.items;\n    },\n    /**\n     * The information wether slates are engaged or not is shared\n     * with the page's renderer, so the space can be reserverd very early.\n     */\n    storePageState = function storePageState(engaged) {\n      var shared = new il.Utilities.CookieStorage('il_mb_slates');\n      shared.add('engaged', engaged);\n      shared.store();\n    },\n    public_interface = {\n      read: readStates,\n      store: storeStates\n    };\n  return public_interface;\n};\nvar _default = persistence;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwZXJzaXN0ZW5jZSIsImNzIiwic3RvcmFnZSIsImNvb2tpZV9uYW1lIiwiaGFzaCIsImVudHJ5X2lkcyIsImlsIiwiVXRpbGl0aWVzIiwiQ29va2llU3RvcmFnZSIsIm1vZGVsX3N0YXRlIiwiVUkiLCJtYWluY29udHJvbHMiLCJtYWluYmFyIiwibW9kZWwiLCJnZXRTdGF0ZSIsImVudHJpZXMiLCJiYXNlIiwiaWR4Iiwic3RyIiwibGVuIiwibGVuZ3RoIiwiaSIsImNociIsImNoYXJDb2RlQXQiLCJjb21wcmVzc0VudHJpZXMiLCJrIiwidiIsInJldCIsInJlbW92ZWFibGUiLCJlbmdhZ2VkIiwiaGlkZGVuIiwiZGVjb21wcmVzc0VudHJpZXMiLCJjb21wcmVzc1Rvb2xzIiwiZ3NfaWQiLCJkZWNvbXByZXNzVG9vbHMiLCJpZCIsInN0b3JlU3RhdGVzIiwic3RhdGUiLCJ0b29scyIsImFkZCIsInN0b3JlIiwic3RvcmVQYWdlU3RhdGUiLCJhbnlfZW50cnlfZW5nYWdlZCIsInRvb2xzX2VuZ2FnZWQiLCJyZWFkU3RhdGVzIiwiaXRlbXMiLCJzaGFyZWQiLCJwdWJsaWNfaW50ZXJmYWNlIiwicmVhZCJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9NYWluQ29udHJvbHMvc3JjLyIsInNvdXJjZXMiOlsibWFpbmJhci5wZXJzaXN0ZW5jZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbnZhciBwZXJzaXN0ZW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjcyxcbiAgICBzdG9yYWdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKGNzKSB7IHJldHVybiBjczsgfVxuICAgICAgICBjb29raWVfbmFtZSA9IGhhc2goZW50cnlfaWRzKCkpO1xuICAgICAgICByZXR1cm4gbmV3IGlsLlV0aWxpdGllcy5Db29raWVTdG9yYWdlKGNvb2tpZV9uYW1lKTtcbiAgICB9LFxuICAgIG1vZGVsX3N0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBpbC5VSS5tYWluY29udHJvbHMubWFpbmJhci5tb2RlbC5nZXRTdGF0ZSgpO1xuICAgIH0sXG4gICAgZW50cnlfaWRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBlbnRyaWVzID0gbW9kZWxfc3RhdGUoKS5lbnRyaWVzLFxuICAgICAgICAgICAgYmFzZSA9ICcnO1xuICAgICAgICBmb3IoaWR4IGluIGVudHJpZXMpIHtcbiAgICAgICAgICAgIGJhc2UgPSBiYXNlICsgaWR4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiYXNlO1xuICAgIH0sXG4gICAgaGFzaCA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgICB2YXIgaGFzaCA9IDAsXG4gICAgICAgICAgICBsZW4gPSBzdHIubGVuZ3RoLFxuICAgICAgICAgICAgaSwgY2hyO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkgPSBpICsgMSkge1xuICAgICAgICAgICAgY2hyID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBoYXNoICA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpICsgY2hyO1xuICAgICAgICAgICAgaGFzaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFzaDtcbiAgICB9LFxuICAgIGNvbXByZXNzRW50cmllcyA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGssIHYsIHJldCA9IHt9O1xuICAgICAgICBmb3IoayBpbiBlbnRyaWVzKSB7XG4gICAgICAgICAgICB2ID0gZW50cmllc1trXTtcbiAgICAgICAgICAgIHJldFtrXSA9IFtcbiAgICAgICAgICAgICAgICB2LnJlbW92ZWFibGUgPyAxOjAsXG4gICAgICAgICAgICAgICAgdi5lbmdhZ2VkID8gMTowLFxuICAgICAgICAgICAgICAgIHYuaGlkZGVuID8gMTowXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBkZWNvbXByZXNzRW50cmllcyA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGssIHYsIHJldCA9IHt9O1xuICAgICAgICBmb3IoayBpbiBlbnRyaWVzKSB7XG4gICAgICAgICAgICB2ID0gZW50cmllc1trXTtcbiAgICAgICAgICAgIHJldFtrXSA9IHtcbiAgICAgICAgICAgICAgICBcImlkXCI6IGssXG4gICAgICAgICAgICAgICAgXCJyZW1vdmVhYmxlXCI6ICEhdlswXSxcbiAgICAgICAgICAgICAgICBcImVuZ2FnZWRcIjogISF2WzFdLFxuICAgICAgICAgICAgICAgIFwiaGlkZGVuXCI6ICEhdlsyXVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH0sXG4gICAgY29tcHJlc3NUb29scyA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGssIHYsIHJldCA9IHt9O1xuICAgICAgICBmb3IoayBpbiBlbnRyaWVzKSB7XG4gICAgICAgICAgICB2ID0gZW50cmllc1trXTtcbiAgICAgICAgICAgIHJldFt2LmdzX2lkXSA9IFtcbiAgICAgICAgICAgICAgICB2LnJlbW92ZWFibGUgPyAxOjAsXG4gICAgICAgICAgICAgICAgdi5lbmdhZ2VkID8gMTowLFxuICAgICAgICAgICAgICAgIHYuaGlkZGVuID8gMTowLFxuICAgICAgICAgICAgICAgIGtcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIGRlY29tcHJlc3NUb29scyA9IGZ1bmN0aW9uKGVudHJpZXMpIHtcbiAgICAgICAgdmFyIGssIHYsIHJldCA9IHt9LCBpZDtcbiAgICAgICAgZm9yKGsgaW4gZW50cmllcykge1xuICAgICAgICAgICAgdiA9IGVudHJpZXNba107XG4gICAgICAgICAgICBpZCA9IHZbM107XG4gICAgICAgICAgICByZXRbaWRdID0ge1xuICAgICAgICAgICAgICAgIFwiaWRcIjogaWQsXG4gICAgICAgICAgICAgICAgXCJyZW1vdmVhYmxlXCI6ICEhdlswXSxcbiAgICAgICAgICAgICAgICBcImVuZ2FnZWRcIjogISF2WzFdLFxuICAgICAgICAgICAgICAgIFwiaGlkZGVuXCI6ICEhdlsyXSxcbiAgICAgICAgICAgICAgICBcImdzX2lkXCI6IGtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIHN0b3JlU3RhdGVzID0gZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgICAgc3RhdGUuZW50cmllcyA9IGNvbXByZXNzRW50cmllcyhzdGF0ZS5lbnRyaWVzKTtcbiAgICAgICAgc3RhdGUudG9vbHMgPSBjb21wcmVzc1Rvb2xzKHN0YXRlLnRvb2xzKTtcbiAgICAgICAgY3MgPSBzdG9yYWdlKCk7XG4gICAgICAgIGZvcihpZHggaW4gc3RhdGUpIHtcbiAgICAgICAgICAgIGNzLmFkZChpZHgsIHN0YXRlW2lkeF0pO1xuICAgICAgICB9XG4gICAgICAgIGNzLnN0b3JlKCk7XG4gICAgICAgIHN0b3JlUGFnZVN0YXRlKHN0YXRlLmFueV9lbnRyeV9lbmdhZ2VkIHx8IHN0YXRlLnRvb2xzX2VuZ2FnZWQpO1xuICAgIH0sXG4gICAgcmVhZFN0YXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBjcyA9IHN0b3JhZ2UoKTtcbiAgICAgICAgaWYgKChcImVudHJpZXNcIiBpbiBjcy5pdGVtcykgJiYgKFwidG9vbHNcIiBpbiBjcy5pdGVtcykpIHtcbiAgICAgICAgICAgIGNzLml0ZW1zLmVudHJpZXMgPSBkZWNvbXByZXNzRW50cmllcyhjcy5pdGVtcy5lbnRyaWVzKTtcbiAgICAgICAgICAgIGNzLml0ZW1zLnRvb2xzID0gZGVjb21wcmVzc1Rvb2xzKGNzLml0ZW1zLnRvb2xzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3MuaXRlbXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIFRoZSBpbmZvcm1hdGlvbiB3ZXRoZXIgc2xhdGVzIGFyZSBlbmdhZ2VkIG9yIG5vdCBpcyBzaGFyZWRcbiAgICAgKiB3aXRoIHRoZSBwYWdlJ3MgcmVuZGVyZXIsIHNvIHRoZSBzcGFjZSBjYW4gYmUgcmVzZXJ2ZXJkIHZlcnkgZWFybHkuXG4gICAgICovXG4gICAgc3RvcmVQYWdlU3RhdGUgPSBmdW5jdGlvbihlbmdhZ2VkKSB7XG4gICAgICAgIHZhciBzaGFyZWQgPSBuZXcgaWwuVXRpbGl0aWVzLkNvb2tpZVN0b3JhZ2UoJ2lsX21iX3NsYXRlcycpO1xuICAgICAgICBzaGFyZWQuYWRkKCdlbmdhZ2VkJywgZW5nYWdlZCk7XG4gICAgICAgIHNoYXJlZC5zdG9yZSgpO1xuICAgIH0sXG5cbiAgICBwdWJsaWNfaW50ZXJmYWNlID0ge1xuICAgICAgICByZWFkOiByZWFkU3RhdGVzLFxuICAgICAgICBzdG9yZTogc3RvcmVTdGF0ZXNcbiAgICB9O1xuXG4gICAgcmV0dXJuIHB1YmxpY19pbnRlcmZhY2U7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBlcnNpc3RlbmNlOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBSUEsV0FBVyxHQUFHLFNBQWRBLFdBQVcsR0FBYztFQUN6QixJQUFJQyxFQUFFO0lBQ05DLE9BQU8sR0FBRyxTQUFWQSxPQUFPLEdBQWM7TUFDakIsSUFBR0QsRUFBRSxFQUFFO1FBQUUsT0FBT0EsRUFBRTtNQUFFO01BQ3BCRSxXQUFXLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxFQUFFLENBQUM7TUFDL0IsT0FBTyxJQUFJQyxFQUFFLENBQUNDLFNBQVMsQ0FBQ0MsYUFBYSxDQUFDTCxXQUFXLENBQUM7SUFDdEQsQ0FBQztJQUNETSxXQUFXLEdBQUcsU0FBZEEsV0FBVyxHQUFjO01BQ3JCLE9BQU9ILEVBQUUsQ0FBQ0ksRUFBRSxDQUFDQyxZQUFZLENBQUNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDQyxRQUFRLEVBQUU7SUFDdEQsQ0FBQztJQUNEVCxTQUFTLEdBQUcs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","map":{"version":3,"names":["persistence","cs","storage","cookie_name","hash","entry_ids","il","Utilities","CookieStorage","model_state","UI","maincontrols","mainbar","model","getState","entries","base","idx","str","len","length","i","chr","charCodeAt","compressEntries","k","v","ret","removeable","engaged","hidden","decompressEntries","compressTools","gs_id","decompressTools","id","storeStates","state","tools","add","store","storePageState","any_entry_engaged","tools_engaged","readStates","items","shared","public_interface","read"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/","sources":["mainbar.persistence.js"],"sourcesContent":["\nvar persistence = function() {\n    var cs,\n    storage = function() {\n        if(cs) { return cs; }\n        cookie_name = hash(entry_ids());\n        return new il.Utilities.CookieStorage(cookie_name);\n    },\n    model_state = function() {\n        return il.UI.maincontrols.mainbar.model.getState();\n    },\n    entry_ids = function() {\n        var entries = model_state().entries,\n            base = '';\n        for(idx in entries) {\n            base = base + idx;\n        }\n        return base;\n    },\n    hash = function(str) {\n        var hash = 0,\n            len = str.length,\n            i, chr;\n\n        for (i = 0; i < len; i = i + 1) {\n            chr = str.charCodeAt(i);\n            hash  = ((hash << 5) - hash) + chr;\n            hash |= 0; // Convert to 32bit integer\n        }\n        return hash;\n    },\n    compressEntries = function(entries) {\n        var k, v, ret = {};\n        for(k in entries) {\n            v = entries[k];\n            ret[k] = [\n                v.removeable ? 1:0,\n                v.engaged ? 1:0,\n                v.hidden ? 1:0\n            ];\n        }\n        return ret;\n    },\n    decompressEntries = function(entries) {\n        var k, v, ret = {};\n        for(k in entries) {\n            v = entries[k];\n            ret[k] = {\n                \"id\": k,\n                \"removeable\": !!v[0],\n                \"engaged\": !!v[1],\n                \"hidden\": !!v[2]\n            };\n        }\n        return ret;\n    },\n    compressTools = function(entries) {\n        var k, v, ret = {};\n        for(k in entries) {\n            v = entries[k];\n            ret[v.gs_id] = [\n                v.removeable ? 1:0,\n                v.engaged ? 1:0,\n                v.hidden ? 1:0,\n                k\n            ];\n        }\n        return ret;\n    },\n    decompressTools = function(entries) {\n        var k, v, ret = {}, id;\n        for(k in entries) {\n            v = entries[k];\n            id = v[3];\n            ret[id] = {\n                \"id\": id,\n                \"removeable\": !!v[0],\n                \"engaged\": !!v[1],\n                \"hidden\": !!v[2],\n                \"gs_id\": k\n            };\n        }\n        return ret;\n    },\n    storeStates = function(state) {\n        state.entries = compressEntries(state.entries);\n        state.tools = compressTools(state.tools);\n        cs = storage();\n        for(idx in state) {\n            cs.add(idx, state[idx]);\n        }\n        cs.store();\n        storePageState(state.any_entry_engaged || state.tools_engaged);\n    },\n    readStates = function() {\n        cs = storage();\n        if ((\"entries\" in cs.items) && (\"tools\" in cs.items)) {\n            cs.items.entries = decompressEntries(cs.items.entries);\n            cs.items.tools = decompressTools(cs.items.tools);\n        }\n        return cs.items;\n    },\n\n    /**\n     * The information wether slates are engaged or not is shared\n     * with the page's renderer, so the space can be reserverd very early.\n     */\n    storePageState = function(engaged) {\n        var shared = new il.Utilities.CookieStorage('il_mb_slates');\n        shared.add('engaged', engaged);\n        shared.store();\n    },\n\n    public_interface = {\n        read: readStates,\n        store: storeStates\n    };\n\n    return public_interface;\n}\n\nexport default persistence;"],"mappings":"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"}},"mtime":1664201975176},"{\"assumptions\":{},\"sourceRoot\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/\",\"caller\":{\"name\":\"@babel/register\"},\"cwd\":\"/Users/thibeau/Development/ILIAS\",\"filename\":\"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/mainbar.renderer.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/thibeau/Development/ILIAS\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.20.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar renderer = function renderer($) {\n  var css = {\n      engaged: 'engaged',\n      disengaged: 'disengaged',\n      hidden: 'hidden',\n      page_div: 'il-layout-page',\n      page_has_engaged_slated: 'with-mainbar-slates-engaged',\n      tools_btn: 'il-mainbar-tools-button',\n      toolentries_wrapper: 'il-mainbar-tools-entries',\n      remover_class: 'il-mainbar-remove-tool',\n      mainbar: 'il-mainbar',\n      mainbar_buttons: '.il-mainbar .il-mainbar-entries .btn-bulky, .il-mainbar .il-mainbar-entries .link-bulky',\n      mainbar_entries: 'il-mainbar-entries'\n    },\n    dom_references = {},\n    dom_ref_to_element = {},\n    thrown_for = {},\n    dom_element = {\n      withHtmlId: function withHtmlId(html_id) {\n        return Object.assign({}, this, {\n          html_id: html_id\n        });\n      },\n      getElement: function getElement() {\n        //return document.getElementById(this.html_id);\n        return $('#' + this.html_id);\n      },\n      engage: function engage() {\n        var element = this.getElement();\n        element.addClass(css.engaged);\n        element.removeClass(css.disengaged);\n        if (il.UI.page.isSmallScreen() && il.UI.maincontrols.metabar) {\n          il.UI.maincontrols.metabar.disengageAll();\n        }\n        this.additional_engage();\n      },\n      disengage: function disengage() {\n        this.getElement().addClass(css.disengaged);\n        this.getElement().removeClass(css.engaged);\n        this.additional_disengage();\n      },\n      mb_hide: function mb_hide(on_parent) {\n        var element = this.getElement();\n        if (on_parent) {\n          element = element.parent();\n        }\n        element.addClass(css.hidden);\n      },\n      mb_show: function mb_show(on_parent) {\n        var element = this.getElement();\n        if (on_parent) {\n          element = element.parent();\n        }\n        element.removeClass(css.hidden);\n      },\n      additional_engage: function additional_engage() {},\n      additional_disengage: function additional_disengage() {}\n    },\n    parts = {\n      triggerer: Object.assign({}, dom_element, {\n        remove: function remove() {},\n        additional_engage: function additional_engage() {\n          this.getElement().attr('aria-expanded', true);\n        },\n        additional_disengage: function additional_disengage() {\n          this.getElement().attr('aria-expanded', false);\n        }\n      }),\n      slate: Object.assign({}, dom_element, {\n        remove: null,\n        mb_hide: null,\n        mb_show: null,\n        additional_engage: function additional_engage() {\n          var element = this.getElement(),\n            entry_id = dom_ref_to_element[this.html_id],\n            isInView = il.UI.maincontrols.mainbar.model.isInView(entry_id),\n            thrown = thrown_for[entry_id];\n          element.attr('aria-hidden', false);\n          //https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html\n          element.attr('role', 'region');\n          if (isInView && !thrown) {\n            element.trigger('in_view'); //this is most important for async loading of slates,\n            //it triggers the GlobalScreen-Service.\n            thrown_for[entry_id] = true;\n          }\n          if (!isInView) {\n            thrown_for[entry_id] = false;\n          }\n        },\n        additional_disengage: function additional_disengage() {\n          var entry_id = dom_ref_to_element[this.html_id];\n          thrown_for[entry_id] = false;\n          this.getElement().attr('aria-hidden', true);\n          this.getElement().removeAttr('role', 'region');\n        }\n      }),\n      remover: Object.assign({}, dom_element, {\n        engage: null,\n        disengage: null,\n        mb_show: function mb_show() {\n          this.getElement().parent().show();\n        }\n      }),\n      page: {\n        getElement: function getElement() {\n          return $('.' + css.page_div);\n        },\n        slatesEngaged: function slatesEngaged(engaged) {\n          if (engaged) {\n            this.getElement().addClass(css.page_has_engaged_slated);\n          } else {\n            this.getElement().removeClass(css.page_has_engaged_slated);\n          }\n        }\n      },\n      removers: {\n        getElement: function getElement() {\n          return $('.' + css.remover_class);\n        },\n        mb_hide: function mb_hide() {\n          this.getElement().hide();\n        }\n      },\n      tools_area: Object.assign({}, dom_element, {\n        getElement: function getElement() {\n          return $(' .' + css.toolentries_wrapper);\n        }\n      }),\n      tools_button: Object.assign({}, dom_element, {\n        getElement: function getElement() {\n          return $('.' + css.tools_btn + ' .btn');\n        },\n        remove: null,\n        additional_engage: function additional_engage() {\n          this.getElement().attr('aria-expanded', true);\n        },\n        additional_disengage: function additional_disengage() {\n          this.getElement().attr('aria-expanded', false);\n        }\n      }),\n      mainbar: {\n        getElement: function getElement() {\n          return $('.' + css.mainbar);\n        },\n        getOffsetTop: function getOffsetTop() {\n          return this.getElement().offset().top;\n        }\n      }\n    },\n    //more-slate\n    more = {\n      calcAmountOfButtons: function calcAmountOfButtons() {\n        var window_height = $(window).height(),\n          window_width = $(window).width(),\n          horizontal = il.UI.page.isSmallScreen(),\n          btn = $(css.mainbar_buttons).first();\n        btn_height = btn.height(), btn_width = btn.width(), amount_buttons = Math.floor((window_height - parts.mainbar.getOffsetTop()) / btn_height);\n        if (horizontal) {\n          amount_buttons = Math.floor(window_width / btn_width);\n        }\n        return amount_buttons;\n      }\n    },\n    actions = {\n      addEntry: function addEntry(entry_id, part, html_id) {\n        dom_references[entry_id] = dom_references[entry_id] || {};\n        dom_references[entry_id][part] = html_id;\n        dom_ref_to_element[html_id] = entry_id;\n        thrown_for[entry_id] = false;\n      },\n      renderEntry: function renderEntry(entry, is_tool) {\n        if (!dom_references[entry.id]) {\n          return;\n        }\n        var triggerer = parts.triggerer.withHtmlId(dom_references[entry.id].triggerer),\n          slate = parts.slate.withHtmlId(dom_references[entry.id].slate);\n\n        //a11y\n        triggerer.getElement().attr('aria-controls', slate.html_id);\n        triggerer.getElement().attr('aria-labelledby', triggerer.html_id);\n        //a11y\n\n        if (entry.hidden) {\n          triggerer.mb_hide(is_tool);\n        } else {\n          triggerer.mb_show(is_tool);\n        }\n        if (entry.engaged) {\n          triggerer.engage();\n          slate.engage();\n          if (entry.removeable) {\n            remover = parts.remover.withHtmlId(dom_references[entry.id].remover);\n            remover.mb_show(true);\n          }\n        } else {\n          triggerer.disengage();\n          slate.disengage();\n        }\n      },\n      moveToplevelTriggerersToMore: function moveToplevelTriggerersToMore(model_state) {\n        var entry_ids = Object.keys(model_state.entries),\n          last_entry_id = entry_ids[entry_ids.length - 1],\n          more_entry = model_state.entries[last_entry_id],\n          more_slate = parts.slate.withHtmlId(dom_references[more_entry.id].slate),\n          root_entries = il.UI.maincontrols.mainbar.model.getTopLevelEntries(),\n          root_entries_length = root_entries.length - 1,\n          max_buttons = more.calcAmountOfButtons() - 1; //room for the more-button\n\n        if (model_state.any_tools_visible()) {\n          max_buttons--;\n        }\n        ;\n        for (i = max_buttons; i < root_entries_length; i++) {\n          btn = parts.triggerer.withHtmlId(dom_references[root_entries[i].id].triggerer);\n          list = btn.getElement().parent();\n          btn.getElement().appendTo(more_slate.getElement().children('.il-maincontrols-slate-content'));\n          list.remove();\n        }\n      },\n      render: function render(model_state) {\n        var entry_ids = Object.keys(model_state.entries),\n          last_entry_id = entry_ids[entry_ids.length - 1],\n          more_entry = model_state.entries[last_entry_id],\n          more_button = parts.triggerer.withHtmlId(dom_references[more_entry.id].triggerer),\n          more_slate = parts.slate.withHtmlId(dom_references[more_entry.id].slate);\n        //reset\n        btns = more_slate.getElement().find('.btn-bulky, .link-bulky');\n        for (var i = 0; i < btns.length; i = i + 1) {\n          li = document.createElement('li');\n          li.appendChild(btns[i]);\n          li.setAttribute('role', 'none');\n          $(li).insertBefore(more_button.getElement().parent());\n        }\n        if (model_state.more_available) {\n          more_button.getElement().parent().show();\n          actions.moveToplevelTriggerersToMore(model_state);\n        } else {\n          more_button.getElement().parent().hide();\n        }\n        parts.page.slatesEngaged(model_state.any_entry_engaged || model_state.tools_engaged);\n        if (model_state.any_tools_visible()) {\n          parts.tools_button.mb_show();\n        } else {\n          parts.tools_button.mb_hide();\n        }\n        if (model_state.tools_engaged) {\n          parts.tools_button.engage();\n          parts.tools_area.engage();\n        } else {\n          parts.tools_button.disengage();\n          parts.tools_area.disengage();\n        }\n        for (idx in model_state.entries) {\n          actions.renderEntry(model_state.entries[idx], false);\n        }\n        for (idx in model_state.tools) {\n          actions.renderEntry(model_state.tools[idx], true);\n        }\n        //unfortunately, this does not work properly via a class\n        $('.' + css.mainbar_entries).css('visibility', 'visible');\n      },\n      focusSubentry: function focusSubentry(triggered_entry_id) {\n        var dom_id = dom_references[triggered_entry_id],\n          someting_to_focus_on = $('#' + dom_id.slate).children().first().children().first();\n        if (someting_to_focus_on[0]) {\n          if (!someting_to_focus_on.attr('tabindex')) {\n            //cannot focus w/o index\n            someting_to_focus_on.attr('tabindex', '-1');\n          }\n          someting_to_focus_on[0].focus();\n        }\n      },\n      focusTopentry: function focusTopentry(top_entry_id) {\n        var triggerer = dom_references[top_entry_id];\n        document.getElementById(triggerer.triggerer).focus();\n      },\n      dispatchResizeNotification: function dispatchResizeNotification(top_entry_id) {\n        var event = new CustomEvent('resize', {\n          detail: {\n            mainbar_induced: true\n          }\n        });\n        window.dispatchEvent(event);\n      }\n    },\n    public_interface = {\n      addEntry: actions.addEntry,\n      calcAmountOfButtons: more.calcAmountOfButtons,\n      render: actions.render,\n      focusSubentry: actions.focusSubentry,\n      focusTopentry: actions.focusTopentry,\n      dispatchResizeNotification: actions.dispatchResizeNotification\n    };\n  return public_interface;\n};\nvar _default = renderer;\nexports[\"default\"] = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJyZW5kZXJlciIsIiQiLCJjc3MiLCJlbmdhZ2VkIiwiZGlzZW5nYWdlZCIsImhpZGRlbiIsInBhZ2VfZGl2IiwicGFnZV9oYXNfZW5nYWdlZF9zbGF0ZWQiLCJ0b29sc19idG4iLCJ0b29sZW50cmllc193cmFwcGVyIiwicmVtb3Zlcl9jbGFzcyIsIm1haW5iYXIiLCJtYWluYmFyX2J1dHRvbnMiLCJtYWluYmFyX2VudHJpZXMiLCJkb21fcmVmZXJlbmNlcyIsImRvbV9yZWZfdG9fZWxlbWVudCIsInRocm93bl9mb3IiLCJkb21fZWxlbWVudCIsIndpdGhIdG1sSWQiLCJodG1sX2lkIiwiT2JqZWN0IiwiYXNzaWduIiwiZ2V0RWxlbWVudCIsImVuZ2FnZSIsImVsZW1lbnQiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaWwiLCJVSSIsInBhZ2UiLCJpc1NtYWxsU2NyZWVuIiwibWFpbmNvbnRyb2xzIiwibWV0YWJhciIsImRpc2VuZ2FnZUFsbCIsImFkZGl0aW9uYWxfZW5nYWdlIiwiZGlzZW5nYWdlIiwiYWRkaXRpb25hbF9kaXNlbmdhZ2UiLCJtYl9oaWRlIiwib25fcGFyZW50IiwicGFyZW50IiwibWJfc2hvdyIsInBhcnRzIiwidHJpZ2dlcmVyIiwicmVtb3ZlIiwiYXR0ciIsInNsYXRlIiwiZW50cnlfaWQiLCJpc0luVmlldyIsIm1vZGVsIiwidGhyb3duIiwidHJpZ2dlciIsInJlbW92ZUF0dHIiLCJyZW1vdmVyIiwic2hvdyIsInNsYXRlc0VuZ2FnZWQiLCJyZW1vdmVycyIsImhpZGUiLCJ0b29sc19hcmVhIiwidG9vbHNfYnV0dG9uIiwiZ2V0T2Zmc2V0VG9wIiwib2Zmc2V0IiwidG9wIiwibW9yZSIsImNhbGNBbW91bnRPZkJ1dHRvbnMiLCJ3aW5kb3dfaGVpZ2h0Iiwid2luZG93IiwiaGVpZ2h0Iiwid2luZG93X3dpZHRoIiwid2lkdGgiLCJob3Jpem9udGFsIiwiYnRuIiwiZmlyc3QiLCJidG5faGVpZ2h0IiwiYnRuX3dpZHRoIiwiYW1vdW50X2J1dHRvbnMiLCJNYXRoIiwiZmxvb3IiLCJhY3Rpb25zIiwiYWRkRW50cnkiLCJwYXJ0IiwicmVuZGVyRW50cnkiLCJlbnRyeSIsImlzX3Rvb2wiLCJpZCIsInJlbW92ZWFibGUiLCJtb3ZlVG9wbGV2ZWxUcmlnZ2VyZXJzVG9Nb3JlIiwibW9kZWxfc3RhdGUiLCJlbnRyeV9pZHMiLCJrZXlzIiwiZW50cmllcyIsImxhc3RfZW50cnlfaWQiLCJsZW5ndGgiLCJtb3JlX2VudHJ5IiwibW9yZV9zbGF0ZSIsInJvb3RfZW50cmllcyIsImdldFRvcExldmVsRW50cmllcyIsInJvb3RfZW50cmllc19sZW5ndGgiLCJtYXhfYnV0dG9ucyIsImFueV90b29sc192aXNpYmxlIiwiaSIsImxpc3QiLCJhcHBlbmRUbyIsImNoaWxkcmVuIiwicmVuZGVyIiwibW9yZV9idXR0b24iLCJidG5zIiwiZmluZCIsImxpIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRCZWZvcmUiLCJtb3JlX2F2YWlsYWJsZSIsImFueV9lbnRyeV9lbmdhZ2VkIiwidG9vbHNfZW5nYWdlZCIsImlkeCIsInRvb2xzIiwiZm9jdXNTdWJlbnRyeSIsInRyaWdnZXJlZF9lbnRyeV9pZCIsImRvbV9pZCIsInNvbWV0aW5nX3RvX2ZvY3VzX29uIiwiZm9jdXMiLCJmb2N1c1RvcGVudHJ5IiwidG9wX2VudHJ5X2lkIiwiZ2V0RWxlbWVudEJ5SWQiLCJkaXNwYXRjaFJlc2l6ZU5vdGlmaWNhdGlvbiIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJtYWluYmFyX2luZHVjZWQiLCJkaXNwYXRjaEV2ZW50IiwicHVibGljX2ludGVyZmFjZSJdLCJzb3VyY2VSb290IjoiL1VzZXJzL3RoaWJlYXUvRGV2ZWxvcG1lbnQvSUxJQVMvc3JjL1VJL3RlbXBsYXRlcy9qcy9NYWluQ29udHJvbHMvc3JjLyIsInNvdXJjZXMiOlsibWFpbmJhci5yZW5kZXJlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgcmVuZGVyZXIgPSBmdW5jdGlvbigkKSB7XG4gICAgdmFyIGNzcyA9IHtcbiAgICAgICAgZW5nYWdlZDogJ2VuZ2FnZWQnXG4gICAgICAgICxkaXNlbmdhZ2VkOiAnZGlzZW5nYWdlZCdcbiAgICAgICAgLGhpZGRlbjogJ2hpZGRlbidcbiAgICAgICAgLHBhZ2VfZGl2OiAnaWwtbGF5b3V0LXBhZ2UnXG4gICAgICAgICxwYWdlX2hhc19lbmdhZ2VkX3NsYXRlZDogJ3dpdGgtbWFpbmJhci1zbGF0ZXMtZW5nYWdlZCdcbiAgICAgICAgLHRvb2xzX2J0bjogJ2lsLW1haW5iYXItdG9vbHMtYnV0dG9uJ1xuICAgICAgICAsdG9vbGVudHJpZXNfd3JhcHBlcjogJ2lsLW1haW5iYXItdG9vbHMtZW50cmllcydcbiAgICAgICAgLHJlbW92ZXJfY2xhc3M6ICdpbC1tYWluYmFyLXJlbW92ZS10b29sJ1xuICAgICAgICAsbWFpbmJhcjogJ2lsLW1haW5iYXInXG4gICAgICAgICxtYWluYmFyX2J1dHRvbnM6ICcuaWwtbWFpbmJhciAuaWwtbWFpbmJhci1lbnRyaWVzIC5idG4tYnVsa3ksIC5pbC1tYWluYmFyIC5pbC1tYWluYmFyLWVudHJpZXMgLmxpbmstYnVsa3knXG4gICAgICAgICxtYWluYmFyX2VudHJpZXM6ICdpbC1tYWluYmFyLWVudHJpZXMnXG4gICAgfSxcblxuICAgIGRvbV9yZWZlcmVuY2VzID0ge30sXG4gICAgZG9tX3JlZl90b19lbGVtZW50ID0ge30sXG4gICAgdGhyb3duX2ZvciA9IHt9LFxuICAgIGRvbV9lbGVtZW50ID0ge1xuICAgICAgICB3aXRoSHRtbElkOiBmdW5jdGlvbiAoaHRtbF9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMsIHtodG1sX2lkOiBodG1sX2lkfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvL3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmh0bWxfaWQpO1xuICAgICAgICAgICAgcmV0dXJuICQoJyMnICsgdGhpcy5odG1sX2lkKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW5nYWdlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5nZXRFbGVtZW50KCk7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoY3NzLmVuZ2FnZWQpO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhjc3MuZGlzZW5nYWdlZCk7XG5cbiAgICAgICAgICAgIGlmKGlsLlVJLnBhZ2UuaXNTbWFsbFNjcmVlbigpICYmIGlsLlVJLm1haW5jb250cm9scy5tZXRhYmFyKSB7XG4gICAgICAgICAgICAgICAgaWwuVUkubWFpbmNvbnRyb2xzLm1ldGFiYXIuZGlzZW5nYWdlQWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxfZW5nYWdlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRpc2VuZ2FnZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5hZGRDbGFzcyhjc3MuZGlzZW5nYWdlZCk7XG4gICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5yZW1vdmVDbGFzcyhjc3MuZW5nYWdlZCk7XG4gICAgICAgICAgICB0aGlzLmFkZGl0aW9uYWxfZGlzZW5nYWdlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIG1iX2hpZGU6IGZ1bmN0aW9uKG9uX3BhcmVudCkge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgICAgICAgIGlmKG9uX3BhcmVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhjc3MuaGlkZGVuKTtcbiAgICAgICAgfSxcbiAgICAgICAgbWJfc2hvdzogZnVuY3Rpb24ob25fcGFyZW50KSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgICAgICAgaWYob25fcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGNzcy5oaWRkZW4pO1xuICAgICAgICB9LFxuICAgICAgICBhZGRpdGlvbmFsX2VuZ2FnZTogZnVuY3Rpb24oKXt9LFxuICAgICAgICBhZGRpdGlvbmFsX2Rpc2VuZ2FnZTogZnVuY3Rpb24oKXt9XG4gICAgfSxcbiAgICBwYXJ0cyA9IHtcbiAgICAgICAgdHJpZ2dlcmVyOiBPYmplY3QuYXNzaWduKHt9LCBkb21fZWxlbWVudCwge1xuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbigpIHt9LFxuICAgICAgICAgICAgYWRkaXRpb25hbF9lbmdhZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxfZGlzZW5nYWdlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBzbGF0ZTogT2JqZWN0LmFzc2lnbih7fSwgZG9tX2VsZW1lbnQsIHtcbiAgICAgICAgICAgIHJlbW92ZTogbnVsbCxcbiAgICAgICAgICAgIG1iX2hpZGU6IG51bGwsXG4gICAgICAgICAgICBtYl9zaG93OiBudWxsLFxuICAgICAgICAgICAgYWRkaXRpb25hbF9lbmdhZ2U6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmdldEVsZW1lbnQoKSxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlfaWQgPSBkb21fcmVmX3RvX2VsZW1lbnRbdGhpcy5odG1sX2lkXSxcbiAgICAgICAgICAgICAgICAgICAgaXNJblZpZXcgPSBpbC5VSS5tYWluY29udHJvbHMubWFpbmJhci5tb2RlbC5pc0luVmlldyhlbnRyeV9pZCksXG4gICAgICAgICAgICAgICAgICAgIHRocm93biA9IHRocm93bl9mb3JbZW50cnlfaWRdO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWhpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvL2h0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMtMS4xL2V4YW1wbGVzL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cigncm9sZScsICdyZWdpb24nKTtcbiAgICAgICAgICAgICAgICBpZihpc0luVmlldyAmJiAhdGhyb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudHJpZ2dlcignaW5fdmlldycpOyAvL3RoaXMgaXMgbW9zdCBpbXBvcnRhbnQgZm9yIGFzeW5jIGxvYWRpbmcgb2Ygc2xhdGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCB0cmlnZ2VycyB0aGUgR2xvYmFsU2NyZWVuLVNlcnZpY2UuXG4gICAgICAgICAgICAgICAgICAgIHRocm93bl9mb3JbZW50cnlfaWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoIWlzSW5WaWV3KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93bl9mb3JbZW50cnlfaWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxfZGlzZW5nYWdlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBlbnRyeV9pZCA9IGRvbV9yZWZfdG9fZWxlbWVudFt0aGlzLmh0bWxfaWRdO1xuICAgICAgICAgICAgICAgIHRocm93bl9mb3JbZW50cnlfaWRdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5yZW1vdmVBdHRyKCdyb2xlJywgJ3JlZ2lvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgcmVtb3ZlcjogT2JqZWN0LmFzc2lnbih7fSwgZG9tX2VsZW1lbnQsIHtcbiAgICAgICAgICAgIGVuZ2FnZTogbnVsbCxcbiAgICAgICAgICAgIGRpc2VuZ2FnZTpudWxsLFxuICAgICAgICAgICAgbWJfc2hvdzogZnVuY3Rpb24oKXt0aGlzLmdldEVsZW1lbnQoKS5wYXJlbnQoKS5zaG93KCk7fVxuICAgICAgICB9KSxcbiAgICAgICAgcGFnZToge1xuICAgICAgICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCgnLicgKyBjc3MucGFnZV9kaXYpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsYXRlc0VuZ2FnZWQ6IGZ1bmN0aW9uKGVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICBpZihlbmdhZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmFkZENsYXNzKGNzcy5wYWdlX2hhc19lbmdhZ2VkX3NsYXRlZCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucmVtb3ZlQ2xhc3MoY3NzLnBhZ2VfaGFzX2VuZ2FnZWRfc2xhdGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZXJzOiB7XG4gICAgICAgICAgICBnZXRFbGVtZW50OiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCcuJyArIGNzcy5yZW1vdmVyX2NsYXNzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYl9oaWRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSxcbiAgICAgICAgdG9vbHNfYXJlYTogT2JqZWN0LmFzc2lnbih7fSwgZG9tX2VsZW1lbnQsIHtcbiAgICAgICAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJyAuJyArIGNzcy50b29sZW50cmllc193cmFwcGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHRvb2xzX2J1dHRvbjogT2JqZWN0LmFzc2lnbih7fSwgZG9tX2VsZW1lbnQsIHtcbiAgICAgICAgICAgIGdldEVsZW1lbnQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJy4nICsgY3NzLnRvb2xzX2J0biArICcgLmJ0bicpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogbnVsbCxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxfZW5nYWdlOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0RWxlbWVudCgpLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhZGRpdGlvbmFsX2Rpc2VuZ2FnZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEVsZW1lbnQoKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgbWFpbmJhcjoge1xuICAgICAgICAgICAgZ2V0RWxlbWVudDogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCgnLicgKyBjc3MubWFpbmJhcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0T2Zmc2V0VG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIC8vbW9yZS1zbGF0ZVxuICAgIG1vcmUgPSB7XG4gICAgICAgIGNhbGNBbW91bnRPZkJ1dHRvbnM6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICB2YXIgd2luZG93X2hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICB3aW5kb3dfd2lkdGggPSAkKHdpbmRvdykud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsID0gaWwuVUkucGFnZS5pc1NtYWxsU2NyZWVuKCksXG4gICAgICAgICAgICAgICAgYnRuID0gJChjc3MubWFpbmJhcl9idXR0b25zKS5maXJzdCgpXG4gICAgICAgICAgICAgICAgYnRuX2hlaWdodCA9IGJ0bi5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICBidG5fd2lkdGggPSBidG4ud2lkdGgoKSxcbiAgICAgICAgICAgICAgICBhbW91bnRfYnV0dG9ucyA9IE1hdGguZmxvb3IoXG4gICAgICAgICAgICAgICAgICAgICh3aW5kb3dfaGVpZ2h0IC0gcGFydHMubWFpbmJhci5nZXRPZmZzZXRUb3AoKSkgLyBidG5faGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgaWYoaG9yaXpvbnRhbCkge1xuICAgICAgICAgICAgICAgIGFtb3VudF9idXR0b25zID0gTWF0aC5mbG9vcih3aW5kb3dfd2lkdGggLyBidG5fd2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFtb3VudF9idXR0b25zO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGFjdGlvbnMgPSB7XG4gICAgICAgIGFkZEVudHJ5OiBmdW5jdGlvbiAoZW50cnlfaWQsIHBhcnQsIGh0bWxfaWQpIHtcbiAgICAgICAgICAgIGRvbV9yZWZlcmVuY2VzW2VudHJ5X2lkXSA9IGRvbV9yZWZlcmVuY2VzW2VudHJ5X2lkXSB8fCB7fTtcbiAgICAgICAgICAgIGRvbV9yZWZlcmVuY2VzW2VudHJ5X2lkXVtwYXJ0XSA9IGh0bWxfaWQ7XG4gICAgICAgICAgICBkb21fcmVmX3RvX2VsZW1lbnRbaHRtbF9pZF0gPSBlbnRyeV9pZDtcbiAgICAgICAgICAgIHRocm93bl9mb3JbZW50cnlfaWRdID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlckVudHJ5OiBmdW5jdGlvbiAoZW50cnksIGlzX3Rvb2wpIHtcbiAgICAgICAgICAgIGlmKCFkb21fcmVmZXJlbmNlc1tlbnRyeS5pZF0pe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRyaWdnZXJlciA9IHBhcnRzLnRyaWdnZXJlci53aXRoSHRtbElkKGRvbV9yZWZlcmVuY2VzW2VudHJ5LmlkXS50cmlnZ2VyZXIpLFxuICAgICAgICAgICAgICAgIHNsYXRlID0gcGFydHMuc2xhdGUud2l0aEh0bWxJZChkb21fcmVmZXJlbmNlc1tlbnRyeS5pZF0uc2xhdGUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vYTExeVxuICAgICAgICAgICAgICAgIHRyaWdnZXJlci5nZXRFbGVtZW50KCkuYXR0cignYXJpYS1jb250cm9scycsIHNsYXRlLmh0bWxfaWQpO1xuICAgICAgICAgICAgICAgIHRyaWdnZXJlci5nZXRFbGVtZW50KCkuYXR0cignYXJpYS1sYWJlbGxlZGJ5JywgdHJpZ2dlcmVyLmh0bWxfaWQpO1xuICAgICAgICAgICAgICAgIC8vYTExeVxuXG4gICAgICAgICAgICBpZihlbnRyeS5oaWRkZW4pIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyZXIubWJfaGlkZShpc190b29sKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcmVyLm1iX3Nob3coaXNfdG9vbCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGVudHJ5LmVuZ2FnZWQpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyZXIuZW5nYWdlKCk7XG4gICAgICAgICAgICAgICAgc2xhdGUuZW5nYWdlKCk7XG4gICAgICAgICAgICAgICAgaWYoZW50cnkucmVtb3ZlYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVyID0gcGFydHMucmVtb3Zlci53aXRoSHRtbElkKGRvbV9yZWZlcmVuY2VzW2VudHJ5LmlkXS5yZW1vdmVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3Zlci5tYl9zaG93KHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcmVyLmRpc2VuZ2FnZSgpO1xuICAgICAgICAgICAgICAgIHNsYXRlLmRpc2VuZ2FnZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1vdmVUb3BsZXZlbFRyaWdnZXJlcnNUb01vcmU6IGZ1bmN0aW9uIChtb2RlbF9zdGF0ZSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5X2lkcyA9IE9iamVjdC5rZXlzKG1vZGVsX3N0YXRlLmVudHJpZXMpLFxuICAgICAgICAgICAgICAgIGxhc3RfZW50cnlfaWQgPSBlbnRyeV9pZHNbZW50cnlfaWRzLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgIG1vcmVfZW50cnkgPSBtb2RlbF9zdGF0ZS5lbnRyaWVzW2xhc3RfZW50cnlfaWRdLFxuICAgICAgICAgICAgICAgIG1vcmVfc2xhdGUgPSBwYXJ0cy5zbGF0ZS53aXRoSHRtbElkKGRvbV9yZWZlcmVuY2VzW21vcmVfZW50cnkuaWRdLnNsYXRlKSxcbiAgICAgICAgICAgICAgICByb290X2VudHJpZXMgPSBpbC5VSS5tYWluY29udHJvbHMubWFpbmJhci5tb2RlbC5nZXRUb3BMZXZlbEVudHJpZXMoKSxcbiAgICAgICAgICAgICAgICByb290X2VudHJpZXNfbGVuZ3RoID0gcm9vdF9lbnRyaWVzLmxlbmd0aCAtIDEsXG4gICAgICAgICAgICAgICAgbWF4X2J1dHRvbnMgPSBtb3JlLmNhbGNBbW91bnRPZkJ1dHRvbnMoKSAtIDE7IC8vcm9vbSBmb3IgdGhlIG1vcmUtYnV0dG9uXG5cbiAgICAgICAgICAgIGlmKG1vZGVsX3N0YXRlLmFueV90b29sc192aXNpYmxlKCkpIHsgbWF4X2J1dHRvbnMtLX07XG5cbiAgICAgICAgICAgIGZvcihpID0gbWF4X2J1dHRvbnM7IGkgPCByb290X2VudHJpZXNfbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBidG4gPSBwYXJ0cy50cmlnZ2VyZXIud2l0aEh0bWxJZChkb21fcmVmZXJlbmNlc1tyb290X2VudHJpZXNbaV0uaWRdLnRyaWdnZXJlcik7XG4gICAgICAgICAgICAgICAgbGlzdCA9IGJ0bi5nZXRFbGVtZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgYnRuLmdldEVsZW1lbnQoKS5hcHBlbmRUbyhtb3JlX3NsYXRlLmdldEVsZW1lbnQoKS5jaGlsZHJlbignLmlsLW1haW5jb250cm9scy1zbGF0ZS1jb250ZW50JykpO1xuICAgICAgICAgICAgICAgIGxpc3QucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24gKG1vZGVsX3N0YXRlKSB7XG4gICAgICAgICAgICB2YXIgZW50cnlfaWRzID0gT2JqZWN0LmtleXMobW9kZWxfc3RhdGUuZW50cmllcyksXG4gICAgICAgICAgICAgICAgbGFzdF9lbnRyeV9pZCA9IGVudHJ5X2lkc1tlbnRyeV9pZHMubGVuZ3RoIC0gMV0sXG4gICAgICAgICAgICAgICAgbW9yZV9lbnRyeSA9IG1vZGVsX3N0YXRlLmVudHJpZXNbbGFzdF9lbnRyeV9pZF0sXG4gICAgICAgICAgICAgICAgbW9yZV9idXR0b24gPSBwYXJ0cy50cmlnZ2VyZXIud2l0aEh0bWxJZChkb21fcmVmZXJlbmNlc1ttb3JlX2VudHJ5LmlkXS50cmlnZ2VyZXIpLFxuICAgICAgICAgICAgICAgIG1vcmVfc2xhdGUgPSBwYXJ0cy5zbGF0ZS53aXRoSHRtbElkKGRvbV9yZWZlcmVuY2VzW21vcmVfZW50cnkuaWRdLnNsYXRlKTtcbiAgICAgICAgICAgICAgICAvL3Jlc2V0XG4gICAgICAgICAgICAgICAgYnRucyA9IG1vcmVfc2xhdGUuZ2V0RWxlbWVudCgpLmZpbmQoJy5idG4tYnVsa3ksIC5saW5rLWJ1bGt5Jyk7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGJ0bnMubGVuZ3RoOyBpID0gaSArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsaScpO1xuICAgICAgICAgICAgICAgICAgICBsaS5hcHBlbmRDaGlsZChidG5zW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgbGkuc2V0QXR0cmlidXRlKCdyb2xlJywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgJChsaSkuaW5zZXJ0QmVmb3JlKG1vcmVfYnV0dG9uLmdldEVsZW1lbnQoKS5wYXJlbnQoKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihtb2RlbF9zdGF0ZS5tb3JlX2F2YWlsYWJsZSkge1xuICAgICAgICAgICAgICAgIG1vcmVfYnV0dG9uLmdldEVsZW1lbnQoKS5wYXJlbnQoKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgYWN0aW9ucy5tb3ZlVG9wbGV2ZWxUcmlnZ2VyZXJzVG9Nb3JlKG1vZGVsX3N0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9yZV9idXR0b24uZ2V0RWxlbWVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGFydHMucGFnZS5zbGF0ZXNFbmdhZ2VkKG1vZGVsX3N0YXRlLmFueV9lbnRyeV9lbmdhZ2VkIHx8IG1vZGVsX3N0YXRlLnRvb2xzX2VuZ2FnZWQpO1xuXG4gICAgICAgICAgICBpZihtb2RlbF9zdGF0ZS5hbnlfdG9vbHNfdmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgcGFydHMudG9vbHNfYnV0dG9uLm1iX3Nob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFydHMudG9vbHNfYnV0dG9uLm1iX2hpZGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYobW9kZWxfc3RhdGUudG9vbHNfZW5nYWdlZCl7XG4gICAgICAgICAgICAgICAgcGFydHMudG9vbHNfYnV0dG9uLmVuZ2FnZSgpO1xuICAgICAgICAgICAgICAgIHBhcnRzLnRvb2xzX2FyZWEuZW5nYWdlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRzLnRvb2xzX2J1dHRvbi5kaXNlbmdhZ2UoKTtcbiAgICAgICAgICAgICAgICBwYXJ0cy50b29sc19hcmVhLmRpc2VuZ2FnZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IoaWR4IGluIG1vZGVsX3N0YXRlLmVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb25zLnJlbmRlckVudHJ5KG1vZGVsX3N0YXRlLmVudHJpZXNbaWR4XSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yKGlkeCBpbiBtb2RlbF9zdGF0ZS50b29scykge1xuICAgICAgICAgICAgICAgIGFjdGlvbnMucmVuZGVyRW50cnkobW9kZWxfc3RhdGUudG9vbHNbaWR4XSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL3VuZm9ydHVuYXRlbHksIHRoaXMgZG9lcyBub3Qgd29yayBwcm9wZXJseSB2aWEgYSBjbGFzc1xuICAgICAgICAgICAgJCgnLicgKyBjc3MubWFpbmJhcl9lbnRyaWVzKS5jc3MoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICB9LFxuICAgICAgICBmb2N1c1N1YmVudHJ5OiBmdW5jdGlvbih0cmlnZ2VyZWRfZW50cnlfaWQpIHtcbiAgICAgICAgICAgIHZhciBkb21faWQgPSBkb21fcmVmZXJlbmNlc1t0cmlnZ2VyZWRfZW50cnlfaWRdLFxuICAgICAgICAgICAgICAgIHNvbWV0aW5nX3RvX2ZvY3VzX29uID0gJCgnIycgKyBkb21faWQuc2xhdGUpXG4gICAgICAgICAgICAgICAgICAgIC5jaGlsZHJlbigpLmZpcnN0KClcbiAgICAgICAgICAgICAgICAgICAgLmNoaWxkcmVuKCkuZmlyc3QoKTtcbiAgICAgICAgICAgIGlmKHNvbWV0aW5nX3RvX2ZvY3VzX29uWzBdKXtcbiAgICAgICAgICAgICAgICBpZighc29tZXRpbmdfdG9fZm9jdXNfb24uYXR0cigndGFiaW5kZXgnKSkgeyAvL2Nhbm5vdCBmb2N1cyB3L28gaW5kZXhcbiAgICAgICAgICAgICAgICAgICAgc29tZXRpbmdfdG9fZm9jdXNfb24uYXR0cigndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc29tZXRpbmdfdG9fZm9jdXNfb25bMF0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZm9jdXNUb3BlbnRyeTogZnVuY3Rpb24odG9wX2VudHJ5X2lkKSB7XG4gICAgICAgICAgICB2YXIgIHRyaWdnZXJlciA9IGRvbV9yZWZlcmVuY2VzW3RvcF9lbnRyeV9pZF07XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0cmlnZ2VyZXIudHJpZ2dlcmVyKS5mb2N1cygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGRpc3BhdGNoUmVzaXplTm90aWZpY2F0aW9uOiBmdW5jdGlvbih0b3BfZW50cnlfaWQpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5ldyBDdXN0b21FdmVudChcbiAgICAgICAgICAgICAgICAncmVzaXplJyxcbiAgICAgICAgICAgICAgICB7ZGV0YWlsIDoge21haW5iYXJfaW5kdWNlZCA6IHRydWV9fVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcHVibGljX2ludGVyZmFjZSA9IHtcbiAgICAgICAgYWRkRW50cnk6IGFjdGlvbnMuYWRkRW50cnksXG4gICAgICAgIGNhbGNBbW91bnRPZkJ1dHRvbnM6IG1vcmUuY2FsY0Ftb3VudE9mQnV0dG9ucyxcbiAgICAgICAgcmVuZGVyOiBhY3Rpb25zLnJlbmRlcixcbiAgICAgICAgZm9jdXNTdWJlbnRyeTogYWN0aW9ucy5mb2N1c1N1YmVudHJ5LFxuICAgICAgICBmb2N1c1RvcGVudHJ5OiBhY3Rpb25zLmZvY3VzVG9wZW50cnksXG4gICAgICAgIGRpc3BhdGNoUmVzaXplTm90aWZpY2F0aW9uOiBhY3Rpb25zLmRpc3BhdGNoUmVzaXplTm90aWZpY2F0aW9uXG4gICAgfTtcblxuICAgIHJldHVybiBwdWJsaWNfaW50ZXJmYWNlO1xufVxuXG5leHBvcnQgZGVmYXVsdCByZW5kZXJlcjtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHLFNBQVhBLFFBQVEsQ0FBWUMsQ0FBQyxFQUFFO0VBQ3ZCLElBQUlDLEdBQUcsR0FBRztNQUNOQyxPQUFPLEVBQUUsU0FBUztNQUNqQkMsVUFBVSxFQUFFLFlBQVk7TUFDeEJDLE1BQU0sRUFBRSxRQUFRO01BQ2hCQyxRQUFRLEVBQUUsZ0JBQWdCO01BQzFCQyx1QkFBdUIsRUFBRSw2QkFBNkI7TUFDdERDLFNBQVMsRUFBRSx5QkFBeUI7TUFDcENDLG1CQUFtQixFQUFFLDBCQUEwQjtNQUMvQ0MsYUFBYSxFQUFFLHdCQUF3QjtNQUN2Q0MsT0FBTyxFQUFFLFlBQVk7TUFDckJDLGVBQWUsRUFBRSx5RkFBeUY7TUFDMUdDLGVBQWUsRUFBRTtJQUN0QixD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","map":{"version":3,"names":["renderer","$","css","engaged","disengaged","hidden","page_div","page_has_engaged_slated","tools_btn","toolentries_wrapper","remover_class","mainbar","mainbar_buttons","mainbar_entries","dom_references","dom_ref_to_element","thrown_for","dom_element","withHtmlId","html_id","Object","assign","getElement","engage","element","addClass","removeClass","il","UI","page","isSmallScreen","maincontrols","metabar","disengageAll","additional_engage","disengage","additional_disengage","mb_hide","on_parent","parent","mb_show","parts","triggerer","remove","attr","slate","entry_id","isInView","model","thrown","trigger","removeAttr","remover","show","slatesEngaged","removers","hide","tools_area","tools_button","getOffsetTop","offset","top","more","calcAmountOfButtons","window_height","window","height","window_width","width","horizontal","btn","first","btn_height","btn_width","amount_buttons","Math","floor","actions","addEntry","part","renderEntry","entry","is_tool","id","removeable","moveToplevelTriggerersToMore","model_state","entry_ids","keys","entries","last_entry_id","length","more_entry","more_slate","root_entries","getTopLevelEntries","root_entries_length","max_buttons","any_tools_visible","i","list","appendTo","children","render","more_button","btns","find","li","document","createElement","appendChild","setAttribute","insertBefore","more_available","any_entry_engaged","tools_engaged","idx","tools","focusSubentry","triggered_entry_id","dom_id","someting_to_focus_on","focus","focusTopentry","top_entry_id","getElementById","dispatchResizeNotification","event","CustomEvent","detail","mainbar_induced","dispatchEvent","public_interface"],"sourceRoot":"/Users/thibeau/Development/ILIAS/src/UI/templates/js/MainControls/src/","sources":["mainbar.renderer.js"],"sourcesContent":["var renderer = function($) {\n    var css = {\n        engaged: 'engaged'\n        ,disengaged: 'disengaged'\n        ,hidden: 'hidden'\n        ,page_div: 'il-layout-page'\n        ,page_has_engaged_slated: 'with-mainbar-slates-engaged'\n        ,tools_btn: 'il-mainbar-tools-button'\n        ,toolentries_wrapper: 'il-mainbar-tools-entries'\n        ,remover_class: 'il-mainbar-remove-tool'\n        ,mainbar: 'il-mainbar'\n        ,mainbar_buttons: '.il-mainbar .il-mainbar-entries .btn-bulky, .il-mainbar .il-mainbar-entries .link-bulky'\n        ,mainbar_entries: 'il-mainbar-entries'\n    },\n\n    dom_references = {},\n    dom_ref_to_element = {},\n    thrown_for = {},\n    dom_element = {\n        withHtmlId: function (html_id) {\n            return Object.assign({}, this, {html_id: html_id});\n        },\n        getElement: function(){\n            //return document.getElementById(this.html_id);\n            return $('#' + this.html_id);\n        },\n        engage: function() {\n            var element = this.getElement();\n\n            element.addClass(css.engaged);\n            element.removeClass(css.disengaged);\n\n            if(il.UI.page.isSmallScreen() && il.UI.maincontrols.metabar) {\n                il.UI.maincontrols.metabar.disengageAll();\n            }\n            this.additional_engage();\n        },\n        disengage: function() {\n            this.getElement().addClass(css.disengaged);\n            this.getElement().removeClass(css.engaged);\n            this.additional_disengage();\n        },\n        mb_hide: function(on_parent) {\n            var element = this.getElement();\n            if(on_parent) {\n                element = element.parent();\n            }\n            element.addClass(css.hidden);\n        },\n        mb_show: function(on_parent) {\n            var element = this.getElement();\n            if(on_parent) {\n                element = element.parent();\n            }\n            element.removeClass(css.hidden);\n        },\n        additional_engage: function(){},\n        additional_disengage: function(){}\n    },\n    parts = {\n        triggerer: Object.assign({}, dom_element, {\n            remove: function() {},\n            additional_engage: function(){\n                this.getElement().attr('aria-expanded', true);\n            },\n            additional_disengage: function(){\n                this.getElement().attr('aria-expanded', false);\n            }\n        }),\n        slate: Object.assign({}, dom_element, {\n            remove: null,\n            mb_hide: null,\n            mb_show: null,\n            additional_engage: function(){\n                var element = this.getElement(),\n                    entry_id = dom_ref_to_element[this.html_id],\n                    isInView = il.UI.maincontrols.mainbar.model.isInView(entry_id),\n                    thrown = thrown_for[entry_id];\n\n                element.attr('aria-hidden', false);\n                //https://www.w3.org/TR/wai-aria-practices-1.1/examples/accordion/accordion.html\n                element.attr('role', 'region');\n                if(isInView && !thrown) {\n                    element.trigger('in_view'); //this is most important for async loading of slates,\n                                                //it triggers the GlobalScreen-Service.\n                    thrown_for[entry_id] = true;\n                }\n                if(!isInView) {\n                    thrown_for[entry_id] = false;\n                }\n            },\n            additional_disengage: function(){\n                var entry_id = dom_ref_to_element[this.html_id];\n                thrown_for[entry_id] = false;\n                this.getElement().attr('aria-hidden', true);\n                this.getElement().removeAttr('role', 'region');\n            }\n        }),\n        remover: Object.assign({}, dom_element, {\n            engage: null,\n            disengage:null,\n            mb_show: function(){this.getElement().parent().show();}\n        }),\n        page: {\n            getElement: function(){\n                return $('.' + css.page_div);\n            },\n            slatesEngaged: function(engaged) {\n                if(engaged) {\n                    this.getElement().addClass(css.page_has_engaged_slated);\n                } else {\n                    this.getElement().removeClass(css.page_has_engaged_slated);\n                }\n            }\n        },\n        removers: {\n            getElement: function(){\n                return $('.' + css.remover_class);\n            },\n            mb_hide: function() {\n                this.getElement().hide();\n            }\n\n        },\n        tools_area: Object.assign({}, dom_element, {\n            getElement: function(){\n                return $(' .' + css.toolentries_wrapper);\n            }\n        }),\n        tools_button: Object.assign({}, dom_element, {\n            getElement: function(){\n                return $('.' + css.tools_btn + ' .btn');\n            },\n            remove: null,\n            additional_engage: function(){\n                this.getElement().attr('aria-expanded', true);\n            },\n            additional_disengage: function(){\n                this.getElement().attr('aria-expanded', false);\n            }\n        }),\n        mainbar: {\n            getElement: function(){\n                return $('.' + css.mainbar);\n            },\n            getOffsetTop: function() {\n                return this.getElement().offset().top;\n            }\n        }\n    },\n\n    //more-slate\n    more = {\n        calcAmountOfButtons: function() {\n\n            var window_height = $(window).height(),\n                window_width = $(window).width(),\n                horizontal = il.UI.page.isSmallScreen(),\n                btn = $(css.mainbar_buttons).first()\n                btn_height = btn.height(),\n                btn_width = btn.width(),\n                amount_buttons = Math.floor(\n                    (window_height - parts.mainbar.getOffsetTop()) / btn_height\n                );\n\n            if(horizontal) {\n                amount_buttons = Math.floor(window_width / btn_width);\n            }\n            return amount_buttons;\n        }\n    },\n\n    actions = {\n        addEntry: function (entry_id, part, html_id) {\n            dom_references[entry_id] = dom_references[entry_id] || {};\n            dom_references[entry_id][part] = html_id;\n            dom_ref_to_element[html_id] = entry_id;\n            thrown_for[entry_id] = false;\n        },\n        renderEntry: function (entry, is_tool) {\n            if(!dom_references[entry.id]){\n                return;\n            }\n\n            var triggerer = parts.triggerer.withHtmlId(dom_references[entry.id].triggerer),\n                slate = parts.slate.withHtmlId(dom_references[entry.id].slate);\n                \n                //a11y\n                triggerer.getElement().attr('aria-controls', slate.html_id);\n                triggerer.getElement().attr('aria-labelledby', triggerer.html_id);\n                //a11y\n\n            if(entry.hidden) {\n                triggerer.mb_hide(is_tool);\n            } else {\n                triggerer.mb_show(is_tool);\n            }\n\n            if(entry.engaged) {\n                triggerer.engage();\n                slate.engage();\n                if(entry.removeable) {\n                    remover = parts.remover.withHtmlId(dom_references[entry.id].remover);\n                    remover.mb_show(true);\n                }\n            } else {\n                triggerer.disengage();\n                slate.disengage();\n            }\n        },\n\n        moveToplevelTriggerersToMore: function (model_state) {\n            var entry_ids = Object.keys(model_state.entries),\n                last_entry_id = entry_ids[entry_ids.length - 1],\n                more_entry = model_state.entries[last_entry_id],\n                more_slate = parts.slate.withHtmlId(dom_references[more_entry.id].slate),\n                root_entries = il.UI.maincontrols.mainbar.model.getTopLevelEntries(),\n                root_entries_length = root_entries.length - 1,\n                max_buttons = more.calcAmountOfButtons() - 1; //room for the more-button\n\n            if(model_state.any_tools_visible()) { max_buttons--};\n\n            for(i = max_buttons; i < root_entries_length; i++) {\n                btn = parts.triggerer.withHtmlId(dom_references[root_entries[i].id].triggerer);\n                list = btn.getElement().parent();\n                btn.getElement().appendTo(more_slate.getElement().children('.il-maincontrols-slate-content'));\n                list.remove();\n            }\n        },\n        render: function (model_state) {\n            var entry_ids = Object.keys(model_state.entries),\n                last_entry_id = entry_ids[entry_ids.length - 1],\n                more_entry = model_state.entries[last_entry_id],\n                more_button = parts.triggerer.withHtmlId(dom_references[more_entry.id].triggerer),\n                more_slate = parts.slate.withHtmlId(dom_references[more_entry.id].slate);\n                //reset\n                btns = more_slate.getElement().find('.btn-bulky, .link-bulky');\n                for(var i = 0; i < btns.length; i = i + 1) {\n                    li = document.createElement('li');\n                    li.appendChild(btns[i]);\n                    li.setAttribute('role', 'none');\n                    $(li).insertBefore(more_button.getElement().parent());\n                }\n\n            if(model_state.more_available) {\n                more_button.getElement().parent().show();\n                actions.moveToplevelTriggerersToMore(model_state);\n            } else {\n                more_button.getElement().parent().hide();\n            }\n\n            parts.page.slatesEngaged(model_state.any_entry_engaged || model_state.tools_engaged);\n\n            if(model_state.any_tools_visible()) {\n                parts.tools_button.mb_show();\n            } else {\n                parts.tools_button.mb_hide();\n            }\n\n            if(model_state.tools_engaged){\n                parts.tools_button.engage();\n                parts.tools_area.engage();\n            } else {\n                parts.tools_button.disengage();\n                parts.tools_area.disengage();\n            }\n\n            for(idx in model_state.entries) {\n                actions.renderEntry(model_state.entries[idx], false);\n            }\n            for(idx in model_state.tools) {\n                actions.renderEntry(model_state.tools[idx], true);\n            }\n            //unfortunately, this does not work properly via a class\n            $('.' + css.mainbar_entries).css('visibility', 'visible');\n        },\n        focusSubentry: function(triggered_entry_id) {\n            var dom_id = dom_references[triggered_entry_id],\n                someting_to_focus_on = $('#' + dom_id.slate)\n                    .children().first()\n                    .children().first();\n            if(someting_to_focus_on[0]){\n                if(!someting_to_focus_on.attr('tabindex')) { //cannot focus w/o index\n                    someting_to_focus_on.attr('tabindex', '-1');\n                }\n                someting_to_focus_on[0].focus();\n            }\n        },\n        focusTopentry: function(top_entry_id) {\n            var  triggerer = dom_references[top_entry_id];\n            document.getElementById(triggerer.triggerer).focus();\n        },\n\n        dispatchResizeNotification: function(top_entry_id) {\n            var event = new CustomEvent(\n                'resize',\n                {detail : {mainbar_induced : true}}\n            );\n            window.dispatchEvent(event);\n        }\n    },\n    public_interface = {\n        addEntry: actions.addEntry,\n        calcAmountOfButtons: more.calcAmountOfButtons,\n        render: actions.render,\n        focusSubentry: actions.focusSubentry,\n        focusTopentry: actions.focusTopentry,\n        dispatchResizeNotification: actions.dispatchResizeNotification\n    };\n\n    return public_interface;\n}\n\nexport default renderer;\n"],"mappings":"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"}},"mtime":1671033224927}}