{"version":3,"file":"index.min.js","sources":["../src/browser.ts","../src/props.ts","../src/ponyfills.ts","../src/constants.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/bindGlobalEventListeners.ts","../src/createTippy.ts","../src/index.ts","../src/group.ts"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS =\n  isBrowser &&\n  /iPhone|iPad|iPod/.test(navigator.platform) &&\n  !(window as any).MSStream\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  a11y: true,\n  allowHTML: true,\n  animateFill: true,\n  animation: 'shift-away',\n  appendTo: () => document.body,\n  aria: 'describedby',\n  arrow: false,\n  arrowType: 'sharp',\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnInit: false,\n  size: 'regular',\n  sticky: false,\n  target: '',\n  theme: 'dark',\n  touch: true,\n  touchHold: false,\n  trigger: 'mouseenter focus',\n  updateDuration: 0,\n  wait: null,\n  zIndex: 9999,\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'arrowType',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","import { isBrowser } from './browser'\n\nconst elementProto: Record<string, any> = isBrowser ? Element.prototype : {}\n\nexport const matches =\n  elementProto.matches ||\n  elementProto.matchesSelector ||\n  elementProto.webkitMatchesSelector ||\n  elementProto.mozMatchesSelector ||\n  elementProto.msMatchesSelector\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Ponyfill for Element.prototype.closest\n */\nexport function closest(element: Element, parentSelector: string): Element {\n  return (\n    elementProto.closest ||\n    function(selector: string) {\n      // @ts-ignore\n      let el = this\n      while (el) {\n        if (matches.call(el, selector)) {\n          return el\n        }\n        el = el.parentElement\n      }\n    }\n  ).call(element, parentSelector)\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | undefined {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n    element = element.parentElement\n  }\n}\n","// Passive event listener config\nexport const PASSIVE = { passive: true }\n\n// Popper `preventOverflow` padding\nexport const PADDING = 4\n\n// Popper attributes\n// In Popper v2 these will be `data-*` instead of `x-*` to adhere to HTML5 spec\nexport const PLACEMENT_ATTRIBUTE = 'x-placement'\nexport const OUT_OF_BOUNDARIES_ATTRIBUTE = 'x-out-of-boundaries'\n\n// Classes\nexport const IOS_CLASS = 'tippy-iOS'\nexport const ACTIVE_CLASS = 'tippy-active'\n\n// Selectors\nexport const POPPER_SELECTOR = '.tippy-popper'\nexport const TOOLTIP_SELECTOR = '.tippy-tooltip'\nexport const CONTENT_SELECTOR = '.tippy-content'\nexport const BACKDROP_SELECTOR = '.tippy-backdrop'\nexport const ARROW_SELECTOR = '.tippy-arrow'\nexport const ROUND_ARROW_SELECTOR = '.tippy-roundarrow'\n","import { Props, VirtualReference, ReferenceElement } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeOptions(reference: ReferenceElement): Props {\n  return keys.reduce((acc: any, key) => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n}\n\n/**\n * Polyfills the virtual reference (plain object) with Element.prototype props\n * Mutating because DOM elements are mutated, adds `_tippy` property\n */\nexport function polyfillElementPrototypeProperties(\n  virtualReference: VirtualReference & Record<string, any>,\n): void {\n  const polyfills: Record<string, any> = {\n    isVirtual: true,\n    attributes: virtualReference.attributes || {},\n    setAttribute(key: string, value: any) {\n      virtualReference.attributes[key] = value\n    },\n    getAttribute(key: string) {\n      return virtualReference.attributes[key]\n    },\n    removeAttribute(key: string) {\n      delete virtualReference.attributes[key]\n    },\n    hasAttribute(key: string) {\n      return key in virtualReference.attributes\n    },\n    addEventListener() {},\n    removeEventListener() {},\n    classList: {\n      classNames: {},\n      add(key: string) {\n        virtualReference.classList.classNames[key] = true\n      },\n      remove(key: string) {\n        delete virtualReference.classList.classNames[key]\n      },\n      contains(key: string) {\n        return key in virtualReference.classList.classNames\n      },\n    },\n  }\n\n  for (const key in polyfills) {\n    virtualReference[key] = polyfills[key]\n  }\n}\n","import {\n  Options,\n  Props,\n  ReferenceElement,\n  Targets,\n  VirtualReference,\n} from './types'\nimport { arrayFrom, matches } from './ponyfills'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeOptions } from './reference'\n\n/**\n * Determines if a value is a \"bare\" virtual element (before mutations done\n * by `polyfillElementPrototypeProperties()`). JSDOM elements show up as\n * [object Object], we can check if the value is \"element-like\" if it has\n * `addEventListener`\n */\nexport function isBareVirtualElement(value: any): boolean {\n  return (\n    {}.toString.call(value) === '[object Object]' && !value.addEventListener\n  )\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isSingular(value)) {\n    // TODO: VirtualReference is not compatible to type Element\n    return [value as Element]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return arrayFrom(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValue(value: any, index: number, defaultValue: any): any {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n  return value\n}\n\n/**\n * Debounce utility\n */\nexport function debounce(fn: Function, ms: number): () => void {\n  let timeoutId: number\n  return function() {\n    clearTimeout(timeoutId)\n    // @ts-ignore\n    timeoutId = setTimeout(() => fn.apply(this, arguments), ms)\n  }\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if an array or string includes a value\n */\nexport function includes(a: any[] | string, b: any): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Determines if the value is singular-like\n */\nexport function isSingular(value: any): value is VirtualReference | Element {\n  return (\n    !!(value && hasOwnProperty(value, 'isVirtual')) || value instanceof Element\n  )\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function evaluateValue(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter(m => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Determines if an element can receive focus\n * Always returns true for virtual objects\n */\nexport function canReceiveFocus(element: Element): boolean {\n  return element instanceof Element\n    ? matches.call(\n        element,\n        'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]',\n      ) && !element.hasAttribute('disabled')\n    : true\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Evaluates the props object by merging data attributes and\n * disabling conflicting options where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: evaluateValue(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeOptions(reference)),\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Validates an object of options with the valid default props object\n */\nexport function validateOptions(options: Options, defaultProps: Props): void {\n  Object.keys(options).forEach(option => {\n    if (!hasOwnProperty(defaultProps, option)) {\n      throw new Error(`[tippy]: \\`${option}\\` is not a valid option`)\n    }\n  })\n}\n","import Popper from 'popper.js'\nimport {\n  PopperElement,\n  Props,\n  PopperChildren,\n  HideAllOptions,\n  BasicPlacement,\n  PopperInstance,\n} from './types'\nimport { arrayFrom } from './ponyfills'\nimport { innerHTML, div } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  ROUND_ARROW_SELECTOR,\n  POPPER_SELECTOR,\n  PLACEMENT_ATTRIBUTE,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = html instanceof Element ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (props.content instanceof Element) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(ROUND_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(\n  arrowType: Props['arrowType'],\n): HTMLDivElement {\n  const arrow = div()\n  if (arrowType === 'round') {\n    arrow.className = 'tippy-roundarrow'\n    setInnerHTML(\n      arrow,\n      '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>',\n    )\n  } else {\n    arrow.className = 'tippy-arrow'\n  }\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = 'tippy-backdrop'\n  backdrop.setAttribute('data-state', 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.setAttribute('tabindex', '-1')\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.removeAttribute('tabindex')\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  // UC Browser hasn't adopted the `transitionend` event despite supporting\n  // unprefixed transitions...\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasicPlacement(popper: PopperElement): BasicPlacement {\n  const fullPlacement = popper.getAttribute(PLACEMENT_ATTRIBUTE)\n  return (fullPlacement ? fullPlacement.split('-')[0] : '') as BasicPlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(themeName => {\n    tooltip.classList[action](themeName + '-theme')\n  })\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = 'tippy-popper'\n  popper.id = `tippy-${id}`\n  popper.style.zIndex = '' + props.zIndex\n  if (props.role) {\n    popper.setAttribute('role', props.role)\n  }\n\n  const tooltip = div()\n  tooltip.className = 'tippy-tooltip'\n  tooltip.style.maxWidth =\n    props.maxWidth + (typeof props.maxWidth === 'number' ? 'px' : '')\n  tooltip.setAttribute('data-size', props.size)\n  tooltip.setAttribute('data-animation', props.animation)\n  tooltip.setAttribute('data-state', 'hidden')\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = 'tippy-content'\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(popper, tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n  if (nextProps.role) {\n    popper.setAttribute('role', nextProps.role)\n  } else {\n    popper.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow!)\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow!)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(popper, tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(popper, tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Runs the callback after the popper's position has been updated\n * update() is debounced with Promise.resolve() or setTimeout()\n * scheduleUpdate() is update() wrapped in requestAnimationFrame()\n */\nexport function afterPopperPositionUpdates(\n  popperInstance: PopperInstance,\n  callback: () => void,\n): void {\n  const { popper, options } = popperInstance\n  const { onCreate, onUpdate } = options\n\n  options.onCreate = options.onUpdate = (data: Popper.Data) => {\n    reflow(popper)\n    callback()\n\n    if (onUpdate) {\n      onUpdate(data)\n    }\n\n    options.onCreate = onCreate\n    options.onUpdate = onUpdate\n  }\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport function hideAll({\n  checkHideOnClick,\n  exclude,\n  duration,\n}: HideAllOptions = {}): void {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement) => {\n      const instance = popper._tippy\n      if (\n        instance &&\n        (checkHideOnClick ? instance.props.hideOnClick === true : true) &&\n        (!exclude || popper !== exclude.popper)\n      ) {\n        instance.hide(duration)\n      }\n    },\n  )\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasicPlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n\n/**\n * Returns the distance offset, taking into account the default offset due to\n * the transform: translate() rule (10px) in CSS\n */\nexport function getOffsetDistanceInPx(distance: number): string {\n  return -(distance - 10) + 'px'\n}\n","import { ReferenceElement } from './types'\nimport { closest, closestCallback } from './ponyfills'\nimport { isIOS } from './browser'\nimport { hideAll } from './popper'\nimport { includes } from './utils'\nimport { PASSIVE, IOS_CLASS, POPPER_SELECTOR } from './constants'\n\nexport let isUsingTouch = false\n\nexport function onDocumentTouch(): void {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\nlet lastMouseMoveTime = 0\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  // Chrome 60+ is 1 mousemove per animation frame, use 20ms time difference\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\nexport function onDocumentClick(event: MouseEvent): void {\n  // Simulated events dispatched on the document\n  if (!(event.target instanceof Element)) {\n    return hideAll()\n  }\n\n  // Clicked on an interactive popper\n  const popper: ReferenceElement = closest(event.target, POPPER_SELECTOR)\n  if (popper && popper._tippy && popper._tippy.props.interactive) {\n    return\n  }\n\n  // Clicked on a reference\n  const reference: ReferenceElement | undefined = closestCallback(\n    event.target,\n    (el: ReferenceElement) => el._tippy && el._tippy.reference === el,\n  )\n  if (reference) {\n    const instance = reference._tippy\n\n    if (instance) {\n      const isClickTrigger = includes(instance.props.trigger || '', 'click')\n\n      if (isUsingTouch || isClickTrigger) {\n        return hideAll({ exclude: instance, checkHideOnClick: true })\n      }\n\n      if (instance.props.hideOnClick !== true || isClickTrigger) {\n        return\n      }\n\n      instance.clearDelayTimeouts()\n    }\n  }\n\n  hideAll({ checkHideOnClick: true })\n}\n\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('click', onDocumentClick, true)\n  document.addEventListener('touchstart', onDocumentTouch, PASSIVE)\n  window.addEventListener('blur', onWindowBlur)\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Options,\n  Instance,\n  Content,\n  Listener,\n} from './types'\nimport { isIE } from './browser'\nimport { closest, closestCallback, arrayFrom } from './ponyfills'\nimport {\n  PASSIVE,\n  PADDING,\n  PLACEMENT_ATTRIBUTE,\n  OUT_OF_BOUNDARIES_ATTRIBUTE,\n  ACTIVE_CLASS,\n  POPPER_SELECTOR,\n} from './constants'\nimport { isUsingTouch } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  afterPopperPositionUpdates,\n  getChildren,\n  getBasicPlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  getOffsetDistanceInPx,\n} from './popper'\nimport {\n  hasOwnProperty,\n  debounce,\n  getValue,\n  getModifier,\n  includes,\n  evaluateValue,\n  setFlipModifierEnabled,\n  canReceiveFocus,\n  validateOptions,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n} from './utils'\n\nlet idCounter = 1\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= 🔒 Private members 🔒 ======================= */\n  let lastTriggerEventType: string\n  let lastMouseMoveEvent: MouseEvent\n  let showTimeoutId: number\n  let hideTimeoutId: number\n  let animationFrameId: number\n  let isScheduledToShow = false\n  let currentParentNode: Element\n  let previousPlacement: string\n  let wasVisibleDuringPreviousUpdate = false\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let debouncedOnMouseMove =\n    props.interactiveDebounce > 0\n      ? debounce(onMouseMove, props.interactiveDebounce)\n      : onMouseMove\n\n  /* ======================= 🔑 Public members 🔑 ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    set,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n\n  addTriggersToReference()\n\n  if (!props.lazy) {\n    createPopperInstance()\n    instance.popperInstance!.disableEventListeners()\n  }\n\n  if (props.showOnInit) {\n    scheduleShow()\n  }\n\n  // Ensure the reference element can receive focus (and is not a delegate)\n  if (props.a11y && !props.target && !canReceiveFocus(reference)) {\n    reference.setAttribute('tabindex', '0')\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (event: MouseEvent) => {\n    if (\n      instance.props.interactive &&\n      instance.state.isVisible &&\n      lastTriggerEventType === 'mouseenter'\n    ) {\n      scheduleShow(event)\n    }\n  })\n  popper.addEventListener('mouseleave', () => {\n    if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  return instance\n\n  /* ======================= 🔒 Private methods 🔒 ======================= */\n  /**\n   * Removes the follow cursor listener\n   */\n  function removeFollowCursorListener(): void {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor,\n    )\n  }\n\n  /**\n   * Cleans up old listeners\n   */\n  function cleanupOldMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n  }\n\n  /**\n   * Returns transitionable inner elements used in show/hide methods\n   */\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [\n      instance.popperChildren.tooltip,\n      instance.popperChildren.backdrop,\n      instance.popperChildren.content,\n    ]\n  }\n\n  /**\n   * Determines if the instance is in `followCursor` mode\n   */\n  function hasFollowCursorBehavior(): boolean {\n    return (\n      instance.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEventType !== 'focus'\n    )\n  }\n\n  /**\n   * Updates the tooltip's position on each animation frame\n   */\n  function makeSticky(): void {\n    setTransitionDuration(\n      [instance.popper],\n      isIE ? 0 : instance.props.updateDuration,\n    )\n\n    function updatePosition(): void {\n      if (instance.popperInstance) {\n        instance.popperInstance.scheduleUpdate()\n      }\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        setTransitionDuration([instance.popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned out\n   */\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        currentParentNode &&\n        currentParentNode.contains(instance.popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned in\n   */\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  /**\n   * Invokes a callback once the tooltip's CSS transition ends\n   */\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const { tooltip } = instance.popperChildren\n\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  /**\n   * Adds an event listener to the reference and stores it in `listeners`\n   */\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    instance.reference.addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  /**\n   * Adds event listeners to the reference based on the `trigger` prop\n   */\n  function addTriggersToReference(): void {\n    if (instance.props.touchHold && !instance.props.target) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach(eventType => {\n        if (eventType === 'manual') {\n          return\n        }\n\n        // Non-delegates\n        if (!instance.props.target) {\n          on(eventType, onTrigger)\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave as EventListener)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n              break\n          }\n        } else {\n          // Delegates\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseover', onDelegateShow)\n              on('mouseout', onDelegateHide)\n              break\n            case 'focus':\n              on('focusin', onDelegateShow)\n              on('focusout', onDelegateHide)\n              break\n            case 'click':\n              on(eventType, onDelegateShow)\n              break\n          }\n        }\n      })\n  }\n\n  /**\n   * Removes event listeners from the reference\n   */\n  function removeTriggersFromReference(): void {\n    listeners.forEach(({ eventType, handler, options }: Listener) => {\n      instance.reference.removeEventListener(eventType, handler, options)\n    })\n    listeners = []\n  }\n\n  /**\n   * Positions the virtual reference near the cursor\n   */\n  function positionVirtualReferenceNearCursor(event: MouseEvent): void {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    if (!instance.popperInstance) {\n      return\n    }\n\n    // Ensure virtual reference is padded to prevent tooltip from\n    // overflowing. Maybe Popper.js issue?\n    const placement = getBasicPlacement(instance.popper)\n    const padding = instance.props.arrow\n      ? PADDING + (instance.props.arrowType === 'round' ? 18 : 16)\n      : PADDING\n    const isVerticalPlacement = includes(['top', 'bottom'], placement)\n    const isHorizontalPlacement = includes(['left', 'right'], placement)\n\n    // Top / left boundary\n    let x = isVerticalPlacement ? Math.max(padding, clientX) : clientX\n    let y = isHorizontalPlacement ? Math.max(padding, clientY) : clientY\n\n    // Bottom / right boundary\n    if (isVerticalPlacement && x > padding) {\n      x = Math.min(clientX, window.innerWidth - padding)\n    }\n    if (isHorizontalPlacement && y > padding) {\n      y = Math.min(clientY, window.innerHeight - padding)\n    }\n\n    const rect = instance.reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    instance.popperInstance.reference = {\n      ...instance.popperInstance.reference,\n      getBoundingClientRect: () => ({\n        width: 0,\n        height: 0,\n        top: isHorizontal ? rect.top : y,\n        bottom: isHorizontal ? rect.bottom : y,\n        left: isVertical ? rect.left : x,\n        right: isVertical ? rect.right : x,\n      }),\n      clientWidth: 0,\n      clientHeight: 0,\n    }\n\n    instance.popperInstance.scheduleUpdate()\n\n    if (followCursor === 'initial' && instance.state.isVisible) {\n      removeFollowCursorListener()\n    }\n  }\n\n  /**\n   * Creates the tippy instance for a delegate when it's been triggered\n   */\n  function createDelegateChildTippy(event?: Event): void {\n    if (event) {\n      const targetEl: ReferenceElement = closest(\n        event.target as Element,\n        instance.props.target,\n      )\n\n      if (targetEl && !targetEl._tippy) {\n        createTippy(targetEl, {\n          ...instance.props,\n          content: evaluateValue(collectionProps.content, [targetEl]),\n          appendTo: collectionProps.appendTo,\n          target: '',\n          showOnInit: true,\n        })\n\n        scheduleShow(event)\n      }\n    }\n  }\n\n  /**\n   * Event listener invoked upon trigger\n   */\n  function onTrigger(event: Event): void {\n    if (!instance.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide()\n    } else {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener used for interactive tooltips to detect when they should\n   * hide\n   */\n  function onMouseMove(event: MouseEvent): void {\n    const referenceTheCursorIsOver = closestCallback(\n      event.target as Element,\n      (el: ReferenceElement) => el._tippy,\n    )\n\n    const isCursorOverPopper =\n      closest(event.target as Element, POPPER_SELECTOR) === instance.popper\n    const isCursorOverReference =\n      referenceTheCursorIsOver === instance.reference\n\n    if (isCursorOverPopper || isCursorOverReference) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasicPlacement(instance.popper),\n        instance.popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupOldMouseListeners()\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Event listener invoked upon mouseleave\n   */\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked upon blur\n   */\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== instance.reference) {\n      return\n    }\n\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      instance.popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked when a child target is triggered\n   */\n  function onDelegateShow(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener invoked when a child target should hide\n   */\n  function onDelegateHide(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Determines if an event listener should stop further execution due to the\n   * `touchHold` option\n   */\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const { touchHold } = instance.props\n    return (\n      (supportsTouch && isUsingTouch && touchHold && !isTouchEvent) ||\n      (isUsingTouch && !touchHold && isTouchEvent)\n    )\n  }\n\n  /**\n   * Creates the popper instance for the instance\n   */\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { tooltip, arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      // Apply all of the popper's attributes to the tootip node as well.\n      // Allows users to avoid using the .tippy-popper selector for themes.\n      tooltip.setAttribute(PLACEMENT_ATTRIBUTE, data.placement)\n      if (data.attributes[OUT_OF_BOUNDARIES_ATTRIBUTE] !== false) {\n        tooltip.setAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE, '')\n      } else {\n        tooltip.removeAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE)\n      }\n\n      // Prevents a transition when changing placements (while tippy is visible)\n      // for scroll/resize updates\n      if (\n        previousPlacement &&\n        previousPlacement !== data.placement &&\n        wasVisibleDuringPreviousUpdate\n      ) {\n        tooltip.style.transition = 'none'\n        requestAnimationFrame(() => {\n          tooltip.style.transition = ''\n        })\n      }\n      previousPlacement = data.placement\n      wasVisibleDuringPreviousUpdate = instance.state.isVisible\n\n      const basicPlacement = getBasicPlacement(instance.popper)\n      const styles = tooltip.style\n\n      // Account for the `distance` offset\n      styles.top = styles.bottom = styles.left = styles.right = ''\n      styles[basicPlacement] = getOffsetDistanceInPx(instance.props.distance)\n\n      const padding =\n        preventOverflowModifier && preventOverflowModifier.padding !== undefined\n          ? preventOverflowModifier.padding\n          : PADDING\n\n      const isPaddingNumber = typeof padding === 'number'\n\n      const computedPadding = {\n        top: isPaddingNumber ? padding : padding.top,\n        bottom: isPaddingNumber ? padding : padding.bottom,\n        left: isPaddingNumber ? padding : padding.left,\n        right: isPaddingNumber ? padding : padding.right,\n        ...(!isPaddingNumber && padding),\n      }\n\n      computedPadding[basicPlacement] = isPaddingNumber\n        ? padding + instance.props.distance\n        : (padding[basicPlacement] || 0) + instance.props.distance\n\n      instance.popperInstance!.modifiers.filter(\n        m => m.name === 'preventOverflow',\n      )[0].padding = computedPadding\n    }\n\n    const config = {\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PADDING,\n          ...preventOverflowModifier,\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          // The tooltip is offset by 10px from the popper in CSS,\n          // we need to account for its distance\n          padding: instance.props.distance + PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      // This gets invoked when calling `.set()` and updating a popper\n      // instance dependency, since a new popper instance gets created\n      onCreate(data: Popper.Data) {\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onCreate) {\n          popperOptions.onCreate(data)\n        }\n      },\n      // This gets invoked on initial create and show()/scroll/resize update.\n      // This is due to `afterPopperPositionUpdates` overwriting onCreate()\n      // with onUpdate()\n      onUpdate(data: Popper.Data) {\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onUpdate) {\n          popperOptions.onUpdate(data)\n        }\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      instance.reference,\n      instance.popper,\n      config,\n    ) as PopperInstance\n  }\n\n  /**\n   * Mounts the tooltip to the DOM, callback to show tooltip is run **after**\n   * popper's position has updated\n   */\n  function mount(callback: () => void): void {\n    const shouldEnableListeners =\n      !hasFollowCursorBehavior() &&\n      !(instance.props.followCursor === 'initial' && isUsingTouch)\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n      if (!shouldEnableListeners) {\n        instance.popperInstance!.disableEventListeners()\n      }\n    } else {\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance.scheduleUpdate()\n        if (shouldEnableListeners) {\n          instance.popperInstance.enableEventListeners()\n        }\n      }\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n    }\n\n    // If the instance previously had followCursor behavior, it will be\n    // positioned incorrectly if triggered by `focus` afterwards.\n    // Update the reference back to the real DOM element\n    instance.popperInstance!.reference = instance.reference\n    const { arrow } = instance.popperChildren\n\n    if (hasFollowCursorBehavior()) {\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n      if (lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    } else if (arrow) {\n      arrow.style.margin = ''\n    }\n\n    // Allow followCursor: 'initial' on touch devices\n    if (\n      isUsingTouch &&\n      lastMouseMoveEvent &&\n      instance.props.followCursor === 'initial'\n    ) {\n      positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n    }\n\n    afterPopperPositionUpdates(instance.popperInstance!, callback)\n\n    const { appendTo } = instance.props\n\n    currentParentNode =\n      appendTo === 'parent'\n        ? instance.reference.parentNode\n        : evaluateValue(appendTo, [instance.reference])\n\n    if (!currentParentNode.contains(instance.popper)) {\n      currentParentNode.appendChild(instance.popper)\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n    }\n  }\n\n  /**\n   * Setup before show() is invoked (delays, etc.)\n   */\n  function scheduleShow(event?: Event): void {\n    clearDelayTimeouts()\n\n    if (instance.state.isVisible) {\n      return\n    }\n\n    // Is a delegate, create an instance for the child target\n    if (instance.props.target) {\n      return createDelegateChildTippy(event)\n    }\n\n    isScheduledToShow = true\n\n    if (instance.props.wait) {\n      return instance.props.wait(instance, event)\n    }\n\n    // If the tooltip has a delay, we need to be listening to the mousemove as\n    // soon as the trigger event is fired, so that it's in the correct position\n    // upon mount.\n    // Edge case: if the tooltip is still mounted, but then scheduleShow() is\n    // called, it causes a jump.\n    if (hasFollowCursorBehavior() && !instance.state.isMounted) {\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    const delay = getValue(instance.props.delay, 0, defaultProps.delay)\n\n    if (delay) {\n      showTimeoutId = setTimeout(() => {\n        show()\n      }, delay)\n    } else {\n      show()\n    }\n  }\n\n  /**\n   * Setup before hide() is invoked (delays, etc.)\n   */\n  function scheduleHide(): void {\n    clearDelayTimeouts()\n\n    if (!instance.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isScheduledToShow = false\n\n    const delay = getValue(instance.props.delay, 1, defaultProps.delay)\n\n    if (delay) {\n      hideTimeoutId = setTimeout(() => {\n        if (instance.state.isVisible) {\n          hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      animationFrameId = requestAnimationFrame(() => {\n        hide()\n      })\n    }\n  }\n\n  /* ======================= 🔑 Public methods 🔑 ======================= */\n  /**\n   * Enables the instance to allow it to show or hide\n   */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  /**\n   * Disables the instance to disallow it to show or hide\n   */\n  function disable(): void {\n    instance.state.isEnabled = false\n  }\n\n  /**\n   * Clears pending timeouts related to the `delay` prop if any\n   */\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeoutId)\n    clearTimeout(hideTimeoutId)\n    cancelAnimationFrame(animationFrameId)\n  }\n\n  /**\n   * Sets new props for the instance and redraws the tooltip\n   */\n  function set(options: Options): void {\n    // Backwards-compatible after TypeScript change\n    options = options || {}\n\n    validateOptions(options, defaultProps)\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(instance.reference, {\n      ...instance.props,\n      ...options,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(options, 'ignoreAttributes')\n      ? options.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    if (\n      hasOwnProperty(options, 'trigger') ||\n      hasOwnProperty(options, 'touchHold')\n    ) {\n      removeTriggersFromReference()\n      addTriggersToReference()\n    }\n\n    if (hasOwnProperty(options, 'interactiveDebounce')) {\n      cleanupOldMouseListeners()\n      debouncedOnMouseMove = debounce(\n        onMouseMove,\n        options.interactiveDebounce || 0,\n      )\n    }\n\n    updatePopperElement(instance.popper, prevProps, nextProps)\n    instance.popperChildren = getChildren(instance.popper)\n\n    if (instance.popperInstance) {\n      instance.popperInstance.update()\n\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some(prop => {\n          return (\n            hasOwnProperty(options, prop) && options[prop] !== prevProps[prop]\n          )\n        })\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (!instance.state.isVisible) {\n          instance.popperInstance.disableEventListeners()\n        }\n\n        if (instance.props.followCursor && lastMouseMoveEvent) {\n          positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n        }\n      }\n    }\n  }\n\n  /**\n   * Shortcut for .set({ content: newContent })\n   */\n  function setContent(content: Content): void {\n    set({ content })\n  }\n\n  /**\n   * Shows the tooltip\n   */\n  function show(\n    duration: number = getValue(\n      instance.props.duration,\n      0,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (\n      instance.state.isDestroyed ||\n      !instance.state.isEnabled ||\n      (isUsingTouch && !instance.props.touch)\n    ) {\n      return\n    }\n\n    // Standardize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (instance.reference.hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    instance.popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    if (instance.props.interactive) {\n      instance.reference.classList.add(ACTIVE_CLASS)\n    }\n\n    const transitionableElements = getTransitionableElements()\n\n    // Prevent a transition if the popper is at the opposite placement\n    setTransitionDuration(transitionableElements.concat(instance.popper), 0)\n\n    mount(() => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Double update will apply correct mutations\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance!.update()\n      }\n\n      if (instance.popperChildren.backdrop) {\n        instance.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 12) + 'ms'\n      }\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setTransitionDuration([instance.popper], props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      onTransitionedIn(duration, () => {\n        if (instance.props.aria) {\n          instance.reference.setAttribute(\n            `aria-${instance.props.aria}`,\n            instance.popper.id,\n          )\n        }\n\n        instance.props.onShown(instance)\n        instance.state.isShown = true\n      })\n    })\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  function hide(\n    duration: number = getValue(\n      instance.props.duration,\n      1,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (instance.state.isDestroyed || !instance.state.isEnabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false) {\n      return\n    }\n\n    instance.popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n    wasVisibleDuringPreviousUpdate = false\n\n    if (instance.props.interactive) {\n      instance.reference.classList.remove(ACTIVE_CLASS)\n    }\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    onTransitionedOut(duration, () => {\n      if (!isScheduledToShow) {\n        removeFollowCursorListener()\n      }\n\n      if (instance.props.aria) {\n        instance.reference.removeAttribute(`aria-${instance.props.aria}`)\n      }\n\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      currentParentNode.removeChild(instance.popper)\n      instance.props.onHidden(instance)\n      instance.state.isMounted = false\n    })\n  }\n\n  /**\n   * Destroys the tooltip\n   */\n  function destroy(destroyTargetInstances?: boolean): void {\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    // If the popper is currently mounted to the DOM, we want to ensure it gets\n    // hidden and unmounted instantly upon destruction\n    if (instance.state.isMounted) {\n      hide(0)\n    }\n\n    removeTriggersFromReference()\n\n    delete instance.reference._tippy\n\n    if (instance.props.target && destroyTargetInstances) {\n      arrayFrom(\n        instance.reference.querySelectorAll(instance.props.target),\n      ).forEach((child: ReferenceElement) => {\n        if (child._tippy) {\n          child._tippy.destroy()\n        }\n      })\n    }\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport group from './group'\nimport { polyfillElementPrototypeProperties } from './reference'\nimport { arrayFrom } from './ponyfills'\nimport { hideAll } from './popper'\nimport {\n  isSingular,\n  isBareVirtualElement,\n  getArrayOfElements,\n  validateOptions,\n} from './utils'\nimport { Options, Props, Instance, Targets, VirtualReference } from './types'\n\nlet globalEventListenersBound = false\n\n/**\n * Exported module\n */\nfunction tippy(targets: Targets, options?: Options): Instance | Instance[] {\n  validateOptions(options || {}, defaultProps)\n\n  if (!globalEventListenersBound) {\n    bindGlobalEventListeners()\n    globalEventListenersBound = true\n  }\n\n  const props: Props = { ...defaultProps, ...options }\n\n  // If they are specifying a virtual positioning reference, we need to polyfill\n  // some native DOM props\n  if (isBareVirtualElement(targets)) {\n    polyfillElementPrototypeProperties(targets as VirtualReference)\n  }\n\n  const instances = getArrayOfElements(targets).reduce<Instance[]>(\n    (acc, reference) => {\n      const instance = reference && createTippy(reference, props)\n      if (instance) {\n        acc.push(instance)\n      }\n      return acc\n    },\n    [],\n  )\n\n  return isSingular(targets) ? instances[0] : instances\n}\n\n/**\n * Static props\n */\ntippy.version = version\ntippy.defaults = defaultProps\n\n/**\n * Static methods\n */\ntippy.setDefaults = (partialDefaults: Options) => {\n  Object.keys(partialDefaults).forEach(key => {\n    // @ts-ignore\n    defaultProps[key] = partialDefaults[key]\n  })\n}\ntippy.hideAll = hideAll\ntippy.group = group\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach(el => {\n    const content = el.getAttribute('data-tippy')\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n","import { GroupedInstance, GroupOptions } from './types'\nimport { hasOwnProperty } from './utils'\n\n/**\n * Groups an array of instances by taking control of their props during\n * certain lifecycles.\n */\nexport default function group(\n  instances: GroupedInstance[],\n  { delay = instances[0].props.delay, duration = 0 }: GroupOptions = {},\n): void {\n  // Already grouped. Cannot group instances more than once (yet) or stale lifecycle\n  // closures will be invoked, causing a stack overflow\n  if (instances.some(instance => hasOwnProperty(instance, '_originalProps'))) {\n    return\n  }\n\n  let isAnyTippyOpen = false\n\n  instances.forEach(instance => {\n    instance._originalProps = { ...instance.props }\n  })\n\n  function setIsAnyTippyOpen(value: boolean): void {\n    isAnyTippyOpen = value\n    updateInstances()\n  }\n\n  function onShow(instance: GroupedInstance): void {\n    instance._originalProps.onShow(instance)\n    instances.forEach(instance => {\n      instance.set({ duration })\n      instance.hide()\n    })\n    setIsAnyTippyOpen(true)\n  }\n\n  function onHide(instance: GroupedInstance): void {\n    instance._originalProps.onHide(instance)\n    setIsAnyTippyOpen(false)\n  }\n\n  function onShown(instance: GroupedInstance): void {\n    instance._originalProps.onShown(instance)\n    instance.set({ duration: instance._originalProps.duration })\n  }\n\n  function updateInstances(): void {\n    instances.forEach(instance => {\n      instance.set({\n        onShow,\n        onShown,\n        onHide,\n        delay: isAnyTippyOpen\n          ? [0, Array.isArray(delay) ? delay[1] : delay]\n          : delay,\n        duration: isAnyTippyOpen ? duration : instance._originalProps.duration,\n      })\n    })\n  }\n\n  updateInstances()\n}\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","MSStream","defaultProps","a11y","allowHTML","animateFill","animation","appendTo","body","aria","arrow","arrowType","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onHidden","onHide","onMount","onShow","onShown","placement","popperOptions","role","showOnInit","size","sticky","target","theme","touch","touchHold","trigger","updateDuration","wait","zIndex","POPPER_INSTANCE_DEPENDENCIES","elementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","arrayFrom","value","slice","call","closest","element","parentSelector","selector","el","this","parentElement","closestCallback","callback","PASSIVE","passive","PADDING","PLACEMENT_ATTRIBUTE","OUT_OF_BOUNDARIES_ATTRIBUTE","IOS_CLASS","ACTIVE_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","ROUND_ARROW_SELECTOR","keys","Object","hasOwnProperty","obj","key","getValue","index","defaultValue","Array","isArray","v","debounce","fn","ms","timeoutId","clearTimeout","setTimeout","apply","_this","arguments","getModifier","modifiers","includes","a","b","indexOf","isSingular","evaluateValue","args","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","style","transitionDuration","setVisibilityState","state","setAttribute","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeOptions","validateOptions","options","option","Error","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","createArrowElement","className","createBackdropElement","addInteractive","updateTransitionEndListener","action","listener","eventName","undefined","webkitTransition","getBasicPlacement","fullPlacement","split","updateTheme","themeName","classList","hideAll","checkHideOnClick","exclude","querySelectorAll","instance","_tippy","hide","isUsingTouch","onDocumentTouch","add","performance","addEventListener","onDocumentMouseMove","lastMouseMoveTime","now","removeEventListener","remove","onDocumentClick","event","isClickTrigger","clearDelayTimeouts","onWindowBlur","activeElement","blur","idCounter","createTippy","collectionProps","lastTriggerEventType","lastMouseMoveEvent","showTimeoutId","hideTimeoutId","animationFrameId","currentParentNode","previousPlacement","currentTransitionEndListener","isScheduledToShow","wasVisibleDuringPreviousUpdate","listeners","debouncedOnMouseMove","onMouseMove","id","createPopperElement","popperChildren","popperInstance","isEnabled","isVisible","isDestroyed","isMounted","isShown","set","show","enable","disable","destroy","destroyTargetInstances","removeTriggersFromReference","child","addTriggersToReference","createPopperInstance","disableEventListeners","scheduleShow","hasAttribute","removeFollowCursorListener","positionVirtualReferenceNearCursor","cleanupOldMouseListeners","scheduleHide","getTransitionableElements","hasFollowCursorBehavior","onTransitionEnd","on","eventType","handler","push","onTrigger","onMouseLeave","onDelegateShow","onDelegateHide","onBlur","clientX","clientY","padding","isVerticalPlacement","isHorizontalPlacement","x","Math","max","y","min","innerWidth","innerHeight","rect","getBoundingClientRect","isHorizontal","isVertical","width","height","top","bottom","left","right","clientWidth","clientHeight","scheduleUpdate","isEventListenerStopped","type","MouseEvent","referenceTheCursorIsOver","isCursorOverPopper","isCursorOverReference","popperPlacement","popperRect","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","contains","supportsTouch","isTouchEvent","preventOverflowModifier","applyMutations","data","flipped","attributes","removeAttribute","transition","requestAnimationFrame","basicPlacement","styles","isPaddingNumber","computedPadding","config","preventOverflow","boundariesElement","behavior","onCreate","onUpdate","Popper","targetEl","createDelegateChildTippy","cancelAnimationFrame","prevProps","nextProps","removeChild","replaceChild","removeInteractive","removeInertia","updatePopperElement","update","some","prop","visibility","transitionableElements","concat","shouldEnableListeners","enableEventListeners","margin","offsetHeight","reflow","afterPopperPositionUpdates","parentNode","mount","transitionDelay","round","updatePosition","onTransitionedIn","onTransitionedOut","globalEventListenersBound","tippy","targets","toString","virtualReference","polyfills","isVirtual","classNames","polyfillElementPrototypeProperties","instances","NodeList","getArrayOfElements","version","defaults","setDefaults","partialDefaults","group","isAnyTippyOpen","_originalProps","updateInstances","setIsAnyTippyOpen"],"mappings":"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"}